(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&r(d)}).observe(document,{childList:!0,subtree:!0});function s(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=s(o);fetch(o.href,c)}})();function Gy(i){return i&&i.__esModule&&Object.prototype.hasOwnProperty.call(i,"default")?i.default:i}var nd={exports:{}},lr={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gp;function u_(){if(Gp)return lr;Gp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function s(r,o,c){var d=null;if(c!==void 0&&(d=""+c),o.key!==void 0&&(d=""+o.key),"key"in o){c={};for(var m in o)m!=="key"&&(c[m]=o[m])}else c=o;return o=c.ref,{$$typeof:i,type:r,key:d,ref:o!==void 0?o:null,props:c}}return lr.Fragment=t,lr.jsx=s,lr.jsxs=s,lr}var Ip;function d_(){return Ip||(Ip=1,nd.exports=u_()),nd.exports}var f=d_(),id={exports:{}},ge={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yp;function h_(){if(Yp)return ge;Yp=1;var i=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),c=Symbol.for("react.consumer"),d=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),p=Symbol.for("react.suspense"),g=Symbol.for("react.memo"),v=Symbol.for("react.lazy"),b=Symbol.for("react.activity"),x=Symbol.iterator;function S(j){return j===null||typeof j!="object"?null:(j=x&&j[x]||j["@@iterator"],typeof j=="function"?j:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},T=Object.assign,O={};function R(j,k,M){this.props=j,this.context=k,this.refs=O,this.updater=M||w}R.prototype.isReactComponent={},R.prototype.setState=function(j,k){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,k,"setState")},R.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function V(){}V.prototype=R.prototype;function D(j,k,M){this.props=j,this.context=k,this.refs=O,this.updater=M||w}var Z=D.prototype=new V;Z.constructor=D,T(Z,R.prototype),Z.isPureReactComponent=!0;var X=Array.isArray;function Q(){}var J={H:null,A:null,T:null,S:null},W=Object.prototype.hasOwnProperty;function le(j,k,M){var I=M.ref;return{$$typeof:i,type:j,key:k,ref:I!==void 0?I:null,props:M}}function Oe(j,k){return le(j.type,k,j.props)}function Ge(j){return typeof j=="object"&&j!==null&&j.$$typeof===i}function $e(j){var k={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(M){return k[M]})}var We=/\/+/g;function et(j,k){return typeof j=="object"&&j!==null&&j.key!=null?$e(""+j.key):k.toString(36)}function E(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(Q,Q):(j.status="pending",j.then(function(k){j.status==="pending"&&(j.status="fulfilled",j.value=k)},function(k){j.status==="pending"&&(j.status="rejected",j.reason=k)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function A(j,k,M,I,F){var ee=typeof j;(ee==="undefined"||ee==="boolean")&&(j=null);var oe=!1;if(j===null)oe=!0;else switch(ee){case"bigint":case"string":case"number":oe=!0;break;case"object":switch(j.$$typeof){case i:case t:oe=!0;break;case v:return oe=j._init,A(oe(j._payload),k,M,I,F)}}if(oe)return F=F(j),oe=I===""?"."+et(j,0):I,X(F)?(M="",oe!=null&&(M=oe.replace(We,"$&/")+"/"),A(F,k,M,"",function(ke){return ke})):F!=null&&(Ge(F)&&(F=Oe(F,M+(F.key==null||j&&j.key===F.key?"":(""+F.key).replace(We,"$&/")+"/")+oe)),k.push(F)),1;oe=0;var pe=I===""?".":I+":";if(X(j))for(var we=0;we<j.length;we++)I=j[we],ee=pe+et(I,we),oe+=A(I,k,M,ee,F);else if(we=S(j),typeof we=="function")for(j=we.call(j),we=0;!(I=j.next()).done;)I=I.value,ee=pe+et(I,we++),oe+=A(I,k,M,ee,F);else if(ee==="object"){if(typeof j.then=="function")return A(E(j),k,M,I,F);throw k=String(j),Error("Objects are not valid as a React child (found: "+(k==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":k)+"). If you meant to render a collection of children, use an array instead.")}return oe}function U(j,k,M){if(j==null)return j;var I=[],F=0;return A(j,I,"","",function(ee){return k.call(M,ee,F++)}),I}function H(j){if(j._status===-1){var k=j._result;k=k(),k.then(function(M){(j._status===0||j._status===-1)&&(j._status=1,j._result=M)},function(M){(j._status===0||j._status===-1)&&(j._status=2,j._result=M)}),j._status===-1&&(j._status=0,j._result=k)}if(j._status===1)return j._result.default;throw j._result}var te=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var k=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(k))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)},ne={map:U,forEach:function(j,k,M){U(j,function(){k.apply(this,arguments)},M)},count:function(j){var k=0;return U(j,function(){k++}),k},toArray:function(j){return U(j,function(k){return k})||[]},only:function(j){if(!Ge(j))throw Error("React.Children.only expected to receive a single React element child.");return j}};return ge.Activity=b,ge.Children=ne,ge.Component=R,ge.Fragment=s,ge.Profiler=o,ge.PureComponent=D,ge.StrictMode=r,ge.Suspense=p,ge.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=J,ge.__COMPILER_RUNTIME={__proto__:null,c:function(j){return J.H.useMemoCache(j)}},ge.cache=function(j){return function(){return j.apply(null,arguments)}},ge.cacheSignal=function(){return null},ge.cloneElement=function(j,k,M){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var I=T({},j.props),F=j.key;if(k!=null)for(ee in k.key!==void 0&&(F=""+k.key),k)!W.call(k,ee)||ee==="key"||ee==="__self"||ee==="__source"||ee==="ref"&&k.ref===void 0||(I[ee]=k[ee]);var ee=arguments.length-2;if(ee===1)I.children=M;else if(1<ee){for(var oe=Array(ee),pe=0;pe<ee;pe++)oe[pe]=arguments[pe+2];I.children=oe}return le(j.type,F,I)},ge.createContext=function(j){return j={$$typeof:d,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:c,_context:j},j},ge.createElement=function(j,k,M){var I,F={},ee=null;if(k!=null)for(I in k.key!==void 0&&(ee=""+k.key),k)W.call(k,I)&&I!=="key"&&I!=="__self"&&I!=="__source"&&(F[I]=k[I]);var oe=arguments.length-2;if(oe===1)F.children=M;else if(1<oe){for(var pe=Array(oe),we=0;we<oe;we++)pe[we]=arguments[we+2];F.children=pe}if(j&&j.defaultProps)for(I in oe=j.defaultProps,oe)F[I]===void 0&&(F[I]=oe[I]);return le(j,ee,F)},ge.createRef=function(){return{current:null}},ge.forwardRef=function(j){return{$$typeof:m,render:j}},ge.isValidElement=Ge,ge.lazy=function(j){return{$$typeof:v,_payload:{_status:-1,_result:j},_init:H}},ge.memo=function(j,k){return{$$typeof:g,type:j,compare:k===void 0?null:k}},ge.startTransition=function(j){var k=J.T,M={};J.T=M;try{var I=j(),F=J.S;F!==null&&F(M,I),typeof I=="object"&&I!==null&&typeof I.then=="function"&&I.then(Q,te)}catch(ee){te(ee)}finally{k!==null&&M.types!==null&&(k.types=M.types),J.T=k}},ge.unstable_useCacheRefresh=function(){return J.H.useCacheRefresh()},ge.use=function(j){return J.H.use(j)},ge.useActionState=function(j,k,M){return J.H.useActionState(j,k,M)},ge.useCallback=function(j,k){return J.H.useCallback(j,k)},ge.useContext=function(j){return J.H.useContext(j)},ge.useDebugValue=function(){},ge.useDeferredValue=function(j,k){return J.H.useDeferredValue(j,k)},ge.useEffect=function(j,k){return J.H.useEffect(j,k)},ge.useEffectEvent=function(j){return J.H.useEffectEvent(j)},ge.useId=function(){return J.H.useId()},ge.useImperativeHandle=function(j,k,M){return J.H.useImperativeHandle(j,k,M)},ge.useInsertionEffect=function(j,k){return J.H.useInsertionEffect(j,k)},ge.useLayoutEffect=function(j,k){return J.H.useLayoutEffect(j,k)},ge.useMemo=function(j,k){return J.H.useMemo(j,k)},ge.useOptimistic=function(j,k){return J.H.useOptimistic(j,k)},ge.useReducer=function(j,k,M){return J.H.useReducer(j,k,M)},ge.useRef=function(j){return J.H.useRef(j)},ge.useState=function(j){return J.H.useState(j)},ge.useSyncExternalStore=function(j,k,M){return J.H.useSyncExternalStore(j,k,M)},ge.useTransition=function(){return J.H.useTransition()},ge.version="19.2.4",ge}var Kp;function ih(){return Kp||(Kp=1,id.exports=h_()),id.exports}var $=ih();const Iy=Gy($);var sd={exports:{}},or={},ad={exports:{}},rd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fp;function f_(){return Fp||(Fp=1,(function(i){function t(A,U){var H=A.length;A.push(U);e:for(;0<H;){var te=H-1>>>1,ne=A[te];if(0<o(ne,U))A[te]=U,A[H]=ne,H=te;else break e}}function s(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var U=A[0],H=A.pop();if(H!==U){A[0]=H;e:for(var te=0,ne=A.length,j=ne>>>1;te<j;){var k=2*(te+1)-1,M=A[k],I=k+1,F=A[I];if(0>o(M,H))I<ne&&0>o(F,M)?(A[te]=F,A[I]=H,te=I):(A[te]=M,A[k]=H,te=k);else if(I<ne&&0>o(F,H))A[te]=F,A[I]=H,te=I;else break e}}return U}function o(A,U){var H=A.sortIndex-U.sortIndex;return H!==0?H:A.id-U.id}if(i.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var c=performance;i.unstable_now=function(){return c.now()}}else{var d=Date,m=d.now();i.unstable_now=function(){return d.now()-m}}var p=[],g=[],v=1,b=null,x=3,S=!1,w=!1,T=!1,O=!1,R=typeof setTimeout=="function"?setTimeout:null,V=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function Z(A){for(var U=s(g);U!==null;){if(U.callback===null)r(g);else if(U.startTime<=A)r(g),U.sortIndex=U.expirationTime,t(p,U);else break;U=s(g)}}function X(A){if(T=!1,Z(A),!w)if(s(p)!==null)w=!0,Q||(Q=!0,$e());else{var U=s(g);U!==null&&E(X,U.startTime-A)}}var Q=!1,J=-1,W=5,le=-1;function Oe(){return O?!0:!(i.unstable_now()-le<W)}function Ge(){if(O=!1,Q){var A=i.unstable_now();le=A;var U=!0;try{e:{w=!1,T&&(T=!1,V(J),J=-1),S=!0;var H=x;try{t:{for(Z(A),b=s(p);b!==null&&!(b.expirationTime>A&&Oe());){var te=b.callback;if(typeof te=="function"){b.callback=null,x=b.priorityLevel;var ne=te(b.expirationTime<=A);if(A=i.unstable_now(),typeof ne=="function"){b.callback=ne,Z(A),U=!0;break t}b===s(p)&&r(p),Z(A)}else r(p);b=s(p)}if(b!==null)U=!0;else{var j=s(g);j!==null&&E(X,j.startTime-A),U=!1}}break e}finally{b=null,x=H,S=!1}U=void 0}}finally{U?$e():Q=!1}}}var $e;if(typeof D=="function")$e=function(){D(Ge)};else if(typeof MessageChannel<"u"){var We=new MessageChannel,et=We.port2;We.port1.onmessage=Ge,$e=function(){et.postMessage(null)}}else $e=function(){R(Ge,0)};function E(A,U){J=R(function(){A(i.unstable_now())},U)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(A){A.callback=null},i.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):W=0<A?Math.floor(1e3/A):5},i.unstable_getCurrentPriorityLevel=function(){return x},i.unstable_next=function(A){switch(x){case 1:case 2:case 3:var U=3;break;default:U=x}var H=x;x=U;try{return A()}finally{x=H}},i.unstable_requestPaint=function(){O=!0},i.unstable_runWithPriority=function(A,U){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var H=x;x=A;try{return U()}finally{x=H}},i.unstable_scheduleCallback=function(A,U,H){var te=i.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?te+H:te):H=te,A){case 1:var ne=-1;break;case 2:ne=250;break;case 5:ne=1073741823;break;case 4:ne=1e4;break;default:ne=5e3}return ne=H+ne,A={id:v++,callback:U,priorityLevel:A,startTime:H,expirationTime:ne,sortIndex:-1},H>te?(A.sortIndex=H,t(g,A),s(p)===null&&A===s(g)&&(T?(V(J),J=-1):T=!0,E(X,H-te))):(A.sortIndex=ne,t(p,A),w||S||(w=!0,Q||(Q=!0,$e()))),A},i.unstable_shouldYield=Oe,i.unstable_wrapCallback=function(A){var U=x;return function(){var H=x;x=U;try{return A.apply(this,arguments)}finally{x=H}}}})(rd)),rd}var Xp;function m_(){return Xp||(Xp=1,ad.exports=f_()),ad.exports}var ld={exports:{}},_t={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zp;function p_(){if(Zp)return _t;Zp=1;var i=ih();function t(p){var g="https://react.dev/errors/"+p;if(1<arguments.length){g+="?args[]="+encodeURIComponent(arguments[1]);for(var v=2;v<arguments.length;v++)g+="&args[]="+encodeURIComponent(arguments[v])}return"Minified React error #"+p+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function s(){}var r={d:{f:s,r:function(){throw Error(t(522))},D:s,C:s,L:s,m:s,X:s,S:s,M:s},p:0,findDOMNode:null},o=Symbol.for("react.portal");function c(p,g,v){var b=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:o,key:b==null?null:""+b,children:p,containerInfo:g,implementation:v}}var d=i.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function m(p,g){if(p==="font")return"";if(typeof g=="string")return g==="use-credentials"?g:""}return _t.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=r,_t.createPortal=function(p,g){var v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!g||g.nodeType!==1&&g.nodeType!==9&&g.nodeType!==11)throw Error(t(299));return c(p,g,null,v)},_t.flushSync=function(p){var g=d.T,v=r.p;try{if(d.T=null,r.p=2,p)return p()}finally{d.T=g,r.p=v,r.d.f()}},_t.preconnect=function(p,g){typeof p=="string"&&(g?(g=g.crossOrigin,g=typeof g=="string"?g==="use-credentials"?g:"":void 0):g=null,r.d.C(p,g))},_t.prefetchDNS=function(p){typeof p=="string"&&r.d.D(p)},_t.preinit=function(p,g){if(typeof p=="string"&&g&&typeof g.as=="string"){var v=g.as,b=m(v,g.crossOrigin),x=typeof g.integrity=="string"?g.integrity:void 0,S=typeof g.fetchPriority=="string"?g.fetchPriority:void 0;v==="style"?r.d.S(p,typeof g.precedence=="string"?g.precedence:void 0,{crossOrigin:b,integrity:x,fetchPriority:S}):v==="script"&&r.d.X(p,{crossOrigin:b,integrity:x,fetchPriority:S,nonce:typeof g.nonce=="string"?g.nonce:void 0})}},_t.preinitModule=function(p,g){if(typeof p=="string")if(typeof g=="object"&&g!==null){if(g.as==null||g.as==="script"){var v=m(g.as,g.crossOrigin);r.d.M(p,{crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0})}}else g==null&&r.d.M(p)},_t.preload=function(p,g){if(typeof p=="string"&&typeof g=="object"&&g!==null&&typeof g.as=="string"){var v=g.as,b=m(v,g.crossOrigin);r.d.L(p,v,{crossOrigin:b,integrity:typeof g.integrity=="string"?g.integrity:void 0,nonce:typeof g.nonce=="string"?g.nonce:void 0,type:typeof g.type=="string"?g.type:void 0,fetchPriority:typeof g.fetchPriority=="string"?g.fetchPriority:void 0,referrerPolicy:typeof g.referrerPolicy=="string"?g.referrerPolicy:void 0,imageSrcSet:typeof g.imageSrcSet=="string"?g.imageSrcSet:void 0,imageSizes:typeof g.imageSizes=="string"?g.imageSizes:void 0,media:typeof g.media=="string"?g.media:void 0})}},_t.preloadModule=function(p,g){if(typeof p=="string")if(g){var v=m(g.as,g.crossOrigin);r.d.m(p,{as:typeof g.as=="string"&&g.as!=="script"?g.as:void 0,crossOrigin:v,integrity:typeof g.integrity=="string"?g.integrity:void 0})}else r.d.m(p)},_t.requestFormReset=function(p){r.d.r(p)},_t.unstable_batchedUpdates=function(p,g){return p(g)},_t.useFormState=function(p,g,v){return d.H.useFormState(p,g,v)},_t.useFormStatus=function(){return d.H.useHostTransitionStatus()},_t.version="19.2.4",_t}var Qp;function g_(){if(Qp)return ld.exports;Qp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),ld.exports=p_(),ld.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp;function y_(){if(Jp)return or;Jp=1;var i=m_(),t=ih(),s=g_();function r(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function o(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function c(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,(n.flags&4098)!==0&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function d(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function m(e){if(e.tag===31){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function p(e){if(c(e)!==e)throw Error(r(188))}function g(e){var n=e.alternate;if(!n){if(n=c(e),n===null)throw Error(r(188));return n!==e?null:e}for(var a=e,l=n;;){var u=a.return;if(u===null)break;var h=u.alternate;if(h===null){if(l=u.return,l!==null){a=l;continue}break}if(u.child===h.child){for(h=u.child;h;){if(h===a)return p(u),e;if(h===l)return p(u),n;h=h.sibling}throw Error(r(188))}if(a.return!==l.return)a=u,l=h;else{for(var y=!1,_=u.child;_;){if(_===a){y=!0,a=u,l=h;break}if(_===l){y=!0,l=u,a=h;break}_=_.sibling}if(!y){for(_=h.child;_;){if(_===a){y=!0,a=h,l=u;break}if(_===l){y=!0,l=h,a=u;break}_=_.sibling}if(!y)throw Error(r(189))}}if(a.alternate!==l)throw Error(r(190))}if(a.tag!==3)throw Error(r(188));return a.stateNode.current===a?e:n}function v(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=v(e),n!==null)return n;e=e.sibling}return null}var b=Object.assign,x=Symbol.for("react.element"),S=Symbol.for("react.transitional.element"),w=Symbol.for("react.portal"),T=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),R=Symbol.for("react.profiler"),V=Symbol.for("react.consumer"),D=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),X=Symbol.for("react.suspense"),Q=Symbol.for("react.suspense_list"),J=Symbol.for("react.memo"),W=Symbol.for("react.lazy"),le=Symbol.for("react.activity"),Oe=Symbol.for("react.memo_cache_sentinel"),Ge=Symbol.iterator;function $e(e){return e===null||typeof e!="object"?null:(e=Ge&&e[Ge]||e["@@iterator"],typeof e=="function"?e:null)}var We=Symbol.for("react.client.reference");function et(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===We?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case T:return"Fragment";case R:return"Profiler";case O:return"StrictMode";case X:return"Suspense";case Q:return"SuspenseList";case le:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case w:return"Portal";case D:return e.displayName||"Context";case V:return(e._context.displayName||"Context")+".Consumer";case Z:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case J:return n=e.displayName||null,n!==null?n:et(e.type)||"Memo";case W:n=e._payload,e=e._init;try{return et(e(n))}catch{}}return null}var E=Array.isArray,A=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},te=[],ne=-1;function j(e){return{current:e}}function k(e){0>ne||(e.current=te[ne],te[ne]=null,ne--)}function M(e,n){ne++,te[ne]=e.current,e.current=n}var I=j(null),F=j(null),ee=j(null),oe=j(null);function pe(e,n){switch(M(ee,n),M(F,e),M(I,null),n.nodeType){case 9:case 11:e=(e=n.documentElement)&&(e=e.namespaceURI)?fp(e):0;break;default:if(e=n.tagName,n=n.namespaceURI)n=fp(n),e=mp(n,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}k(I),M(I,e)}function we(){k(I),k(F),k(ee)}function ke(e){e.memoizedState!==null&&M(oe,e);var n=I.current,a=mp(n,e.type);n!==a&&(M(F,e),M(I,a))}function Ce(e){F.current===e&&(k(I),k(F)),oe.current===e&&(k(oe),ir._currentValue=H)}var ue,xt;function tt(e){if(ue===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);ue=n&&n[1]||"",xt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ue+e+xt}var Dt=!1;function wn(e,n){if(!e||Dt)return"";Dt=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var l={DetermineComponentFrameRoot:function(){try{if(n){var K=function(){throw Error()};if(Object.defineProperty(K.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(K,[])}catch(q){var P=q}Reflect.construct(e,[],K)}else{try{K.call()}catch(q){P=q}e.call(K.prototype)}}else{try{throw Error()}catch(q){P=q}(K=e())&&typeof K.catch=="function"&&K.catch(function(){})}}catch(q){if(q&&P&&typeof q.stack=="string")return[q.stack,P.stack]}return[null,null]}};l.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var u=Object.getOwnPropertyDescriptor(l.DetermineComponentFrameRoot,"name");u&&u.configurable&&Object.defineProperty(l.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var h=l.DetermineComponentFrameRoot(),y=h[0],_=h[1];if(y&&_){var N=y.split(`
`),B=_.split(`
`);for(u=l=0;l<N.length&&!N[l].includes("DetermineComponentFrameRoot");)l++;for(;u<B.length&&!B[u].includes("DetermineComponentFrameRoot");)u++;if(l===N.length||u===B.length)for(l=N.length-1,u=B.length-1;1<=l&&0<=u&&N[l]!==B[u];)u--;for(;1<=l&&0<=u;l--,u--)if(N[l]!==B[u]){if(l!==1||u!==1)do if(l--,u--,0>u||N[l]!==B[u]){var G=`
`+N[l].replace(" at new "," at ");return e.displayName&&G.includes("<anonymous>")&&(G=G.replace("<anonymous>",e.displayName)),G}while(1<=l&&0<=u);break}}}finally{Dt=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?tt(a):""}function fa(e,n){switch(e.tag){case 26:case 27:case 5:return tt(e.type);case 16:return tt("Lazy");case 13:return e.child!==n&&n!==null?tt("Suspense Fallback"):tt("Suspense");case 19:return tt("SuspenseList");case 0:case 15:return wn(e.type,!1);case 11:return wn(e.type.render,!1);case 1:return wn(e.type,!0);case 31:return tt("Activity");default:return""}}function _n(e){try{var n="",a=null;do n+=fa(e,a),a=e,e=e.return;while(e);return n}catch(l){return`
Error generating stack: `+l.message+`
`+l.stack}}var Kn=Object.prototype.hasOwnProperty,ln=i.unstable_scheduleCallback,Sn=i.unstable_cancelCallback,ma=i.unstable_shouldYield,Ho=i.unstable_requestPaint,wt=i.unstable_now,Gb=i.unstable_getCurrentPriorityLevel,Gh=i.unstable_ImmediatePriority,Ih=i.unstable_UserBlockingPriority,Vr=i.unstable_NormalPriority,Ib=i.unstable_LowPriority,Yh=i.unstable_IdlePriority,Yb=i.log,Kb=i.unstable_setDisableYieldValue,pa=null,Mt=null;function Fn(e){if(typeof Yb=="function"&&Kb(e),Mt&&typeof Mt.setStrictMode=="function")try{Mt.setStrictMode(pa,e)}catch{}}var Ut=Math.clz32?Math.clz32:Zb,Fb=Math.log,Xb=Math.LN2;function Zb(e){return e>>>=0,e===0?32:31-(Fb(e)/Xb|0)|0}var Pr=256,qr=262144,$r=4194304;function Ni(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function Hr(e,n,a){var l=e.pendingLanes;if(l===0)return 0;var u=0,h=e.suspendedLanes,y=e.pingedLanes;e=e.warmLanes;var _=l&134217727;return _!==0?(l=_&~h,l!==0?u=Ni(l):(y&=_,y!==0?u=Ni(y):a||(a=_&~e,a!==0&&(u=Ni(a))))):(_=l&~h,_!==0?u=Ni(_):y!==0?u=Ni(y):a||(a=l&~e,a!==0&&(u=Ni(a)))),u===0?0:n!==0&&n!==u&&(n&h)===0&&(h=u&-u,a=n&-n,h>=a||h===32&&(a&4194048)!==0)?n:u}function ga(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Qb(e,n){switch(e){case 1:case 2:case 4:case 8:case 64:return n+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kh(){var e=$r;return $r<<=1,($r&62914560)===0&&($r=4194304),e}function Go(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function ya(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Jb(e,n,a,l,u,h){var y=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var _=e.entanglements,N=e.expirationTimes,B=e.hiddenUpdates;for(a=y&~a;0<a;){var G=31-Ut(a),K=1<<G;_[G]=0,N[G]=-1;var P=B[G];if(P!==null)for(B[G]=null,G=0;G<P.length;G++){var q=P[G];q!==null&&(q.lane&=-536870913)}a&=~K}l!==0&&Fh(e,l,0),h!==0&&u===0&&e.tag!==0&&(e.suspendedLanes|=h&~(y&~n))}function Fh(e,n,a){e.pendingLanes|=n,e.suspendedLanes&=~n;var l=31-Ut(n);e.entangledLanes|=n,e.entanglements[l]=e.entanglements[l]|1073741824|a&261930}function Xh(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var l=31-Ut(a),u=1<<l;u&n|e[l]&n&&(e[l]|=n),a&=~u}}function Zh(e,n){var a=n&-n;return a=(a&42)!==0?1:Io(a),(a&(e.suspendedLanes|n))!==0?0:a}function Io(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Yo(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function Qh(){var e=U.p;return e!==0?e:(e=window.event,e===void 0?32:Lp(e.type))}function Jh(e,n){var a=U.p;try{return U.p=e,n()}finally{U.p=a}}var Xn=Math.random().toString(36).slice(2),ht="__reactFiber$"+Xn,Et="__reactProps$"+Xn,ss="__reactContainer$"+Xn,Ko="__reactEvents$"+Xn,Wb="__reactListeners$"+Xn,ex="__reactHandles$"+Xn,Wh="__reactResources$"+Xn,va="__reactMarker$"+Xn;function Fo(e){delete e[ht],delete e[Et],delete e[Ko],delete e[Wb],delete e[ex]}function as(e){var n=e[ht];if(n)return n;for(var a=e.parentNode;a;){if(n=a[ss]||a[ht]){if(a=n.alternate,n.child!==null||a!==null&&a.child!==null)for(e=wp(e);e!==null;){if(a=e[ht])return a;e=wp(e)}return n}e=a,a=e.parentNode}return null}function rs(e){if(e=e[ht]||e[ss]){var n=e.tag;if(n===5||n===6||n===13||n===31||n===26||n===27||n===3)return e}return null}function ba(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(r(33))}function ls(e){var n=e[Wh];return n||(n=e[Wh]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function ut(e){e[va]=!0}var ef=new Set,tf={};function Ei(e,n){os(e,n),os(e+"Capture",n)}function os(e,n){for(tf[e]=n,e=0;e<n.length;e++)ef.add(n[e])}var tx=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),nf={},sf={};function nx(e){return Kn.call(sf,e)?!0:Kn.call(nf,e)?!1:tx.test(e)?sf[e]=!0:(nf[e]=!0,!1)}function Gr(e,n,a){if(nx(n))if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var l=n.toLowerCase().slice(0,5);if(l!=="data-"&&l!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+a)}}function Ir(e,n,a){if(a===null)e.removeAttribute(n);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+a)}}function Tn(e,n,a,l){if(l===null)e.removeAttribute(a);else{switch(typeof l){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(n,a,""+l)}}function Ft(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function af(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function ix(e,n,a){var l=Object.getOwnPropertyDescriptor(e.constructor.prototype,n);if(!e.hasOwnProperty(n)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var u=l.get,h=l.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return u.call(this)},set:function(y){a=""+y,h.call(this,y)}}),Object.defineProperty(e,n,{enumerable:l.enumerable}),{getValue:function(){return a},setValue:function(y){a=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Xo(e){if(!e._valueTracker){var n=af(e)?"checked":"value";e._valueTracker=ix(e,n,""+e[n])}}function rf(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var a=n.getValue(),l="";return e&&(l=af(e)?e.checked?"true":"false":e.value),e=l,e!==a?(n.setValue(e),!0):!1}function Yr(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var sx=/[\n"\\]/g;function Xt(e){return e.replace(sx,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function Zo(e,n,a,l,u,h,y,_){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ft(n)):e.value!==""+Ft(n)&&(e.value=""+Ft(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?Qo(e,y,Ft(n)):a!=null?Qo(e,y,Ft(a)):l!=null&&e.removeAttribute("value"),u==null&&h!=null&&(e.defaultChecked=!!h),u!=null&&(e.checked=u&&typeof u!="function"&&typeof u!="symbol"),_!=null&&typeof _!="function"&&typeof _!="symbol"&&typeof _!="boolean"?e.name=""+Ft(_):e.removeAttribute("name")}function lf(e,n,a,l,u,h,y,_){if(h!=null&&typeof h!="function"&&typeof h!="symbol"&&typeof h!="boolean"&&(e.type=h),n!=null||a!=null){if(!(h!=="submit"&&h!=="reset"||n!=null)){Xo(e);return}a=a!=null?""+Ft(a):"",n=n!=null?""+Ft(n):a,_||n===e.value||(e.value=n),e.defaultValue=n}l=l??u,l=typeof l!="function"&&typeof l!="symbol"&&!!l,e.checked=_?e.checked:!!l,e.defaultChecked=!!l,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y),Xo(e)}function Qo(e,n,a){n==="number"&&Yr(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function cs(e,n,a,l){if(e=e.options,n){n={};for(var u=0;u<a.length;u++)n["$"+a[u]]=!0;for(a=0;a<e.length;a++)u=n.hasOwnProperty("$"+e[a].value),e[a].selected!==u&&(e[a].selected=u),u&&l&&(e[a].defaultSelected=!0)}else{for(a=""+Ft(a),n=null,u=0;u<e.length;u++){if(e[u].value===a){e[u].selected=!0,l&&(e[u].defaultSelected=!0);return}n!==null||e[u].disabled||(n=e[u])}n!==null&&(n.selected=!0)}}function of(e,n,a){if(n!=null&&(n=""+Ft(n),n!==e.value&&(e.value=n),a==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=a!=null?""+Ft(a):""}function cf(e,n,a,l){if(n==null){if(l!=null){if(a!=null)throw Error(r(92));if(E(l)){if(1<l.length)throw Error(r(93));l=l[0]}a=l}a==null&&(a=""),n=a}a=Ft(n),e.defaultValue=a,l=e.textContent,l===a&&l!==""&&l!==null&&(e.value=l),Xo(e)}function us(e,n){if(n){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=n;return}}e.textContent=n}var ax=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function uf(e,n,a){var l=n.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?l?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":l?e.setProperty(n,a):typeof a!="number"||a===0||ax.has(n)?n==="float"?e.cssFloat=a:e[n]=(""+a).trim():e[n]=a+"px"}function df(e,n,a){if(n!=null&&typeof n!="object")throw Error(r(62));if(e=e.style,a!=null){for(var l in a)!a.hasOwnProperty(l)||n!=null&&n.hasOwnProperty(l)||(l.indexOf("--")===0?e.setProperty(l,""):l==="float"?e.cssFloat="":e[l]="");for(var u in n)l=n[u],n.hasOwnProperty(u)&&a[u]!==l&&uf(e,u,l)}else for(var h in n)n.hasOwnProperty(h)&&uf(e,h,n[h])}function Jo(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var rx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),lx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Kr(e){return lx.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function jn(){}var Wo=null;function ec(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var ds=null,hs=null;function hf(e){var n=rs(e);if(n&&(e=n.stateNode)){var a=e[Et]||null;e:switch(e=n.stateNode,n.type){case"input":if(Zo(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),n=a.name,a.type==="radio"&&n!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+Xt(""+n)+'"][type="radio"]'),n=0;n<a.length;n++){var l=a[n];if(l!==e&&l.form===e.form){var u=l[Et]||null;if(!u)throw Error(r(90));Zo(l,u.value,u.defaultValue,u.defaultValue,u.checked,u.defaultChecked,u.type,u.name)}}for(n=0;n<a.length;n++)l=a[n],l.form===e.form&&rf(l)}break e;case"textarea":of(e,a.value,a.defaultValue);break e;case"select":n=a.value,n!=null&&cs(e,!!a.multiple,n,!1)}}}var tc=!1;function ff(e,n,a){if(tc)return e(n,a);tc=!0;try{var l=e(n);return l}finally{if(tc=!1,(ds!==null||hs!==null)&&(Dl(),ds&&(n=ds,e=hs,hs=ds=null,hf(n),e)))for(n=0;n<e.length;n++)hf(e[n])}}function xa(e,n){var a=e.stateNode;if(a===null)return null;var l=a[Et]||null;if(l===null)return null;a=l[n];e:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(l=!l.disabled)||(e=e.type,l=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!l;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(r(231,n,typeof a));return a}var Nn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),nc=!1;if(Nn)try{var wa={};Object.defineProperty(wa,"passive",{get:function(){nc=!0}}),window.addEventListener("test",wa,wa),window.removeEventListener("test",wa,wa)}catch{nc=!1}var Zn=null,ic=null,Fr=null;function mf(){if(Fr)return Fr;var e,n=ic,a=n.length,l,u="value"in Zn?Zn.value:Zn.textContent,h=u.length;for(e=0;e<a&&n[e]===u[e];e++);var y=a-e;for(l=1;l<=y&&n[a-l]===u[h-l];l++);return Fr=u.slice(e,1<l?1-l:void 0)}function Xr(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Zr(){return!0}function pf(){return!1}function At(e){function n(a,l,u,h,y){this._reactName=a,this._targetInst=u,this.type=l,this.nativeEvent=h,this.target=y,this.currentTarget=null;for(var _ in e)e.hasOwnProperty(_)&&(a=e[_],this[_]=a?a(h):h[_]);return this.isDefaultPrevented=(h.defaultPrevented!=null?h.defaultPrevented:h.returnValue===!1)?Zr:pf,this.isPropagationStopped=pf,this}return b(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Zr)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Zr)},persist:function(){},isPersistent:Zr}),n}var Ai={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Qr=At(Ai),_a=b({},Ai,{view:0,detail:0}),ox=At(_a),sc,ac,Sa,Jr=b({},_a,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lc,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Sa&&(Sa&&e.type==="mousemove"?(sc=e.screenX-Sa.screenX,ac=e.screenY-Sa.screenY):ac=sc=0,Sa=e),sc)},movementY:function(e){return"movementY"in e?e.movementY:ac}}),gf=At(Jr),cx=b({},Jr,{dataTransfer:0}),ux=At(cx),dx=b({},_a,{relatedTarget:0}),rc=At(dx),hx=b({},Ai,{animationName:0,elapsedTime:0,pseudoElement:0}),fx=At(hx),mx=b({},Ai,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),px=At(mx),gx=b({},Ai,{data:0}),yf=At(gx),yx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xx(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=bx[e])?!!n[e]:!1}function lc(){return xx}var wx=b({},_a,{key:function(e){if(e.key){var n=yx[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Xr(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vx[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lc,charCode:function(e){return e.type==="keypress"?Xr(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Xr(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_x=At(wx),Sx=b({},Jr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),vf=At(Sx),Tx=b({},_a,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lc}),jx=At(Tx),Nx=b({},Ai,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ex=At(Nx),Ax=b({},Jr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Cx=At(Ax),Ox=b({},Ai,{newState:0,oldState:0}),Rx=At(Ox),zx=[9,13,27,32],oc=Nn&&"CompositionEvent"in window,Ta=null;Nn&&"documentMode"in document&&(Ta=document.documentMode);var kx=Nn&&"TextEvent"in window&&!Ta,bf=Nn&&(!oc||Ta&&8<Ta&&11>=Ta),xf=" ",wf=!1;function _f(e,n){switch(e){case"keyup":return zx.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Sf(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var fs=!1;function Dx(e,n){switch(e){case"compositionend":return Sf(n);case"keypress":return n.which!==32?null:(wf=!0,xf);case"textInput":return e=n.data,e===xf&&wf?null:e;default:return null}}function Mx(e,n){if(fs)return e==="compositionend"||!oc&&_f(e,n)?(e=mf(),Fr=ic=Zn=null,fs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return bf&&n.locale!=="ko"?null:n.data;default:return null}}var Ux={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Tf(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ux[e.type]:n==="textarea"}function jf(e,n,a,l){ds?hs?hs.push(l):hs=[l]:ds=l,n=ql(n,"onChange"),0<n.length&&(a=new Qr("onChange","change",null,a,l),e.push({event:a,listeners:n}))}var ja=null,Na=null;function Lx(e){lp(e,0)}function Wr(e){var n=ba(e);if(rf(n))return e}function Nf(e,n){if(e==="change")return n}var Ef=!1;if(Nn){var cc;if(Nn){var uc="oninput"in document;if(!uc){var Af=document.createElement("div");Af.setAttribute("oninput","return;"),uc=typeof Af.oninput=="function"}cc=uc}else cc=!1;Ef=cc&&(!document.documentMode||9<document.documentMode)}function Cf(){ja&&(ja.detachEvent("onpropertychange",Of),Na=ja=null)}function Of(e){if(e.propertyName==="value"&&Wr(Na)){var n=[];jf(n,Na,e,ec(e)),ff(Lx,n)}}function Bx(e,n,a){e==="focusin"?(Cf(),ja=n,Na=a,ja.attachEvent("onpropertychange",Of)):e==="focusout"&&Cf()}function Vx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Wr(Na)}function Px(e,n){if(e==="click")return Wr(n)}function qx(e,n){if(e==="input"||e==="change")return Wr(n)}function $x(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var Lt=typeof Object.is=="function"?Object.is:$x;function Ea(e,n){if(Lt(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),l=Object.keys(n);if(a.length!==l.length)return!1;for(l=0;l<a.length;l++){var u=a[l];if(!Kn.call(n,u)||!Lt(e[u],n[u]))return!1}return!0}function Rf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function zf(e,n){var a=Rf(e);e=0;for(var l;a;){if(a.nodeType===3){if(l=e+a.textContent.length,e<=n&&l>=n)return{node:a,offset:n-e};e=l}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Rf(a)}}function kf(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?kf(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Df(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Yr(e.document);n instanceof e.HTMLIFrameElement;){try{var a=typeof n.contentWindow.location.href=="string"}catch{a=!1}if(a)e=n.contentWindow;else break;n=Yr(e.document)}return n}function dc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}var Hx=Nn&&"documentMode"in document&&11>=document.documentMode,ms=null,hc=null,Aa=null,fc=!1;function Mf(e,n,a){var l=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;fc||ms==null||ms!==Yr(l)||(l=ms,"selectionStart"in l&&dc(l)?l={start:l.selectionStart,end:l.selectionEnd}:(l=(l.ownerDocument&&l.ownerDocument.defaultView||window).getSelection(),l={anchorNode:l.anchorNode,anchorOffset:l.anchorOffset,focusNode:l.focusNode,focusOffset:l.focusOffset}),Aa&&Ea(Aa,l)||(Aa=l,l=ql(hc,"onSelect"),0<l.length&&(n=new Qr("onSelect","select",null,n,a),e.push({event:n,listeners:l}),n.target=ms)))}function Ci(e,n){var a={};return a[e.toLowerCase()]=n.toLowerCase(),a["Webkit"+e]="webkit"+n,a["Moz"+e]="moz"+n,a}var ps={animationend:Ci("Animation","AnimationEnd"),animationiteration:Ci("Animation","AnimationIteration"),animationstart:Ci("Animation","AnimationStart"),transitionrun:Ci("Transition","TransitionRun"),transitionstart:Ci("Transition","TransitionStart"),transitioncancel:Ci("Transition","TransitionCancel"),transitionend:Ci("Transition","TransitionEnd")},mc={},Uf={};Nn&&(Uf=document.createElement("div").style,"AnimationEvent"in window||(delete ps.animationend.animation,delete ps.animationiteration.animation,delete ps.animationstart.animation),"TransitionEvent"in window||delete ps.transitionend.transition);function Oi(e){if(mc[e])return mc[e];if(!ps[e])return e;var n=ps[e],a;for(a in n)if(n.hasOwnProperty(a)&&a in Uf)return mc[e]=n[a];return e}var Lf=Oi("animationend"),Bf=Oi("animationiteration"),Vf=Oi("animationstart"),Gx=Oi("transitionrun"),Ix=Oi("transitionstart"),Yx=Oi("transitioncancel"),Pf=Oi("transitionend"),qf=new Map,pc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");pc.push("scrollEnd");function on(e,n){qf.set(e,n),Ei(n,[e])}var el=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Zt=[],gs=0,gc=0;function tl(){for(var e=gs,n=gc=gs=0;n<e;){var a=Zt[n];Zt[n++]=null;var l=Zt[n];Zt[n++]=null;var u=Zt[n];Zt[n++]=null;var h=Zt[n];if(Zt[n++]=null,l!==null&&u!==null){var y=l.pending;y===null?u.next=u:(u.next=y.next,y.next=u),l.pending=u}h!==0&&$f(a,u,h)}}function nl(e,n,a,l){Zt[gs++]=e,Zt[gs++]=n,Zt[gs++]=a,Zt[gs++]=l,gc|=l,e.lanes|=l,e=e.alternate,e!==null&&(e.lanes|=l)}function yc(e,n,a,l){return nl(e,n,a,l),il(e)}function Ri(e,n){return nl(e,null,null,n),il(e)}function $f(e,n,a){e.lanes|=a;var l=e.alternate;l!==null&&(l.lanes|=a);for(var u=!1,h=e.return;h!==null;)h.childLanes|=a,l=h.alternate,l!==null&&(l.childLanes|=a),h.tag===22&&(e=h.stateNode,e===null||e._visibility&1||(u=!0)),e=h,h=h.return;return e.tag===3?(h=e.stateNode,u&&n!==null&&(u=31-Ut(a),e=h.hiddenUpdates,l=e[u],l===null?e[u]=[n]:l.push(n),n.lane=a|536870912),h):null}function il(e){if(50<Za)throw Za=0,Nu=null,Error(r(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var ys={};function Kx(e,n,a,l){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=l,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bt(e,n,a,l){return new Kx(e,n,a,l)}function vc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function En(e,n){var a=e.alternate;return a===null?(a=Bt(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Hf(e,n){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,n=a.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function sl(e,n,a,l,u,h){var y=0;if(l=e,typeof e=="function")vc(e)&&(y=1);else if(typeof e=="string")y=Jw(e,a,I.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case le:return e=Bt(31,a,n,u),e.elementType=le,e.lanes=h,e;case T:return zi(a.children,u,h,n);case O:y=8,u|=24;break;case R:return e=Bt(12,a,n,u|2),e.elementType=R,e.lanes=h,e;case X:return e=Bt(13,a,n,u),e.elementType=X,e.lanes=h,e;case Q:return e=Bt(19,a,n,u),e.elementType=Q,e.lanes=h,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D:y=10;break e;case V:y=9;break e;case Z:y=11;break e;case J:y=14;break e;case W:y=16,l=null;break e}y=29,a=Error(r(130,e===null?"null":typeof e,"")),l=null}return n=Bt(y,a,n,u),n.elementType=e,n.type=l,n.lanes=h,n}function zi(e,n,a,l){return e=Bt(7,e,l,n),e.lanes=a,e}function bc(e,n,a){return e=Bt(6,e,null,n),e.lanes=a,e}function Gf(e){var n=Bt(18,null,null,0);return n.stateNode=e,n}function xc(e,n,a){return n=Bt(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}var If=new WeakMap;function Qt(e,n){if(typeof e=="object"&&e!==null){var a=If.get(e);return a!==void 0?a:(n={value:e,source:n,stack:_n(n)},If.set(e,n),n)}return{value:e,source:n,stack:_n(n)}}var vs=[],bs=0,al=null,Ca=0,Jt=[],Wt=0,Qn=null,pn=1,gn="";function An(e,n){vs[bs++]=Ca,vs[bs++]=al,al=e,Ca=n}function Yf(e,n,a){Jt[Wt++]=pn,Jt[Wt++]=gn,Jt[Wt++]=Qn,Qn=e;var l=pn;e=gn;var u=32-Ut(l)-1;l&=~(1<<u),a+=1;var h=32-Ut(n)+u;if(30<h){var y=u-u%5;h=(l&(1<<y)-1).toString(32),l>>=y,u-=y,pn=1<<32-Ut(n)+u|a<<u|l,gn=h+e}else pn=1<<h|a<<u|l,gn=e}function wc(e){e.return!==null&&(An(e,1),Yf(e,1,0))}function _c(e){for(;e===al;)al=vs[--bs],vs[bs]=null,Ca=vs[--bs],vs[bs]=null;for(;e===Qn;)Qn=Jt[--Wt],Jt[Wt]=null,gn=Jt[--Wt],Jt[Wt]=null,pn=Jt[--Wt],Jt[Wt]=null}function Kf(e,n){Jt[Wt++]=pn,Jt[Wt++]=gn,Jt[Wt++]=Qn,pn=n.id,gn=n.overflow,Qn=e}var ft=null,Ve=null,je=!1,Jn=null,en=!1,Sc=Error(r(519));function Wn(e){var n=Error(r(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Oa(Qt(n,e)),Sc}function Ff(e){var n=e.stateNode,a=e.type,l=e.memoizedProps;switch(n[ht]=e,n[Et]=l,a){case"dialog":xe("cancel",n),xe("close",n);break;case"iframe":case"object":case"embed":xe("load",n);break;case"video":case"audio":for(a=0;a<Ja.length;a++)xe(Ja[a],n);break;case"source":xe("error",n);break;case"img":case"image":case"link":xe("error",n),xe("load",n);break;case"details":xe("toggle",n);break;case"input":xe("invalid",n),lf(n,l.value,l.defaultValue,l.checked,l.defaultChecked,l.type,l.name,!0);break;case"select":xe("invalid",n);break;case"textarea":xe("invalid",n),cf(n,l.value,l.defaultValue,l.children)}a=l.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||n.textContent===""+a||l.suppressHydrationWarning===!0||dp(n.textContent,a)?(l.popover!=null&&(xe("beforetoggle",n),xe("toggle",n)),l.onScroll!=null&&xe("scroll",n),l.onScrollEnd!=null&&xe("scrollend",n),l.onClick!=null&&(n.onclick=jn),n=!0):n=!1,n||Wn(e,!0)}function Xf(e){for(ft=e.return;ft;)switch(ft.tag){case 5:case 31:case 13:en=!1;return;case 27:case 3:en=!0;return;default:ft=ft.return}}function xs(e){if(e!==ft)return!1;if(!je)return Xf(e),je=!0,!1;var n=e.tag,a;if((a=n!==3&&n!==27)&&((a=n===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||qu(e.type,e.memoizedProps)),a=!a),a&&Ve&&Wn(e),Xf(e),n===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ve=xp(e)}else if(n===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(317));Ve=xp(e)}else n===27?(n=Ve,fi(e.type)?(e=Yu,Yu=null,Ve=e):Ve=n):Ve=ft?nn(e.stateNode.nextSibling):null;return!0}function ki(){Ve=ft=null,je=!1}function Tc(){var e=Jn;return e!==null&&(zt===null?zt=e:zt.push.apply(zt,e),Jn=null),e}function Oa(e){Jn===null?Jn=[e]:Jn.push(e)}var jc=j(null),Di=null,Cn=null;function ei(e,n,a){M(jc,n._currentValue),n._currentValue=a}function On(e){e._currentValue=jc.current,k(jc)}function Nc(e,n,a){for(;e!==null;){var l=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,l!==null&&(l.childLanes|=n)):l!==null&&(l.childLanes&n)!==n&&(l.childLanes|=n),e===a)break;e=e.return}}function Ec(e,n,a,l){var u=e.child;for(u!==null&&(u.return=e);u!==null;){var h=u.dependencies;if(h!==null){var y=u.child;h=h.firstContext;e:for(;h!==null;){var _=h;h=u;for(var N=0;N<n.length;N++)if(_.context===n[N]){h.lanes|=a,_=h.alternate,_!==null&&(_.lanes|=a),Nc(h.return,a,e),l||(y=null);break e}h=_.next}}else if(u.tag===18){if(y=u.return,y===null)throw Error(r(341));y.lanes|=a,h=y.alternate,h!==null&&(h.lanes|=a),Nc(y,a,e),y=null}else y=u.child;if(y!==null)y.return=u;else for(y=u;y!==null;){if(y===e){y=null;break}if(u=y.sibling,u!==null){u.return=y.return,y=u;break}y=y.return}u=y}}function ws(e,n,a,l){e=null;for(var u=n,h=!1;u!==null;){if(!h){if((u.flags&524288)!==0)h=!0;else if((u.flags&262144)!==0)break}if(u.tag===10){var y=u.alternate;if(y===null)throw Error(r(387));if(y=y.memoizedProps,y!==null){var _=u.type;Lt(u.pendingProps.value,y.value)||(e!==null?e.push(_):e=[_])}}else if(u===oe.current){if(y=u.alternate,y===null)throw Error(r(387));y.memoizedState.memoizedState!==u.memoizedState.memoizedState&&(e!==null?e.push(ir):e=[ir])}u=u.return}e!==null&&Ec(n,e,a,l),n.flags|=262144}function rl(e){for(e=e.firstContext;e!==null;){if(!Lt(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Mi(e){Di=e,Cn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function mt(e){return Zf(Di,e)}function ll(e,n){return Di===null&&Mi(e),Zf(e,n)}function Zf(e,n){var a=n._currentValue;if(n={context:n,memoizedValue:a,next:null},Cn===null){if(e===null)throw Error(r(308));Cn=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else Cn=Cn.next=n;return a}var Fx=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(a,l){e.push(l)}};this.abort=function(){n.aborted=!0,e.forEach(function(a){return a()})}},Xx=i.unstable_scheduleCallback,Zx=i.unstable_NormalPriority,nt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ac(){return{controller:new Fx,data:new Map,refCount:0}}function Ra(e){e.refCount--,e.refCount===0&&Xx(Zx,function(){e.controller.abort()})}var za=null,Cc=0,_s=0,Ss=null;function Qx(e,n){if(za===null){var a=za=[];Cc=0,_s=zu(),Ss={status:"pending",value:void 0,then:function(l){a.push(l)}}}return Cc++,n.then(Qf,Qf),n}function Qf(){if(--Cc===0&&za!==null){Ss!==null&&(Ss.status="fulfilled");var e=za;za=null,_s=0,Ss=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function Jx(e,n){var a=[],l={status:"pending",value:null,reason:null,then:function(u){a.push(u)}};return e.then(function(){l.status="fulfilled",l.value=n;for(var u=0;u<a.length;u++)(0,a[u])(n)},function(u){for(l.status="rejected",l.reason=u,u=0;u<a.length;u++)(0,a[u])(void 0)}),l}var Jf=A.S;A.S=function(e,n){M0=wt(),typeof n=="object"&&n!==null&&typeof n.then=="function"&&Qx(e,n),Jf!==null&&Jf(e,n)};var Ui=j(null);function Oc(){var e=Ui.current;return e!==null?e:Le.pooledCache}function ol(e,n){n===null?M(Ui,Ui.current):M(Ui,n.pool)}function Wf(){var e=Oc();return e===null?null:{parent:nt._currentValue,pool:e}}var Ts=Error(r(460)),Rc=Error(r(474)),cl=Error(r(542)),ul={then:function(){}};function em(e){return e=e.status,e==="fulfilled"||e==="rejected"}function tm(e,n,a){switch(a=e[a],a===void 0?e.push(n):a!==n&&(n.then(jn,jn),n=a),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,im(e),e;default:if(typeof n.status=="string")n.then(jn,jn);else{if(e=Le,e!==null&&100<e.shellSuspendCounter)throw Error(r(482));e=n,e.status="pending",e.then(function(l){if(n.status==="pending"){var u=n;u.status="fulfilled",u.value=l}},function(l){if(n.status==="pending"){var u=n;u.status="rejected",u.reason=l}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,im(e),e}throw Bi=n,Ts}}function Li(e){try{var n=e._init;return n(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(Bi=a,Ts):a}}var Bi=null;function nm(){if(Bi===null)throw Error(r(459));var e=Bi;return Bi=null,e}function im(e){if(e===Ts||e===cl)throw Error(r(483))}var js=null,ka=0;function dl(e){var n=ka;return ka+=1,js===null&&(js=[]),tm(js,e,n)}function Da(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function hl(e,n){throw n.$$typeof===x?Error(r(525)):(e=Object.prototype.toString.call(n),Error(r(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function sm(e){function n(z,C){if(e){var L=z.deletions;L===null?(z.deletions=[C],z.flags|=16):L.push(C)}}function a(z,C){if(!e)return null;for(;C!==null;)n(z,C),C=C.sibling;return null}function l(z){for(var C=new Map;z!==null;)z.key!==null?C.set(z.key,z):C.set(z.index,z),z=z.sibling;return C}function u(z,C){return z=En(z,C),z.index=0,z.sibling=null,z}function h(z,C,L){return z.index=L,e?(L=z.alternate,L!==null?(L=L.index,L<C?(z.flags|=67108866,C):L):(z.flags|=67108866,C)):(z.flags|=1048576,C)}function y(z){return e&&z.alternate===null&&(z.flags|=67108866),z}function _(z,C,L,Y){return C===null||C.tag!==6?(C=bc(L,z.mode,Y),C.return=z,C):(C=u(C,L),C.return=z,C)}function N(z,C,L,Y){var ce=L.type;return ce===T?G(z,C,L.props.children,Y,L.key):C!==null&&(C.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===W&&Li(ce)===C.type)?(C=u(C,L.props),Da(C,L),C.return=z,C):(C=sl(L.type,L.key,L.props,null,z.mode,Y),Da(C,L),C.return=z,C)}function B(z,C,L,Y){return C===null||C.tag!==4||C.stateNode.containerInfo!==L.containerInfo||C.stateNode.implementation!==L.implementation?(C=xc(L,z.mode,Y),C.return=z,C):(C=u(C,L.children||[]),C.return=z,C)}function G(z,C,L,Y,ce){return C===null||C.tag!==7?(C=zi(L,z.mode,Y,ce),C.return=z,C):(C=u(C,L),C.return=z,C)}function K(z,C,L){if(typeof C=="string"&&C!==""||typeof C=="number"||typeof C=="bigint")return C=bc(""+C,z.mode,L),C.return=z,C;if(typeof C=="object"&&C!==null){switch(C.$$typeof){case S:return L=sl(C.type,C.key,C.props,null,z.mode,L),Da(L,C),L.return=z,L;case w:return C=xc(C,z.mode,L),C.return=z,C;case W:return C=Li(C),K(z,C,L)}if(E(C)||$e(C))return C=zi(C,z.mode,L,null),C.return=z,C;if(typeof C.then=="function")return K(z,dl(C),L);if(C.$$typeof===D)return K(z,ll(z,C),L);hl(z,C)}return null}function P(z,C,L,Y){var ce=C!==null?C.key:null;if(typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint")return ce!==null?null:_(z,C,""+L,Y);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case S:return L.key===ce?N(z,C,L,Y):null;case w:return L.key===ce?B(z,C,L,Y):null;case W:return L=Li(L),P(z,C,L,Y)}if(E(L)||$e(L))return ce!==null?null:G(z,C,L,Y,null);if(typeof L.then=="function")return P(z,C,dl(L),Y);if(L.$$typeof===D)return P(z,C,ll(z,L),Y);hl(z,L)}return null}function q(z,C,L,Y,ce){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return z=z.get(L)||null,_(C,z,""+Y,ce);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case S:return z=z.get(Y.key===null?L:Y.key)||null,N(C,z,Y,ce);case w:return z=z.get(Y.key===null?L:Y.key)||null,B(C,z,Y,ce);case W:return Y=Li(Y),q(z,C,L,Y,ce)}if(E(Y)||$e(Y))return z=z.get(L)||null,G(C,z,Y,ce,null);if(typeof Y.then=="function")return q(z,C,L,dl(Y),ce);if(Y.$$typeof===D)return q(z,C,L,ll(C,Y),ce);hl(C,Y)}return null}function se(z,C,L,Y){for(var ce=null,Ne=null,ae=C,ve=C=0,Se=null;ae!==null&&ve<L.length;ve++){ae.index>ve?(Se=ae,ae=null):Se=ae.sibling;var Ee=P(z,ae,L[ve],Y);if(Ee===null){ae===null&&(ae=Se);break}e&&ae&&Ee.alternate===null&&n(z,ae),C=h(Ee,C,ve),Ne===null?ce=Ee:Ne.sibling=Ee,Ne=Ee,ae=Se}if(ve===L.length)return a(z,ae),je&&An(z,ve),ce;if(ae===null){for(;ve<L.length;ve++)ae=K(z,L[ve],Y),ae!==null&&(C=h(ae,C,ve),Ne===null?ce=ae:Ne.sibling=ae,Ne=ae);return je&&An(z,ve),ce}for(ae=l(ae);ve<L.length;ve++)Se=q(ae,z,ve,L[ve],Y),Se!==null&&(e&&Se.alternate!==null&&ae.delete(Se.key===null?ve:Se.key),C=h(Se,C,ve),Ne===null?ce=Se:Ne.sibling=Se,Ne=Se);return e&&ae.forEach(function(vi){return n(z,vi)}),je&&An(z,ve),ce}function de(z,C,L,Y){if(L==null)throw Error(r(151));for(var ce=null,Ne=null,ae=C,ve=C=0,Se=null,Ee=L.next();ae!==null&&!Ee.done;ve++,Ee=L.next()){ae.index>ve?(Se=ae,ae=null):Se=ae.sibling;var vi=P(z,ae,Ee.value,Y);if(vi===null){ae===null&&(ae=Se);break}e&&ae&&vi.alternate===null&&n(z,ae),C=h(vi,C,ve),Ne===null?ce=vi:Ne.sibling=vi,Ne=vi,ae=Se}if(Ee.done)return a(z,ae),je&&An(z,ve),ce;if(ae===null){for(;!Ee.done;ve++,Ee=L.next())Ee=K(z,Ee.value,Y),Ee!==null&&(C=h(Ee,C,ve),Ne===null?ce=Ee:Ne.sibling=Ee,Ne=Ee);return je&&An(z,ve),ce}for(ae=l(ae);!Ee.done;ve++,Ee=L.next())Ee=q(ae,z,ve,Ee.value,Y),Ee!==null&&(e&&Ee.alternate!==null&&ae.delete(Ee.key===null?ve:Ee.key),C=h(Ee,C,ve),Ne===null?ce=Ee:Ne.sibling=Ee,Ne=Ee);return e&&ae.forEach(function(c_){return n(z,c_)}),je&&An(z,ve),ce}function Ue(z,C,L,Y){if(typeof L=="object"&&L!==null&&L.type===T&&L.key===null&&(L=L.props.children),typeof L=="object"&&L!==null){switch(L.$$typeof){case S:e:{for(var ce=L.key;C!==null;){if(C.key===ce){if(ce=L.type,ce===T){if(C.tag===7){a(z,C.sibling),Y=u(C,L.props.children),Y.return=z,z=Y;break e}}else if(C.elementType===ce||typeof ce=="object"&&ce!==null&&ce.$$typeof===W&&Li(ce)===C.type){a(z,C.sibling),Y=u(C,L.props),Da(Y,L),Y.return=z,z=Y;break e}a(z,C);break}else n(z,C);C=C.sibling}L.type===T?(Y=zi(L.props.children,z.mode,Y,L.key),Y.return=z,z=Y):(Y=sl(L.type,L.key,L.props,null,z.mode,Y),Da(Y,L),Y.return=z,z=Y)}return y(z);case w:e:{for(ce=L.key;C!==null;){if(C.key===ce)if(C.tag===4&&C.stateNode.containerInfo===L.containerInfo&&C.stateNode.implementation===L.implementation){a(z,C.sibling),Y=u(C,L.children||[]),Y.return=z,z=Y;break e}else{a(z,C);break}else n(z,C);C=C.sibling}Y=xc(L,z.mode,Y),Y.return=z,z=Y}return y(z);case W:return L=Li(L),Ue(z,C,L,Y)}if(E(L))return se(z,C,L,Y);if($e(L)){if(ce=$e(L),typeof ce!="function")throw Error(r(150));return L=ce.call(L),de(z,C,L,Y)}if(typeof L.then=="function")return Ue(z,C,dl(L),Y);if(L.$$typeof===D)return Ue(z,C,ll(z,L),Y);hl(z,L)}return typeof L=="string"&&L!==""||typeof L=="number"||typeof L=="bigint"?(L=""+L,C!==null&&C.tag===6?(a(z,C.sibling),Y=u(C,L),Y.return=z,z=Y):(a(z,C),Y=bc(L,z.mode,Y),Y.return=z,z=Y),y(z)):a(z,C)}return function(z,C,L,Y){try{ka=0;var ce=Ue(z,C,L,Y);return js=null,ce}catch(ae){if(ae===Ts||ae===cl)throw ae;var Ne=Bt(29,ae,null,z.mode);return Ne.lanes=Y,Ne.return=z,Ne}finally{}}}var Vi=sm(!0),am=sm(!1),ti=!1;function zc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function kc(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function ni(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function ii(e,n,a){var l=e.updateQueue;if(l===null)return null;if(l=l.shared,(Ae&2)!==0){var u=l.pending;return u===null?n.next=n:(n.next=u.next,u.next=n),l.pending=n,n=il(e),$f(e,null,a),n}return nl(e,l,n,a),il(e)}function Ma(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194048)!==0)){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,Xh(e,a)}}function Dc(e,n){var a=e.updateQueue,l=e.alternate;if(l!==null&&(l=l.updateQueue,a===l)){var u=null,h=null;if(a=a.firstBaseUpdate,a!==null){do{var y={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};h===null?u=h=y:h=h.next=y,a=a.next}while(a!==null);h===null?u=h=n:h=h.next=n}else u=h=n;a={baseState:l.baseState,firstBaseUpdate:u,lastBaseUpdate:h,shared:l.shared,callbacks:l.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}var Mc=!1;function Ua(){if(Mc){var e=Ss;if(e!==null)throw e}}function La(e,n,a,l){Mc=!1;var u=e.updateQueue;ti=!1;var h=u.firstBaseUpdate,y=u.lastBaseUpdate,_=u.shared.pending;if(_!==null){u.shared.pending=null;var N=_,B=N.next;N.next=null,y===null?h=B:y.next=B,y=N;var G=e.alternate;G!==null&&(G=G.updateQueue,_=G.lastBaseUpdate,_!==y&&(_===null?G.firstBaseUpdate=B:_.next=B,G.lastBaseUpdate=N))}if(h!==null){var K=u.baseState;y=0,G=B=N=null,_=h;do{var P=_.lane&-536870913,q=P!==_.lane;if(q?(_e&P)===P:(l&P)===P){P!==0&&P===_s&&(Mc=!0),G!==null&&(G=G.next={lane:0,tag:_.tag,payload:_.payload,callback:null,next:null});e:{var se=e,de=_;P=n;var Ue=a;switch(de.tag){case 1:if(se=de.payload,typeof se=="function"){K=se.call(Ue,K,P);break e}K=se;break e;case 3:se.flags=se.flags&-65537|128;case 0:if(se=de.payload,P=typeof se=="function"?se.call(Ue,K,P):se,P==null)break e;K=b({},K,P);break e;case 2:ti=!0}}P=_.callback,P!==null&&(e.flags|=64,q&&(e.flags|=8192),q=u.callbacks,q===null?u.callbacks=[P]:q.push(P))}else q={lane:P,tag:_.tag,payload:_.payload,callback:_.callback,next:null},G===null?(B=G=q,N=K):G=G.next=q,y|=P;if(_=_.next,_===null){if(_=u.shared.pending,_===null)break;q=_,_=q.next,q.next=null,u.lastBaseUpdate=q,u.shared.pending=null}}while(!0);G===null&&(N=K),u.baseState=N,u.firstBaseUpdate=B,u.lastBaseUpdate=G,h===null&&(u.shared.lanes=0),oi|=y,e.lanes=y,e.memoizedState=K}}function rm(e,n){if(typeof e!="function")throw Error(r(191,e));e.call(n)}function lm(e,n){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)rm(a[e],n)}var Ns=j(null),fl=j(0);function om(e,n){e=Vn,M(fl,e),M(Ns,n),Vn=e|n.baseLanes}function Uc(){M(fl,Vn),M(Ns,Ns.current)}function Lc(){Vn=fl.current,k(Ns),k(fl)}var Vt=j(null),tn=null;function si(e){var n=e.alternate;M(Ze,Ze.current&1),M(Vt,e),tn===null&&(n===null||Ns.current!==null||n.memoizedState!==null)&&(tn=e)}function Bc(e){M(Ze,Ze.current),M(Vt,e),tn===null&&(tn=e)}function cm(e){e.tag===22?(M(Ze,Ze.current),M(Vt,e),tn===null&&(tn=e)):ai()}function ai(){M(Ze,Ze.current),M(Vt,Vt.current)}function Pt(e){k(Vt),tn===e&&(tn=null),k(Ze)}var Ze=j(0);function ml(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Gu(a)||Iu(a)))return n}else if(n.tag===19&&(n.memoizedProps.revealOrder==="forwards"||n.memoizedProps.revealOrder==="backwards"||n.memoizedProps.revealOrder==="unstable_legacy-backwards"||n.memoizedProps.revealOrder==="together")){if((n.flags&128)!==0)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var Rn=0,ye=null,De=null,it=null,pl=!1,Es=!1,Pi=!1,gl=0,Ba=0,As=null,Wx=0;function Ye(){throw Error(r(321))}function Vc(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!Lt(e[a],n[a]))return!1;return!0}function Pc(e,n,a,l,u,h){return Rn=h,ye=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=e===null||e.memoizedState===null?Ym:tu,Pi=!1,h=a(l,u),Pi=!1,Es&&(h=dm(n,a,l,u)),um(e),h}function um(e){A.H=qa;var n=De!==null&&De.next!==null;if(Rn=0,it=De=ye=null,pl=!1,Ba=0,As=null,n)throw Error(r(300));e===null||st||(e=e.dependencies,e!==null&&rl(e)&&(st=!0))}function dm(e,n,a,l){ye=e;var u=0;do{if(Es&&(As=null),Ba=0,Es=!1,25<=u)throw Error(r(301));if(u+=1,it=De=null,e.updateQueue!=null){var h=e.updateQueue;h.lastEffect=null,h.events=null,h.stores=null,h.memoCache!=null&&(h.memoCache.index=0)}A.H=Km,h=n(a,l)}while(Es);return h}function ew(){var e=A.H,n=e.useState()[0];return n=typeof n.then=="function"?Va(n):n,e=e.useState()[0],(De!==null?De.memoizedState:null)!==e&&(ye.flags|=1024),n}function qc(){var e=gl!==0;return gl=0,e}function $c(e,n,a){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~a}function Hc(e){if(pl){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}pl=!1}Rn=0,it=De=ye=null,Es=!1,Ba=gl=0,As=null}function jt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return it===null?ye.memoizedState=it=e:it=it.next=e,it}function Qe(){if(De===null){var e=ye.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var n=it===null?ye.memoizedState:it.next;if(n!==null)it=n,De=e;else{if(e===null)throw ye.alternate===null?Error(r(467)):Error(r(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},it===null?ye.memoizedState=it=e:it=it.next=e}return it}function yl(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Va(e){var n=Ba;return Ba+=1,As===null&&(As=[]),e=tm(As,e,n),n=ye,(it===null?n.memoizedState:it.next)===null&&(n=n.alternate,A.H=n===null||n.memoizedState===null?Ym:tu),e}function vl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return Va(e);if(e.$$typeof===D)return mt(e)}throw Error(r(438,String(e)))}function Gc(e){var n=null,a=ye.updateQueue;if(a!==null&&(n=a.memoCache),n==null){var l=ye.alternate;l!==null&&(l=l.updateQueue,l!==null&&(l=l.memoCache,l!=null&&(n={data:l.data.map(function(u){return u.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),a===null&&(a=yl(),ye.updateQueue=a),a.memoCache=n,a=n.data[n.index],a===void 0)for(a=n.data[n.index]=Array(e),l=0;l<e;l++)a[l]=Oe;return n.index++,a}function zn(e,n){return typeof n=="function"?n(e):n}function bl(e){var n=Qe();return Ic(n,De,e)}function Ic(e,n,a){var l=e.queue;if(l===null)throw Error(r(311));l.lastRenderedReducer=a;var u=e.baseQueue,h=l.pending;if(h!==null){if(u!==null){var y=u.next;u.next=h.next,h.next=y}n.baseQueue=u=h,l.pending=null}if(h=e.baseState,u===null)e.memoizedState=h;else{n=u.next;var _=y=null,N=null,B=n,G=!1;do{var K=B.lane&-536870913;if(K!==B.lane?(_e&K)===K:(Rn&K)===K){var P=B.revertLane;if(P===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null}),K===_s&&(G=!0);else if((Rn&P)===P){B=B.next,P===_s&&(G=!0);continue}else K={lane:0,revertLane:B.revertLane,gesture:null,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(_=N=K,y=h):N=N.next=K,ye.lanes|=P,oi|=P;K=B.action,Pi&&a(h,K),h=B.hasEagerState?B.eagerState:a(h,K)}else P={lane:K,revertLane:B.revertLane,gesture:B.gesture,action:B.action,hasEagerState:B.hasEagerState,eagerState:B.eagerState,next:null},N===null?(_=N=P,y=h):N=N.next=P,ye.lanes|=K,oi|=K;B=B.next}while(B!==null&&B!==n);if(N===null?y=h:N.next=_,!Lt(h,e.memoizedState)&&(st=!0,G&&(a=Ss,a!==null)))throw a;e.memoizedState=h,e.baseState=y,e.baseQueue=N,l.lastRenderedState=h}return u===null&&(l.lanes=0),[e.memoizedState,l.dispatch]}function Yc(e){var n=Qe(),a=n.queue;if(a===null)throw Error(r(311));a.lastRenderedReducer=e;var l=a.dispatch,u=a.pending,h=n.memoizedState;if(u!==null){a.pending=null;var y=u=u.next;do h=e(h,y.action),y=y.next;while(y!==u);Lt(h,n.memoizedState)||(st=!0),n.memoizedState=h,n.baseQueue===null&&(n.baseState=h),a.lastRenderedState=h}return[h,l]}function hm(e,n,a){var l=ye,u=Qe(),h=je;if(h){if(a===void 0)throw Error(r(407));a=a()}else a=n();var y=!Lt((De||u).memoizedState,a);if(y&&(u.memoizedState=a,st=!0),u=u.queue,Xc(pm.bind(null,l,u,e),[e]),u.getSnapshot!==n||y||it!==null&&it.memoizedState.tag&1){if(l.flags|=2048,Cs(9,{destroy:void 0},mm.bind(null,l,u,a,n),null),Le===null)throw Error(r(349));h||(Rn&127)!==0||fm(l,n,a)}return a}function fm(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=ye.updateQueue,n===null?(n=yl(),ye.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function mm(e,n,a,l){n.value=a,n.getSnapshot=l,gm(n)&&ym(e)}function pm(e,n,a){return a(function(){gm(n)&&ym(e)})}function gm(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!Lt(e,a)}catch{return!0}}function ym(e){var n=Ri(e,2);n!==null&&kt(n,e,2)}function Kc(e){var n=jt();if(typeof e=="function"){var a=e;if(e=a(),Pi){Fn(!0);try{a()}finally{Fn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:e},n}function vm(e,n,a,l){return e.baseState=a,Ic(e,De,typeof l=="function"?l:zn)}function tw(e,n,a,l,u){if(_l(e))throw Error(r(485));if(e=n.action,e!==null){var h={payload:u,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){h.listeners.push(y)}};A.T!==null?a(!0):h.isTransition=!1,l(h),a=n.pending,a===null?(h.next=n.pending=h,bm(n,h)):(h.next=a.next,n.pending=a.next=h)}}function bm(e,n){var a=n.action,l=n.payload,u=e.state;if(n.isTransition){var h=A.T,y={};A.T=y;try{var _=a(u,l),N=A.S;N!==null&&N(y,_),xm(e,n,_)}catch(B){Fc(e,n,B)}finally{h!==null&&y.types!==null&&(h.types=y.types),A.T=h}}else try{h=a(u,l),xm(e,n,h)}catch(B){Fc(e,n,B)}}function xm(e,n,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(l){wm(e,n,l)},function(l){return Fc(e,n,l)}):wm(e,n,a)}function wm(e,n,a){n.status="fulfilled",n.value=a,_m(n),e.state=a,n=e.pending,n!==null&&(a=n.next,a===n?e.pending=null:(a=a.next,n.next=a,bm(e,a)))}function Fc(e,n,a){var l=e.pending;if(e.pending=null,l!==null){l=l.next;do n.status="rejected",n.reason=a,_m(n),n=n.next;while(n!==l)}e.action=null}function _m(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function Sm(e,n){return n}function Tm(e,n){if(je){var a=Le.formState;if(a!==null){e:{var l=ye;if(je){if(Ve){t:{for(var u=Ve,h=en;u.nodeType!==8;){if(!h){u=null;break t}if(u=nn(u.nextSibling),u===null){u=null;break t}}h=u.data,u=h==="F!"||h==="F"?u:null}if(u){Ve=nn(u.nextSibling),l=u.data==="F!";break e}}Wn(l)}l=!1}l&&(n=a[0])}}return a=jt(),a.memoizedState=a.baseState=n,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sm,lastRenderedState:n},a.queue=l,a=Hm.bind(null,ye,l),l.dispatch=a,l=Kc(!1),h=eu.bind(null,ye,!1,l.queue),l=jt(),u={state:n,dispatch:null,action:e,pending:null},l.queue=u,a=tw.bind(null,ye,u,h,a),u.dispatch=a,l.memoizedState=e,[n,a,!1]}function jm(e){var n=Qe();return Nm(n,De,e)}function Nm(e,n,a){if(n=Ic(e,n,Sm)[0],e=bl(zn)[0],typeof n=="object"&&n!==null&&typeof n.then=="function")try{var l=Va(n)}catch(y){throw y===Ts?cl:y}else l=n;n=Qe();var u=n.queue,h=u.dispatch;return a!==n.memoizedState&&(ye.flags|=2048,Cs(9,{destroy:void 0},nw.bind(null,u,a),null)),[l,h,e]}function nw(e,n){e.action=n}function Em(e){var n=Qe(),a=De;if(a!==null)return Nm(n,a,e);Qe(),n=n.memoizedState,a=Qe();var l=a.queue.dispatch;return a.memoizedState=e,[n,l,!1]}function Cs(e,n,a,l){return e={tag:e,create:a,deps:l,inst:n,next:null},n=ye.updateQueue,n===null&&(n=yl(),ye.updateQueue=n),a=n.lastEffect,a===null?n.lastEffect=e.next=e:(l=a.next,a.next=e,e.next=l,n.lastEffect=e),e}function Am(){return Qe().memoizedState}function xl(e,n,a,l){var u=jt();ye.flags|=e,u.memoizedState=Cs(1|n,{destroy:void 0},a,l===void 0?null:l)}function wl(e,n,a,l){var u=Qe();l=l===void 0?null:l;var h=u.memoizedState.inst;De!==null&&l!==null&&Vc(l,De.memoizedState.deps)?u.memoizedState=Cs(n,h,a,l):(ye.flags|=e,u.memoizedState=Cs(1|n,h,a,l))}function Cm(e,n){xl(8390656,8,e,n)}function Xc(e,n){wl(2048,8,e,n)}function iw(e){ye.flags|=4;var n=ye.updateQueue;if(n===null)n=yl(),ye.updateQueue=n,n.events=[e];else{var a=n.events;a===null?n.events=[e]:a.push(e)}}function Om(e){var n=Qe().memoizedState;return iw({ref:n,nextImpl:e}),function(){if((Ae&2)!==0)throw Error(r(440));return n.impl.apply(void 0,arguments)}}function Rm(e,n){return wl(4,2,e,n)}function zm(e,n){return wl(4,4,e,n)}function km(e,n){if(typeof n=="function"){e=e();var a=n(e);return function(){typeof a=="function"?a():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function Dm(e,n,a){a=a!=null?a.concat([e]):null,wl(4,4,km.bind(null,n,e),a)}function Zc(){}function Mm(e,n){var a=Qe();n=n===void 0?null:n;var l=a.memoizedState;return n!==null&&Vc(n,l[1])?l[0]:(a.memoizedState=[e,n],e)}function Um(e,n){var a=Qe();n=n===void 0?null:n;var l=a.memoizedState;if(n!==null&&Vc(n,l[1]))return l[0];if(l=e(),Pi){Fn(!0);try{e()}finally{Fn(!1)}}return a.memoizedState=[l,n],l}function Qc(e,n,a){return a===void 0||(Rn&1073741824)!==0&&(_e&261930)===0?e.memoizedState=n:(e.memoizedState=a,e=L0(),ye.lanes|=e,oi|=e,a)}function Lm(e,n,a,l){return Lt(a,n)?a:Ns.current!==null?(e=Qc(e,a,l),Lt(e,n)||(st=!0),e):(Rn&42)===0||(Rn&1073741824)!==0&&(_e&261930)===0?(st=!0,e.memoizedState=a):(e=L0(),ye.lanes|=e,oi|=e,n)}function Bm(e,n,a,l,u){var h=U.p;U.p=h!==0&&8>h?h:8;var y=A.T,_={};A.T=_,eu(e,!1,n,a);try{var N=u(),B=A.S;if(B!==null&&B(_,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var G=Jx(N,l);Pa(e,n,G,Ht(e))}else Pa(e,n,l,Ht(e))}catch(K){Pa(e,n,{then:function(){},status:"rejected",reason:K},Ht())}finally{U.p=h,y!==null&&_.types!==null&&(y.types=_.types),A.T=y}}function sw(){}function Jc(e,n,a,l){if(e.tag!==5)throw Error(r(476));var u=Vm(e).queue;Bm(e,u,n,H,a===null?sw:function(){return Pm(e),a(l)})}function Vm(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:H},next:null};var a={};return n.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:zn,lastRenderedState:a},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Pm(e){var n=Vm(e);n.next===null&&(n=e.alternate.memoizedState),Pa(e,n.next.queue,{},Ht())}function Wc(){return mt(ir)}function qm(){return Qe().memoizedState}function $m(){return Qe().memoizedState}function aw(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var a=Ht();e=ni(a);var l=ii(n,e,a);l!==null&&(kt(l,n,a),Ma(l,n,a)),n={cache:Ac()},e.payload=n;return}n=n.return}}function rw(e,n,a){var l=Ht();a={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},_l(e)?Gm(n,a):(a=yc(e,n,a,l),a!==null&&(kt(a,e,l),Im(a,n,l)))}function Hm(e,n,a){var l=Ht();Pa(e,n,a,l)}function Pa(e,n,a,l){var u={lane:l,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(_l(e))Gm(n,u);else{var h=e.alternate;if(e.lanes===0&&(h===null||h.lanes===0)&&(h=n.lastRenderedReducer,h!==null))try{var y=n.lastRenderedState,_=h(y,a);if(u.hasEagerState=!0,u.eagerState=_,Lt(_,y))return nl(e,n,u,0),Le===null&&tl(),!1}catch{}finally{}if(a=yc(e,n,u,l),a!==null)return kt(a,e,l),Im(a,n,l),!0}return!1}function eu(e,n,a,l){if(l={lane:2,revertLane:zu(),gesture:null,action:l,hasEagerState:!1,eagerState:null,next:null},_l(e)){if(n)throw Error(r(479))}else n=yc(e,a,l,2),n!==null&&kt(n,e,2)}function _l(e){var n=e.alternate;return e===ye||n!==null&&n===ye}function Gm(e,n){Es=pl=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function Im(e,n,a){if((a&4194048)!==0){var l=n.lanes;l&=e.pendingLanes,a|=l,n.lanes=a,Xh(e,a)}}var qa={readContext:mt,use:vl,useCallback:Ye,useContext:Ye,useEffect:Ye,useImperativeHandle:Ye,useLayoutEffect:Ye,useInsertionEffect:Ye,useMemo:Ye,useReducer:Ye,useRef:Ye,useState:Ye,useDebugValue:Ye,useDeferredValue:Ye,useTransition:Ye,useSyncExternalStore:Ye,useId:Ye,useHostTransitionStatus:Ye,useFormState:Ye,useActionState:Ye,useOptimistic:Ye,useMemoCache:Ye,useCacheRefresh:Ye};qa.useEffectEvent=Ye;var Ym={readContext:mt,use:vl,useCallback:function(e,n){return jt().memoizedState=[e,n===void 0?null:n],e},useContext:mt,useEffect:Cm,useImperativeHandle:function(e,n,a){a=a!=null?a.concat([e]):null,xl(4194308,4,km.bind(null,n,e),a)},useLayoutEffect:function(e,n){return xl(4194308,4,e,n)},useInsertionEffect:function(e,n){xl(4,2,e,n)},useMemo:function(e,n){var a=jt();n=n===void 0?null:n;var l=e();if(Pi){Fn(!0);try{e()}finally{Fn(!1)}}return a.memoizedState=[l,n],l},useReducer:function(e,n,a){var l=jt();if(a!==void 0){var u=a(n);if(Pi){Fn(!0);try{a(n)}finally{Fn(!1)}}}else u=n;return l.memoizedState=l.baseState=u,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:u},l.queue=e,e=e.dispatch=rw.bind(null,ye,e),[l.memoizedState,e]},useRef:function(e){var n=jt();return e={current:e},n.memoizedState=e},useState:function(e){e=Kc(e);var n=e.queue,a=Hm.bind(null,ye,n);return n.dispatch=a,[e.memoizedState,a]},useDebugValue:Zc,useDeferredValue:function(e,n){var a=jt();return Qc(a,e,n)},useTransition:function(){var e=Kc(!1);return e=Bm.bind(null,ye,e.queue,!0,!1),jt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,a){var l=ye,u=jt();if(je){if(a===void 0)throw Error(r(407));a=a()}else{if(a=n(),Le===null)throw Error(r(349));(_e&127)!==0||fm(l,n,a)}u.memoizedState=a;var h={value:a,getSnapshot:n};return u.queue=h,Cm(pm.bind(null,l,h,e),[e]),l.flags|=2048,Cs(9,{destroy:void 0},mm.bind(null,l,h,a,n),null),a},useId:function(){var e=jt(),n=Le.identifierPrefix;if(je){var a=gn,l=pn;a=(l&~(1<<32-Ut(l)-1)).toString(32)+a,n="_"+n+"R_"+a,a=gl++,0<a&&(n+="H"+a.toString(32)),n+="_"}else a=Wx++,n="_"+n+"r_"+a.toString(32)+"_";return e.memoizedState=n},useHostTransitionStatus:Wc,useFormState:Tm,useActionState:Tm,useOptimistic:function(e){var n=jt();n.memoizedState=n.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=a,n=eu.bind(null,ye,!0,a),a.dispatch=n,[e,n]},useMemoCache:Gc,useCacheRefresh:function(){return jt().memoizedState=aw.bind(null,ye)},useEffectEvent:function(e){var n=jt(),a={impl:e};return n.memoizedState=a,function(){if((Ae&2)!==0)throw Error(r(440));return a.impl.apply(void 0,arguments)}}},tu={readContext:mt,use:vl,useCallback:Mm,useContext:mt,useEffect:Xc,useImperativeHandle:Dm,useInsertionEffect:Rm,useLayoutEffect:zm,useMemo:Um,useReducer:bl,useRef:Am,useState:function(){return bl(zn)},useDebugValue:Zc,useDeferredValue:function(e,n){var a=Qe();return Lm(a,De.memoizedState,e,n)},useTransition:function(){var e=bl(zn)[0],n=Qe().memoizedState;return[typeof e=="boolean"?e:Va(e),n]},useSyncExternalStore:hm,useId:qm,useHostTransitionStatus:Wc,useFormState:jm,useActionState:jm,useOptimistic:function(e,n){var a=Qe();return vm(a,De,e,n)},useMemoCache:Gc,useCacheRefresh:$m};tu.useEffectEvent=Om;var Km={readContext:mt,use:vl,useCallback:Mm,useContext:mt,useEffect:Xc,useImperativeHandle:Dm,useInsertionEffect:Rm,useLayoutEffect:zm,useMemo:Um,useReducer:Yc,useRef:Am,useState:function(){return Yc(zn)},useDebugValue:Zc,useDeferredValue:function(e,n){var a=Qe();return De===null?Qc(a,e,n):Lm(a,De.memoizedState,e,n)},useTransition:function(){var e=Yc(zn)[0],n=Qe().memoizedState;return[typeof e=="boolean"?e:Va(e),n]},useSyncExternalStore:hm,useId:qm,useHostTransitionStatus:Wc,useFormState:Em,useActionState:Em,useOptimistic:function(e,n){var a=Qe();return De!==null?vm(a,De,e,n):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:Gc,useCacheRefresh:$m};Km.useEffectEvent=Om;function nu(e,n,a,l){n=e.memoizedState,a=a(l,n),a=a==null?n:b({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var iu={enqueueSetState:function(e,n,a){e=e._reactInternals;var l=Ht(),u=ni(l);u.payload=n,a!=null&&(u.callback=a),n=ii(e,u,l),n!==null&&(kt(n,e,l),Ma(n,e,l))},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var l=Ht(),u=ni(l);u.tag=1,u.payload=n,a!=null&&(u.callback=a),n=ii(e,u,l),n!==null&&(kt(n,e,l),Ma(n,e,l))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Ht(),l=ni(a);l.tag=2,n!=null&&(l.callback=n),n=ii(e,l,a),n!==null&&(kt(n,e,a),Ma(n,e,a))}};function Fm(e,n,a,l,u,h,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(l,h,y):n.prototype&&n.prototype.isPureReactComponent?!Ea(a,l)||!Ea(u,h):!0}function Xm(e,n,a,l){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,l),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,l),n.state!==e&&iu.enqueueReplaceState(n,n.state,null)}function qi(e,n){var a=n;if("ref"in n){a={};for(var l in n)l!=="ref"&&(a[l]=n[l])}if(e=e.defaultProps){a===n&&(a=b({},a));for(var u in e)a[u]===void 0&&(a[u]=e[u])}return a}function Zm(e){el(e)}function Qm(e){console.error(e)}function Jm(e){el(e)}function Sl(e,n){try{var a=e.onUncaughtError;a(n.value,{componentStack:n.stack})}catch(l){setTimeout(function(){throw l})}}function Wm(e,n,a){try{var l=e.onCaughtError;l(a.value,{componentStack:a.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(u){setTimeout(function(){throw u})}}function su(e,n,a){return a=ni(a),a.tag=3,a.payload={element:null},a.callback=function(){Sl(e,n)},a}function e0(e){return e=ni(e),e.tag=3,e}function t0(e,n,a,l){var u=a.type.getDerivedStateFromError;if(typeof u=="function"){var h=l.value;e.payload=function(){return u(h)},e.callback=function(){Wm(n,a,l)}}var y=a.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Wm(n,a,l),typeof u!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var _=l.stack;this.componentDidCatch(l.value,{componentStack:_!==null?_:""})})}function lw(e,n,a,l,u){if(a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){if(n=a.alternate,n!==null&&ws(n,a,u,!0),a=Vt.current,a!==null){switch(a.tag){case 31:case 13:return tn===null?Ml():a.alternate===null&&Ke===0&&(Ke=3),a.flags&=-257,a.flags|=65536,a.lanes=u,l===ul?a.flags|=16384:(n=a.updateQueue,n===null?a.updateQueue=new Set([l]):n.add(l),Cu(e,l,u)),!1;case 22:return a.flags|=65536,l===ul?a.flags|=16384:(n=a.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([l])},a.updateQueue=n):(a=n.retryQueue,a===null?n.retryQueue=new Set([l]):a.add(l)),Cu(e,l,u)),!1}throw Error(r(435,a.tag))}return Cu(e,l,u),Ml(),!1}if(je)return n=Vt.current,n!==null?((n.flags&65536)===0&&(n.flags|=256),n.flags|=65536,n.lanes=u,l!==Sc&&(e=Error(r(422),{cause:l}),Oa(Qt(e,a)))):(l!==Sc&&(n=Error(r(423),{cause:l}),Oa(Qt(n,a))),e=e.current.alternate,e.flags|=65536,u&=-u,e.lanes|=u,l=Qt(l,a),u=su(e.stateNode,l,u),Dc(e,u),Ke!==4&&(Ke=2)),!1;var h=Error(r(520),{cause:l});if(h=Qt(h,a),Xa===null?Xa=[h]:Xa.push(h),Ke!==4&&(Ke=2),n===null)return!0;l=Qt(l,a),a=n;do{switch(a.tag){case 3:return a.flags|=65536,e=u&-u,a.lanes|=e,e=su(a.stateNode,l,e),Dc(a,e),!1;case 1:if(n=a.type,h=a.stateNode,(a.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||h!==null&&typeof h.componentDidCatch=="function"&&(ci===null||!ci.has(h))))return a.flags|=65536,u&=-u,a.lanes|=u,u=e0(u),t0(u,e,a,l),Dc(a,u),!1}a=a.return}while(a!==null);return!1}var au=Error(r(461)),st=!1;function pt(e,n,a,l){n.child=e===null?am(n,null,a,l):Vi(n,e.child,a,l)}function n0(e,n,a,l,u){a=a.render;var h=n.ref;if("ref"in l){var y={};for(var _ in l)_!=="ref"&&(y[_]=l[_])}else y=l;return Mi(n),l=Pc(e,n,a,y,h,u),_=qc(),e!==null&&!st?($c(e,n,u),kn(e,n,u)):(je&&_&&wc(n),n.flags|=1,pt(e,n,l,u),n.child)}function i0(e,n,a,l,u){if(e===null){var h=a.type;return typeof h=="function"&&!vc(h)&&h.defaultProps===void 0&&a.compare===null?(n.tag=15,n.type=h,s0(e,n,h,l,u)):(e=sl(a.type,null,l,n,n.mode,u),e.ref=n.ref,e.return=n,n.child=e)}if(h=e.child,!fu(e,u)){var y=h.memoizedProps;if(a=a.compare,a=a!==null?a:Ea,a(y,l)&&e.ref===n.ref)return kn(e,n,u)}return n.flags|=1,e=En(h,l),e.ref=n.ref,e.return=n,n.child=e}function s0(e,n,a,l,u){if(e!==null){var h=e.memoizedProps;if(Ea(h,l)&&e.ref===n.ref)if(st=!1,n.pendingProps=l=h,fu(e,u))(e.flags&131072)!==0&&(st=!0);else return n.lanes=e.lanes,kn(e,n,u)}return ru(e,n,a,l,u)}function a0(e,n,a,l){var u=l.children,h=e!==null?e.memoizedState:null;if(e===null&&n.stateNode===null&&(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),l.mode==="hidden"){if((n.flags&128)!==0){if(h=h!==null?h.baseLanes|a:a,e!==null){for(l=n.child=e.child,u=0;l!==null;)u=u|l.lanes|l.childLanes,l=l.sibling;l=u&~h}else l=0,n.child=null;return r0(e,n,h,a,l)}if((a&536870912)!==0)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ol(n,h!==null?h.cachePool:null),h!==null?om(n,h):Uc(),cm(n);else return l=n.lanes=536870912,r0(e,n,h!==null?h.baseLanes|a:a,a,l)}else h!==null?(ol(n,h.cachePool),om(n,h),ai(),n.memoizedState=null):(e!==null&&ol(n,null),Uc(),ai());return pt(e,n,u,a),n.child}function $a(e,n){return e!==null&&e.tag===22||n.stateNode!==null||(n.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),n.sibling}function r0(e,n,a,l,u){var h=Oc();return h=h===null?null:{parent:nt._currentValue,pool:h},n.memoizedState={baseLanes:a,cachePool:h},e!==null&&ol(n,null),Uc(),cm(n),e!==null&&ws(e,n,l,!0),n.childLanes=u,null}function Tl(e,n){return n=Nl({mode:n.mode,children:n.children},e.mode),n.ref=e.ref,e.child=n,n.return=e,n}function l0(e,n,a){return Vi(n,e.child,null,a),e=Tl(n,n.pendingProps),e.flags|=2,Pt(n),n.memoizedState=null,e}function ow(e,n,a){var l=n.pendingProps,u=(n.flags&128)!==0;if(n.flags&=-129,e===null){if(je){if(l.mode==="hidden")return e=Tl(n,l),n.lanes=536870912,$a(null,e);if(Bc(n),(e=Ve)?(e=bp(e,en),e=e!==null&&e.data==="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Qn!==null?{id:pn,overflow:gn}:null,retryLane:536870912,hydrationErrors:null},a=Gf(e),a.return=n,n.child=a,ft=n,Ve=null)):e=null,e===null)throw Wn(n);return n.lanes=536870912,null}return Tl(n,l)}var h=e.memoizedState;if(h!==null){var y=h.dehydrated;if(Bc(n),u)if(n.flags&256)n.flags&=-257,n=l0(e,n,a);else if(n.memoizedState!==null)n.child=e.child,n.flags|=128,n=null;else throw Error(r(558));else if(st||ws(e,n,a,!1),u=(a&e.childLanes)!==0,st||u){if(l=Le,l!==null&&(y=Zh(l,a),y!==0&&y!==h.retryLane))throw h.retryLane=y,Ri(e,y),kt(l,e,y),au;Ml(),n=l0(e,n,a)}else e=h.treeContext,Ve=nn(y.nextSibling),ft=n,je=!0,Jn=null,en=!1,e!==null&&Kf(n,e),n=Tl(n,l),n.flags|=4096;return n}return e=En(e.child,{mode:l.mode,children:l.children}),e.ref=n.ref,n.child=e,e.return=n,e}function jl(e,n){var a=n.ref;if(a===null)e!==null&&e.ref!==null&&(n.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(r(284));(e===null||e.ref!==a)&&(n.flags|=4194816)}}function ru(e,n,a,l,u){return Mi(n),a=Pc(e,n,a,l,void 0,u),l=qc(),e!==null&&!st?($c(e,n,u),kn(e,n,u)):(je&&l&&wc(n),n.flags|=1,pt(e,n,a,u),n.child)}function o0(e,n,a,l,u,h){return Mi(n),n.updateQueue=null,a=dm(n,l,a,u),um(e),l=qc(),e!==null&&!st?($c(e,n,h),kn(e,n,h)):(je&&l&&wc(n),n.flags|=1,pt(e,n,a,h),n.child)}function c0(e,n,a,l,u){if(Mi(n),n.stateNode===null){var h=ys,y=a.contextType;typeof y=="object"&&y!==null&&(h=mt(y)),h=new a(l,h),n.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=iu,n.stateNode=h,h._reactInternals=n,h=n.stateNode,h.props=l,h.state=n.memoizedState,h.refs={},zc(n),y=a.contextType,h.context=typeof y=="object"&&y!==null?mt(y):ys,h.state=n.memoizedState,y=a.getDerivedStateFromProps,typeof y=="function"&&(nu(n,a,y,l),h.state=n.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof h.getSnapshotBeforeUpdate=="function"||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(y=h.state,typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount(),y!==h.state&&iu.enqueueReplaceState(h,h.state,null),La(n,l,h,u),Ua(),h.state=n.memoizedState),typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!0}else if(e===null){h=n.stateNode;var _=n.memoizedProps,N=qi(a,_);h.props=N;var B=h.context,G=a.contextType;y=ys,typeof G=="object"&&G!==null&&(y=mt(G));var K=a.getDerivedStateFromProps;G=typeof K=="function"||typeof h.getSnapshotBeforeUpdate=="function",_=n.pendingProps!==_,G||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(_||B!==y)&&Xm(n,h,l,y),ti=!1;var P=n.memoizedState;h.state=P,La(n,l,h,u),Ua(),B=n.memoizedState,_||P!==B||ti?(typeof K=="function"&&(nu(n,a,K,l),B=n.memoizedState),(N=ti||Fm(n,a,N,l,P,B,y))?(G||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(n.flags|=4194308)):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=l,n.memoizedState=B),h.props=l,h.state=B,h.context=y,l=N):(typeof h.componentDidMount=="function"&&(n.flags|=4194308),l=!1)}else{h=n.stateNode,kc(e,n),y=n.memoizedProps,G=qi(a,y),h.props=G,K=n.pendingProps,P=h.context,B=a.contextType,N=ys,typeof B=="object"&&B!==null&&(N=mt(B)),_=a.getDerivedStateFromProps,(B=typeof _=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(y!==K||P!==N)&&Xm(n,h,l,N),ti=!1,P=n.memoizedState,h.state=P,La(n,l,h,u),Ua();var q=n.memoizedState;y!==K||P!==q||ti||e!==null&&e.dependencies!==null&&rl(e.dependencies)?(typeof _=="function"&&(nu(n,a,_,l),q=n.memoizedState),(G=ti||Fm(n,a,G,l,P,q,N)||e!==null&&e.dependencies!==null&&rl(e.dependencies))?(B||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(l,q,N),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(l,q,N)),typeof h.componentDidUpdate=="function"&&(n.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof h.componentDidUpdate!="function"||y===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),n.memoizedProps=l,n.memoizedState=q),h.props=l,h.state=q,h.context=N,l=G):(typeof h.componentDidUpdate!="function"||y===e.memoizedProps&&P===e.memoizedState||(n.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&P===e.memoizedState||(n.flags|=1024),l=!1)}return h=l,jl(e,n),l=(n.flags&128)!==0,h||l?(h=n.stateNode,a=l&&typeof a.getDerivedStateFromError!="function"?null:h.render(),n.flags|=1,e!==null&&l?(n.child=Vi(n,e.child,null,u),n.child=Vi(n,null,a,u)):pt(e,n,a,u),n.memoizedState=h.state,e=n.child):e=kn(e,n,u),e}function u0(e,n,a,l){return ki(),n.flags|=256,pt(e,n,a,l),n.child}var lu={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ou(e){return{baseLanes:e,cachePool:Wf()}}function cu(e,n,a){return e=e!==null?e.childLanes&~a:0,n&&(e|=$t),e}function d0(e,n,a){var l=n.pendingProps,u=!1,h=(n.flags&128)!==0,y;if((y=h)||(y=e!==null&&e.memoizedState===null?!1:(Ze.current&2)!==0),y&&(u=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(je){if(u?si(n):ai(),(e=Ve)?(e=bp(e,en),e=e!==null&&e.data!=="&"?e:null,e!==null&&(n.memoizedState={dehydrated:e,treeContext:Qn!==null?{id:pn,overflow:gn}:null,retryLane:536870912,hydrationErrors:null},a=Gf(e),a.return=n,n.child=a,ft=n,Ve=null)):e=null,e===null)throw Wn(n);return Iu(e)?n.lanes=32:n.lanes=536870912,null}var _=l.children;return l=l.fallback,u?(ai(),u=n.mode,_=Nl({mode:"hidden",children:_},u),l=zi(l,u,a,null),_.return=n,l.return=n,_.sibling=l,n.child=_,l=n.child,l.memoizedState=ou(a),l.childLanes=cu(e,y,a),n.memoizedState=lu,$a(null,l)):(si(n),uu(n,_))}var N=e.memoizedState;if(N!==null&&(_=N.dehydrated,_!==null)){if(h)n.flags&256?(si(n),n.flags&=-257,n=du(e,n,a)):n.memoizedState!==null?(ai(),n.child=e.child,n.flags|=128,n=null):(ai(),_=l.fallback,u=n.mode,l=Nl({mode:"visible",children:l.children},u),_=zi(_,u,a,null),_.flags|=2,l.return=n,_.return=n,l.sibling=_,n.child=l,Vi(n,e.child,null,a),l=n.child,l.memoizedState=ou(a),l.childLanes=cu(e,y,a),n.memoizedState=lu,n=$a(null,l));else if(si(n),Iu(_)){if(y=_.nextSibling&&_.nextSibling.dataset,y)var B=y.dgst;y=B,l=Error(r(419)),l.stack="",l.digest=y,Oa({value:l,source:null,stack:null}),n=du(e,n,a)}else if(st||ws(e,n,a,!1),y=(a&e.childLanes)!==0,st||y){if(y=Le,y!==null&&(l=Zh(y,a),l!==0&&l!==N.retryLane))throw N.retryLane=l,Ri(e,l),kt(y,e,l),au;Gu(_)||Ml(),n=du(e,n,a)}else Gu(_)?(n.flags|=192,n.child=e.child,n=null):(e=N.treeContext,Ve=nn(_.nextSibling),ft=n,je=!0,Jn=null,en=!1,e!==null&&Kf(n,e),n=uu(n,l.children),n.flags|=4096);return n}return u?(ai(),_=l.fallback,u=n.mode,N=e.child,B=N.sibling,l=En(N,{mode:"hidden",children:l.children}),l.subtreeFlags=N.subtreeFlags&65011712,B!==null?_=En(B,_):(_=zi(_,u,a,null),_.flags|=2),_.return=n,l.return=n,l.sibling=_,n.child=l,$a(null,l),l=n.child,_=e.child.memoizedState,_===null?_=ou(a):(u=_.cachePool,u!==null?(N=nt._currentValue,u=u.parent!==N?{parent:N,pool:N}:u):u=Wf(),_={baseLanes:_.baseLanes|a,cachePool:u}),l.memoizedState=_,l.childLanes=cu(e,y,a),n.memoizedState=lu,$a(e.child,l)):(si(n),a=e.child,e=a.sibling,a=En(a,{mode:"visible",children:l.children}),a.return=n,a.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=a,n.memoizedState=null,a)}function uu(e,n){return n=Nl({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Nl(e,n){return e=Bt(22,e,null,n),e.lanes=0,e}function du(e,n,a){return Vi(n,e.child,null,a),e=uu(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function h0(e,n,a){e.lanes|=n;var l=e.alternate;l!==null&&(l.lanes|=n),Nc(e.return,n,a)}function hu(e,n,a,l,u,h){var y=e.memoizedState;y===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:l,tail:a,tailMode:u,treeForkCount:h}:(y.isBackwards=n,y.rendering=null,y.renderingStartTime=0,y.last=l,y.tail=a,y.tailMode=u,y.treeForkCount=h)}function f0(e,n,a){var l=n.pendingProps,u=l.revealOrder,h=l.tail;l=l.children;var y=Ze.current,_=(y&2)!==0;if(_?(y=y&1|2,n.flags|=128):y&=1,M(Ze,y),pt(e,n,l,a),l=je?Ca:0,!_&&e!==null&&(e.flags&128)!==0)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&h0(e,a,n);else if(e.tag===19)h0(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(u){case"forwards":for(a=n.child,u=null;a!==null;)e=a.alternate,e!==null&&ml(e)===null&&(u=a),a=a.sibling;a=u,a===null?(u=n.child,n.child=null):(u=a.sibling,a.sibling=null),hu(n,!1,u,a,h,l);break;case"backwards":case"unstable_legacy-backwards":for(a=null,u=n.child,n.child=null;u!==null;){if(e=u.alternate,e!==null&&ml(e)===null){n.child=u;break}e=u.sibling,u.sibling=a,a=u,u=e}hu(n,!0,a,null,h,l);break;case"together":hu(n,!1,null,null,void 0,l);break;default:n.memoizedState=null}return n.child}function kn(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),oi|=n.lanes,(a&n.childLanes)===0)if(e!==null){if(ws(e,n,a,!1),(a&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(r(153));if(n.child!==null){for(e=n.child,a=En(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=En(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function fu(e,n){return(e.lanes&n)!==0?!0:(e=e.dependencies,!!(e!==null&&rl(e)))}function cw(e,n,a){switch(n.tag){case 3:pe(n,n.stateNode.containerInfo),ei(n,nt,e.memoizedState.cache),ki();break;case 27:case 5:ke(n);break;case 4:pe(n,n.stateNode.containerInfo);break;case 10:ei(n,n.type,n.memoizedProps.value);break;case 31:if(n.memoizedState!==null)return n.flags|=128,Bc(n),null;break;case 13:var l=n.memoizedState;if(l!==null)return l.dehydrated!==null?(si(n),n.flags|=128,null):(a&n.child.childLanes)!==0?d0(e,n,a):(si(n),e=kn(e,n,a),e!==null?e.sibling:null);si(n);break;case 19:var u=(e.flags&128)!==0;if(l=(a&n.childLanes)!==0,l||(ws(e,n,a,!1),l=(a&n.childLanes)!==0),u){if(l)return f0(e,n,a);n.flags|=128}if(u=n.memoizedState,u!==null&&(u.rendering=null,u.tail=null,u.lastEffect=null),M(Ze,Ze.current),l)break;return null;case 22:return n.lanes=0,a0(e,n,a,n.pendingProps);case 24:ei(n,nt,e.memoizedState.cache)}return kn(e,n,a)}function m0(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps)st=!0;else{if(!fu(e,a)&&(n.flags&128)===0)return st=!1,cw(e,n,a);st=(e.flags&131072)!==0}else st=!1,je&&(n.flags&1048576)!==0&&Yf(n,Ca,n.index);switch(n.lanes=0,n.tag){case 16:e:{var l=n.pendingProps;if(e=Li(n.elementType),n.type=e,typeof e=="function")vc(e)?(l=qi(e,l),n.tag=1,n=c0(null,n,e,l,a)):(n.tag=0,n=ru(null,n,e,l,a));else{if(e!=null){var u=e.$$typeof;if(u===Z){n.tag=11,n=n0(null,n,e,l,a);break e}else if(u===J){n.tag=14,n=i0(null,n,e,l,a);break e}}throw n=et(e)||e,Error(r(306,n,""))}}return n;case 0:return ru(e,n,n.type,n.pendingProps,a);case 1:return l=n.type,u=qi(l,n.pendingProps),c0(e,n,l,u,a);case 3:e:{if(pe(n,n.stateNode.containerInfo),e===null)throw Error(r(387));l=n.pendingProps;var h=n.memoizedState;u=h.element,kc(e,n),La(n,l,null,a);var y=n.memoizedState;if(l=y.cache,ei(n,nt,l),l!==h.cache&&Ec(n,[nt],a,!0),Ua(),l=y.element,h.isDehydrated)if(h={element:l,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=h,n.memoizedState=h,n.flags&256){n=u0(e,n,l,a);break e}else if(l!==u){u=Qt(Error(r(424)),n),Oa(u),n=u0(e,n,l,a);break e}else{switch(e=n.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(Ve=nn(e.firstChild),ft=n,je=!0,Jn=null,en=!0,a=am(n,null,l,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(ki(),l===u){n=kn(e,n,a);break e}pt(e,n,l,a)}n=n.child}return n;case 26:return jl(e,n),e===null?(a=jp(n.type,null,n.pendingProps,null))?n.memoizedState=a:je||(a=n.type,e=n.pendingProps,l=$l(ee.current).createElement(a),l[ht]=n,l[Et]=e,gt(l,a,e),ut(l),n.stateNode=l):n.memoizedState=jp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return ke(n),e===null&&je&&(l=n.stateNode=_p(n.type,n.pendingProps,ee.current),ft=n,en=!0,u=Ve,fi(n.type)?(Yu=u,Ve=nn(l.firstChild)):Ve=u),pt(e,n,n.pendingProps.children,a),jl(e,n),e===null&&(n.flags|=4194304),n.child;case 5:return e===null&&je&&((u=l=Ve)&&(l=Vw(l,n.type,n.pendingProps,en),l!==null?(n.stateNode=l,ft=n,Ve=nn(l.firstChild),en=!1,u=!0):u=!1),u||Wn(n)),ke(n),u=n.type,h=n.pendingProps,y=e!==null?e.memoizedProps:null,l=h.children,qu(u,h)?l=null:y!==null&&qu(u,y)&&(n.flags|=32),n.memoizedState!==null&&(u=Pc(e,n,ew,null,null,a),ir._currentValue=u),jl(e,n),pt(e,n,l,a),n.child;case 6:return e===null&&je&&((e=a=Ve)&&(a=Pw(a,n.pendingProps,en),a!==null?(n.stateNode=a,ft=n,Ve=null,e=!0):e=!1),e||Wn(n)),null;case 13:return d0(e,n,a);case 4:return pe(n,n.stateNode.containerInfo),l=n.pendingProps,e===null?n.child=Vi(n,null,l,a):pt(e,n,l,a),n.child;case 11:return n0(e,n,n.type,n.pendingProps,a);case 7:return pt(e,n,n.pendingProps,a),n.child;case 8:return pt(e,n,n.pendingProps.children,a),n.child;case 12:return pt(e,n,n.pendingProps.children,a),n.child;case 10:return l=n.pendingProps,ei(n,n.type,l.value),pt(e,n,l.children,a),n.child;case 9:return u=n.type._context,l=n.pendingProps.children,Mi(n),u=mt(u),l=l(u),n.flags|=1,pt(e,n,l,a),n.child;case 14:return i0(e,n,n.type,n.pendingProps,a);case 15:return s0(e,n,n.type,n.pendingProps,a);case 19:return f0(e,n,a);case 31:return ow(e,n,a);case 22:return a0(e,n,a,n.pendingProps);case 24:return Mi(n),l=mt(nt),e===null?(u=Oc(),u===null&&(u=Le,h=Ac(),u.pooledCache=h,h.refCount++,h!==null&&(u.pooledCacheLanes|=a),u=h),n.memoizedState={parent:l,cache:u},zc(n),ei(n,nt,u)):((e.lanes&a)!==0&&(kc(e,n),La(n,null,null,a),Ua()),u=e.memoizedState,h=n.memoizedState,u.parent!==l?(u={parent:l,cache:l},n.memoizedState=u,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=u),ei(n,nt,l)):(l=h.cache,ei(n,nt,l),l!==u.cache&&Ec(n,[nt],a,!0))),pt(e,n,n.pendingProps.children,a),n.child;case 29:throw n.pendingProps}throw Error(r(156,n.tag))}function Dn(e){e.flags|=4}function mu(e,n,a,l,u){if((n=(e.mode&32)!==0)&&(n=!1),n){if(e.flags|=16777216,(u&335544128)===u)if(e.stateNode.complete)e.flags|=8192;else if(q0())e.flags|=8192;else throw Bi=ul,Rc}else e.flags&=-16777217}function p0(e,n){if(n.type!=="stylesheet"||(n.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Op(n))if(q0())e.flags|=8192;else throw Bi=ul,Rc}function El(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Kh():536870912,e.lanes|=n,ks|=n)}function Ha(e,n){if(!je)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var l=null;a!==null;)a.alternate!==null&&(l=a),a=a.sibling;l===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:l.sibling=null}}function Pe(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,l=0;if(n)for(var u=e.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags&65011712,l|=u.flags&65011712,u.return=e,u=u.sibling;else for(u=e.child;u!==null;)a|=u.lanes|u.childLanes,l|=u.subtreeFlags,l|=u.flags,u.return=e,u=u.sibling;return e.subtreeFlags|=l,e.childLanes=a,n}function uw(e,n,a){var l=n.pendingProps;switch(_c(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pe(n),null;case 1:return Pe(n),null;case 3:return a=n.stateNode,l=null,e!==null&&(l=e.memoizedState.cache),n.memoizedState.cache!==l&&(n.flags|=2048),On(nt),we(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(xs(n)?Dn(n):e===null||e.memoizedState.isDehydrated&&(n.flags&256)===0||(n.flags|=1024,Tc())),Pe(n),null;case 26:var u=n.type,h=n.memoizedState;return e===null?(Dn(n),h!==null?(Pe(n),p0(n,h)):(Pe(n),mu(n,u,null,l,a))):h?h!==e.memoizedState?(Dn(n),Pe(n),p0(n,h)):(Pe(n),n.flags&=-16777217):(e=e.memoizedProps,e!==l&&Dn(n),Pe(n),mu(n,u,e,l,a)),null;case 27:if(Ce(n),a=ee.current,u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Dn(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Pe(n),null}e=I.current,xs(n)?Ff(n):(e=_p(u,l,a),n.stateNode=e,Dn(n))}return Pe(n),null;case 5:if(Ce(n),u=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==l&&Dn(n);else{if(!l){if(n.stateNode===null)throw Error(r(166));return Pe(n),null}if(h=I.current,xs(n))Ff(n);else{var y=$l(ee.current);switch(h){case 1:h=y.createElementNS("http://www.w3.org/2000/svg",u);break;case 2:h=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;default:switch(u){case"svg":h=y.createElementNS("http://www.w3.org/2000/svg",u);break;case"math":h=y.createElementNS("http://www.w3.org/1998/Math/MathML",u);break;case"script":h=y.createElement("div"),h.innerHTML="<script><\/script>",h=h.removeChild(h.firstChild);break;case"select":h=typeof l.is=="string"?y.createElement("select",{is:l.is}):y.createElement("select"),l.multiple?h.multiple=!0:l.size&&(h.size=l.size);break;default:h=typeof l.is=="string"?y.createElement(u,{is:l.is}):y.createElement(u)}}h[ht]=n,h[Et]=l;e:for(y=n.child;y!==null;){if(y.tag===5||y.tag===6)h.appendChild(y.stateNode);else if(y.tag!==4&&y.tag!==27&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;y=y.return}y.sibling.return=y.return,y=y.sibling}n.stateNode=h;e:switch(gt(h,u,l),u){case"button":case"input":case"select":case"textarea":l=!!l.autoFocus;break e;case"img":l=!0;break e;default:l=!1}l&&Dn(n)}}return Pe(n),mu(n,n.type,e===null?null:e.memoizedProps,n.pendingProps,a),null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==l&&Dn(n);else{if(typeof l!="string"&&n.stateNode===null)throw Error(r(166));if(e=ee.current,xs(n)){if(e=n.stateNode,a=n.memoizedProps,l=null,u=ft,u!==null)switch(u.tag){case 27:case 5:l=u.memoizedProps}e[ht]=n,e=!!(e.nodeValue===a||l!==null&&l.suppressHydrationWarning===!0||dp(e.nodeValue,a)),e||Wn(n,!0)}else e=$l(e).createTextNode(l),e[ht]=n,n.stateNode=e}return Pe(n),null;case 31:if(a=n.memoizedState,e===null||e.memoizedState!==null){if(l=xs(n),a!==null){if(e===null){if(!l)throw Error(r(318));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(r(557));e[ht]=n}else ki(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Pe(n),e=!1}else a=Tc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return n.flags&256?(Pt(n),n):(Pt(n),null);if((n.flags&128)!==0)throw Error(r(558))}return Pe(n),null;case 13:if(l=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(u=xs(n),l!==null&&l.dehydrated!==null){if(e===null){if(!u)throw Error(r(318));if(u=n.memoizedState,u=u!==null?u.dehydrated:null,!u)throw Error(r(317));u[ht]=n}else ki(),(n.flags&128)===0&&(n.memoizedState=null),n.flags|=4;Pe(n),u=!1}else u=Tc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=u),u=!0;if(!u)return n.flags&256?(Pt(n),n):(Pt(n),null)}return Pt(n),(n.flags&128)!==0?(n.lanes=a,n):(a=l!==null,e=e!==null&&e.memoizedState!==null,a&&(l=n.child,u=null,l.alternate!==null&&l.alternate.memoizedState!==null&&l.alternate.memoizedState.cachePool!==null&&(u=l.alternate.memoizedState.cachePool.pool),h=null,l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(h=l.memoizedState.cachePool.pool),h!==u&&(l.flags|=2048)),a!==e&&a&&(n.child.flags|=8192),El(n,n.updateQueue),Pe(n),null);case 4:return we(),e===null&&Uu(n.stateNode.containerInfo),Pe(n),null;case 10:return On(n.type),Pe(n),null;case 19:if(k(Ze),l=n.memoizedState,l===null)return Pe(n),null;if(u=(n.flags&128)!==0,h=l.rendering,h===null)if(u)Ha(l,!1);else{if(Ke!==0||e!==null&&(e.flags&128)!==0)for(e=n.child;e!==null;){if(h=ml(e),h!==null){for(n.flags|=128,Ha(l,!1),e=h.updateQueue,n.updateQueue=e,El(n,e),n.subtreeFlags=0,e=a,a=n.child;a!==null;)Hf(a,e),a=a.sibling;return M(Ze,Ze.current&1|2),je&&An(n,l.treeForkCount),n.child}e=e.sibling}l.tail!==null&&wt()>zl&&(n.flags|=128,u=!0,Ha(l,!1),n.lanes=4194304)}else{if(!u)if(e=ml(h),e!==null){if(n.flags|=128,u=!0,e=e.updateQueue,n.updateQueue=e,El(n,e),Ha(l,!0),l.tail===null&&l.tailMode==="hidden"&&!h.alternate&&!je)return Pe(n),null}else 2*wt()-l.renderingStartTime>zl&&a!==536870912&&(n.flags|=128,u=!0,Ha(l,!1),n.lanes=4194304);l.isBackwards?(h.sibling=n.child,n.child=h):(e=l.last,e!==null?e.sibling=h:n.child=h,l.last=h)}return l.tail!==null?(e=l.tail,l.rendering=e,l.tail=e.sibling,l.renderingStartTime=wt(),e.sibling=null,a=Ze.current,M(Ze,u?a&1|2:a&1),je&&An(n,l.treeForkCount),e):(Pe(n),null);case 22:case 23:return Pt(n),Lc(),l=n.memoizedState!==null,e!==null?e.memoizedState!==null!==l&&(n.flags|=8192):l&&(n.flags|=8192),l?(a&536870912)!==0&&(n.flags&128)===0&&(Pe(n),n.subtreeFlags&6&&(n.flags|=8192)):Pe(n),a=n.updateQueue,a!==null&&El(n,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),l=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(l=n.memoizedState.cachePool.pool),l!==a&&(n.flags|=2048),e!==null&&k(Ui),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),n.memoizedState.cache!==a&&(n.flags|=2048),On(nt),Pe(n),null;case 25:return null;case 30:return null}throw Error(r(156,n.tag))}function dw(e,n){switch(_c(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return On(nt),we(),e=n.flags,(e&65536)!==0&&(e&128)===0?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Ce(n),null;case 31:if(n.memoizedState!==null){if(Pt(n),n.alternate===null)throw Error(r(340));ki()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 13:if(Pt(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(r(340));ki()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return k(Ze),null;case 4:return we(),null;case 10:return On(n.type),null;case 22:case 23:return Pt(n),Lc(),e!==null&&k(Ui),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return On(nt),null;case 25:return null;default:return null}}function g0(e,n){switch(_c(n),n.tag){case 3:On(nt),we();break;case 26:case 27:case 5:Ce(n);break;case 4:we();break;case 31:n.memoizedState!==null&&Pt(n);break;case 13:Pt(n);break;case 19:k(Ze);break;case 10:On(n.type);break;case 22:case 23:Pt(n),Lc(),e!==null&&k(Ui);break;case 24:On(nt)}}function Ga(e,n){try{var a=n.updateQueue,l=a!==null?a.lastEffect:null;if(l!==null){var u=l.next;a=u;do{if((a.tag&e)===e){l=void 0;var h=a.create,y=a.inst;l=h(),y.destroy=l}a=a.next}while(a!==u)}}catch(_){ze(n,n.return,_)}}function ri(e,n,a){try{var l=n.updateQueue,u=l!==null?l.lastEffect:null;if(u!==null){var h=u.next;l=h;do{if((l.tag&e)===e){var y=l.inst,_=y.destroy;if(_!==void 0){y.destroy=void 0,u=n;var N=a,B=_;try{B()}catch(G){ze(u,N,G)}}}l=l.next}while(l!==h)}}catch(G){ze(n,n.return,G)}}function y0(e){var n=e.updateQueue;if(n!==null){var a=e.stateNode;try{lm(n,a)}catch(l){ze(e,e.return,l)}}}function v0(e,n,a){a.props=qi(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(l){ze(e,n,l)}}function Ia(e,n){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var l=e.stateNode;break;case 30:l=e.stateNode;break;default:l=e.stateNode}typeof a=="function"?e.refCleanup=a(l):a.current=l}}catch(u){ze(e,n,u)}}function yn(e,n){var a=e.ref,l=e.refCleanup;if(a!==null)if(typeof l=="function")try{l()}catch(u){ze(e,n,u)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(u){ze(e,n,u)}else a.current=null}function b0(e){var n=e.type,a=e.memoizedProps,l=e.stateNode;try{e:switch(n){case"button":case"input":case"select":case"textarea":a.autoFocus&&l.focus();break e;case"img":a.src?l.src=a.src:a.srcSet&&(l.srcset=a.srcSet)}}catch(u){ze(e,e.return,u)}}function pu(e,n,a){try{var l=e.stateNode;kw(l,e.type,a,n),l[Et]=n}catch(u){ze(e,e.return,u)}}function x0(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&fi(e.type)||e.tag===4}function gu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||x0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&fi(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function yu(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,n):(n=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,n.appendChild(e),a=a._reactRootContainer,a!=null||n.onclick!==null||(n.onclick=jn));else if(l!==4&&(l===27&&fi(e.type)&&(a=e.stateNode,n=null),e=e.child,e!==null))for(yu(e,n,a),e=e.sibling;e!==null;)yu(e,n,a),e=e.sibling}function Al(e,n,a){var l=e.tag;if(l===5||l===6)e=e.stateNode,n?a.insertBefore(e,n):a.appendChild(e);else if(l!==4&&(l===27&&fi(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(Al(e,n,a),e=e.sibling;e!==null;)Al(e,n,a),e=e.sibling}function w0(e){var n=e.stateNode,a=e.memoizedProps;try{for(var l=e.type,u=n.attributes;u.length;)n.removeAttributeNode(u[0]);gt(n,l,a),n[ht]=e,n[Et]=a}catch(h){ze(e,e.return,h)}}var Mn=!1,at=!1,vu=!1,_0=typeof WeakSet=="function"?WeakSet:Set,dt=null;function hw(e,n){if(e=e.containerInfo,Vu=Xl,e=Df(e),dc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var l=a.getSelection&&a.getSelection();if(l&&l.rangeCount!==0){a=l.anchorNode;var u=l.anchorOffset,h=l.focusNode;l=l.focusOffset;try{a.nodeType,h.nodeType}catch{a=null;break e}var y=0,_=-1,N=-1,B=0,G=0,K=e,P=null;t:for(;;){for(var q;K!==a||u!==0&&K.nodeType!==3||(_=y+u),K!==h||l!==0&&K.nodeType!==3||(N=y+l),K.nodeType===3&&(y+=K.nodeValue.length),(q=K.firstChild)!==null;)P=K,K=q;for(;;){if(K===e)break t;if(P===a&&++B===u&&(_=y),P===h&&++G===l&&(N=y),(q=K.nextSibling)!==null)break;K=P,P=K.parentNode}K=q}a=_===-1||N===-1?null:{start:_,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(Pu={focusedElem:e,selectionRange:a},Xl=!1,dt=n;dt!==null;)if(n=dt,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,dt=e;else for(;dt!==null;){switch(n=dt,h=n.alternate,e=n.flags,n.tag){case 0:if((e&4)!==0&&(e=n.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)u=e[a],u.ref.impl=u.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&h!==null){e=void 0,a=n,u=h.memoizedProps,h=h.memoizedState,l=a.stateNode;try{var se=qi(a.type,u);e=l.getSnapshotBeforeUpdate(se,h),l.__reactInternalSnapshotBeforeUpdate=e}catch(de){ze(a,a.return,de)}}break;case 3:if((e&1024)!==0){if(e=n.stateNode.containerInfo,a=e.nodeType,a===9)Hu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Hu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(r(163))}if(e=n.sibling,e!==null){e.return=n.return,dt=e;break}dt=n.return}}function S0(e,n,a){var l=a.flags;switch(a.tag){case 0:case 11:case 15:Ln(e,a),l&4&&Ga(5,a);break;case 1:if(Ln(e,a),l&4)if(e=a.stateNode,n===null)try{e.componentDidMount()}catch(y){ze(a,a.return,y)}else{var u=qi(a.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(u,n,e.__reactInternalSnapshotBeforeUpdate)}catch(y){ze(a,a.return,y)}}l&64&&y0(a),l&512&&Ia(a,a.return);break;case 3:if(Ln(e,a),l&64&&(e=a.updateQueue,e!==null)){if(n=null,a.child!==null)switch(a.child.tag){case 27:case 5:n=a.child.stateNode;break;case 1:n=a.child.stateNode}try{lm(e,n)}catch(y){ze(a,a.return,y)}}break;case 27:n===null&&l&4&&w0(a);case 26:case 5:Ln(e,a),n===null&&l&4&&b0(a),l&512&&Ia(a,a.return);break;case 12:Ln(e,a);break;case 31:Ln(e,a),l&4&&N0(e,a);break;case 13:Ln(e,a),l&4&&E0(e,a),l&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=ww.bind(null,a),qw(e,a))));break;case 22:if(l=a.memoizedState!==null||Mn,!l){n=n!==null&&n.memoizedState!==null||at,u=Mn;var h=at;Mn=l,(at=n)&&!h?Bn(e,a,(a.subtreeFlags&8772)!==0):Ln(e,a),Mn=u,at=h}break;case 30:break;default:Ln(e,a)}}function T0(e){var n=e.alternate;n!==null&&(e.alternate=null,T0(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Fo(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var He=null,Ct=!1;function Un(e,n,a){for(a=a.child;a!==null;)j0(e,n,a),a=a.sibling}function j0(e,n,a){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(pa,a)}catch{}switch(a.tag){case 26:at||yn(a,n),Un(e,n,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:at||yn(a,n);var l=He,u=Ct;fi(a.type)&&(He=a.stateNode,Ct=!1),Un(e,n,a),er(a.stateNode),He=l,Ct=u;break;case 5:at||yn(a,n);case 6:if(l=He,u=Ct,He=null,Un(e,n,a),He=l,Ct=u,He!==null)if(Ct)try{(He.nodeType===9?He.body:He.nodeName==="HTML"?He.ownerDocument.body:He).removeChild(a.stateNode)}catch(h){ze(a,n,h)}else try{He.removeChild(a.stateNode)}catch(h){ze(a,n,h)}break;case 18:He!==null&&(Ct?(e=He,yp(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),qs(e)):yp(He,a.stateNode));break;case 4:l=He,u=Ct,He=a.stateNode.containerInfo,Ct=!0,Un(e,n,a),He=l,Ct=u;break;case 0:case 11:case 14:case 15:ri(2,a,n),at||ri(4,a,n),Un(e,n,a);break;case 1:at||(yn(a,n),l=a.stateNode,typeof l.componentWillUnmount=="function"&&v0(a,n,l)),Un(e,n,a);break;case 21:Un(e,n,a);break;case 22:at=(l=at)||a.memoizedState!==null,Un(e,n,a),at=l;break;default:Un(e,n,a)}}function N0(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{qs(e)}catch(a){ze(n,n.return,a)}}}function E0(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{qs(e)}catch(a){ze(n,n.return,a)}}function fw(e){switch(e.tag){case 31:case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new _0),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new _0),n;default:throw Error(r(435,e.tag))}}function Cl(e,n){var a=fw(e);n.forEach(function(l){if(!a.has(l)){a.add(l);var u=_w.bind(null,e,l);l.then(u,u)}})}function Ot(e,n){var a=n.deletions;if(a!==null)for(var l=0;l<a.length;l++){var u=a[l],h=e,y=n,_=y;e:for(;_!==null;){switch(_.tag){case 27:if(fi(_.type)){He=_.stateNode,Ct=!1;break e}break;case 5:He=_.stateNode,Ct=!1;break e;case 3:case 4:He=_.stateNode.containerInfo,Ct=!0;break e}_=_.return}if(He===null)throw Error(r(160));j0(h,y,u),He=null,Ct=!1,h=u.alternate,h!==null&&(h.return=null),u.return=null}if(n.subtreeFlags&13886)for(n=n.child;n!==null;)A0(n,e),n=n.sibling}var cn=null;function A0(e,n){var a=e.alternate,l=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:Ot(n,e),Rt(e),l&4&&(ri(3,e,e.return),Ga(3,e),ri(5,e,e.return));break;case 1:Ot(n,e),Rt(e),l&512&&(at||a===null||yn(a,a.return)),l&64&&Mn&&(e=e.updateQueue,e!==null&&(l=e.callbacks,l!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?l:a.concat(l))));break;case 26:var u=cn;if(Ot(n,e),Rt(e),l&512&&(at||a===null||yn(a,a.return)),l&4){var h=a!==null?a.memoizedState:null;if(l=e.memoizedState,a===null)if(l===null)if(e.stateNode===null){e:{l=e.type,a=e.memoizedProps,u=u.ownerDocument||u;t:switch(l){case"title":h=u.getElementsByTagName("title")[0],(!h||h[va]||h[ht]||h.namespaceURI==="http://www.w3.org/2000/svg"||h.hasAttribute("itemprop"))&&(h=u.createElement(l),u.head.insertBefore(h,u.querySelector("head > title"))),gt(h,l,a),h[ht]=e,ut(h),l=h;break e;case"link":var y=Ap("link","href",u).get(l+(a.href||""));if(y){for(var _=0;_<y.length;_++)if(h=y[_],h.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&h.getAttribute("rel")===(a.rel==null?null:a.rel)&&h.getAttribute("title")===(a.title==null?null:a.title)&&h.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){y.splice(_,1);break t}}h=u.createElement(l),gt(h,l,a),u.head.appendChild(h);break;case"meta":if(y=Ap("meta","content",u).get(l+(a.content||""))){for(_=0;_<y.length;_++)if(h=y[_],h.getAttribute("content")===(a.content==null?null:""+a.content)&&h.getAttribute("name")===(a.name==null?null:a.name)&&h.getAttribute("property")===(a.property==null?null:a.property)&&h.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&h.getAttribute("charset")===(a.charSet==null?null:a.charSet)){y.splice(_,1);break t}}h=u.createElement(l),gt(h,l,a),u.head.appendChild(h);break;default:throw Error(r(468,l))}h[ht]=e,ut(h),l=h}e.stateNode=l}else Cp(u,e.type,e.stateNode);else e.stateNode=Ep(u,l,e.memoizedProps);else h!==l?(h===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):h.count--,l===null?Cp(u,e.type,e.stateNode):Ep(u,l,e.memoizedProps)):l===null&&e.stateNode!==null&&pu(e,e.memoizedProps,a.memoizedProps)}break;case 27:Ot(n,e),Rt(e),l&512&&(at||a===null||yn(a,a.return)),a!==null&&l&4&&pu(e,e.memoizedProps,a.memoizedProps);break;case 5:if(Ot(n,e),Rt(e),l&512&&(at||a===null||yn(a,a.return)),e.flags&32){u=e.stateNode;try{us(u,"")}catch(se){ze(e,e.return,se)}}l&4&&e.stateNode!=null&&(u=e.memoizedProps,pu(e,u,a!==null?a.memoizedProps:u)),l&1024&&(vu=!0);break;case 6:if(Ot(n,e),Rt(e),l&4){if(e.stateNode===null)throw Error(r(162));l=e.memoizedProps,a=e.stateNode;try{a.nodeValue=l}catch(se){ze(e,e.return,se)}}break;case 3:if(Il=null,u=cn,cn=Hl(n.containerInfo),Ot(n,e),cn=u,Rt(e),l&4&&a!==null&&a.memoizedState.isDehydrated)try{qs(n.containerInfo)}catch(se){ze(e,e.return,se)}vu&&(vu=!1,C0(e));break;case 4:l=cn,cn=Hl(e.stateNode.containerInfo),Ot(n,e),Rt(e),cn=l;break;case 12:Ot(n,e),Rt(e);break;case 31:Ot(n,e),Rt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Cl(e,l)));break;case 13:Ot(n,e),Rt(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Rl=wt()),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Cl(e,l)));break;case 22:u=e.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,B=Mn,G=at;if(Mn=B||u,at=G||N,Ot(n,e),at=G,Mn=B,Rt(e),l&8192)e:for(n=e.stateNode,n._visibility=u?n._visibility&-2:n._visibility|1,u&&(a===null||N||Mn||at||$i(e)),a=null,n=e;;){if(n.tag===5||n.tag===26){if(a===null){N=a=n;try{if(h=N.stateNode,u)y=h.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none";else{_=N.stateNode;var K=N.memoizedProps.style,P=K!=null&&K.hasOwnProperty("display")?K.display:null;_.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(se){ze(N,N.return,se)}}}else if(n.tag===6){if(a===null){N=n;try{N.stateNode.nodeValue=u?"":N.memoizedProps}catch(se){ze(N,N.return,se)}}}else if(n.tag===18){if(a===null){N=n;try{var q=N.stateNode;u?vp(q,!0):vp(N.stateNode,!1)}catch(se){ze(N,N.return,se)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;a===n&&(a=null),n=n.return}a===n&&(a=null),n.sibling.return=n.return,n=n.sibling}l&4&&(l=e.updateQueue,l!==null&&(a=l.retryQueue,a!==null&&(l.retryQueue=null,Cl(e,a))));break;case 19:Ot(n,e),Rt(e),l&4&&(l=e.updateQueue,l!==null&&(e.updateQueue=null,Cl(e,l)));break;case 30:break;case 21:break;default:Ot(n,e),Rt(e)}}function Rt(e){var n=e.flags;if(n&2){try{for(var a,l=e.return;l!==null;){if(x0(l)){a=l;break}l=l.return}if(a==null)throw Error(r(160));switch(a.tag){case 27:var u=a.stateNode,h=gu(e);Al(e,h,u);break;case 5:var y=a.stateNode;a.flags&32&&(us(y,""),a.flags&=-33);var _=gu(e);Al(e,_,y);break;case 3:case 4:var N=a.stateNode.containerInfo,B=gu(e);yu(e,B,N);break;default:throw Error(r(161))}}catch(G){ze(e,e.return,G)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function C0(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;C0(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ln(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)S0(e,n.alternate,n),n=n.sibling}function $i(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:ri(4,n,n.return),$i(n);break;case 1:yn(n,n.return);var a=n.stateNode;typeof a.componentWillUnmount=="function"&&v0(n,n.return,a),$i(n);break;case 27:er(n.stateNode);case 26:case 5:yn(n,n.return),$i(n);break;case 22:n.memoizedState===null&&$i(n);break;case 30:$i(n);break;default:$i(n)}e=e.sibling}}function Bn(e,n,a){for(a=a&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var l=n.alternate,u=e,h=n,y=h.flags;switch(h.tag){case 0:case 11:case 15:Bn(u,h,a),Ga(4,h);break;case 1:if(Bn(u,h,a),l=h,u=l.stateNode,typeof u.componentDidMount=="function")try{u.componentDidMount()}catch(B){ze(l,l.return,B)}if(l=h,u=l.updateQueue,u!==null){var _=l.stateNode;try{var N=u.shared.hiddenCallbacks;if(N!==null)for(u.shared.hiddenCallbacks=null,u=0;u<N.length;u++)rm(N[u],_)}catch(B){ze(l,l.return,B)}}a&&y&64&&y0(h),Ia(h,h.return);break;case 27:w0(h);case 26:case 5:Bn(u,h,a),a&&l===null&&y&4&&b0(h),Ia(h,h.return);break;case 12:Bn(u,h,a);break;case 31:Bn(u,h,a),a&&y&4&&N0(u,h);break;case 13:Bn(u,h,a),a&&y&4&&E0(u,h);break;case 22:h.memoizedState===null&&Bn(u,h,a),Ia(h,h.return);break;case 30:break;default:Bn(u,h,a)}n=n.sibling}}function bu(e,n){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&Ra(a))}function xu(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ra(e))}function un(e,n,a,l){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)O0(e,n,a,l),n=n.sibling}function O0(e,n,a,l){var u=n.flags;switch(n.tag){case 0:case 11:case 15:un(e,n,a,l),u&2048&&Ga(9,n);break;case 1:un(e,n,a,l);break;case 3:un(e,n,a,l),u&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&Ra(e)));break;case 12:if(u&2048){un(e,n,a,l),e=n.stateNode;try{var h=n.memoizedProps,y=h.id,_=h.onPostCommit;typeof _=="function"&&_(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){ze(n,n.return,N)}}else un(e,n,a,l);break;case 31:un(e,n,a,l);break;case 13:un(e,n,a,l);break;case 23:break;case 22:h=n.stateNode,y=n.alternate,n.memoizedState!==null?h._visibility&2?un(e,n,a,l):Ya(e,n):h._visibility&2?un(e,n,a,l):(h._visibility|=2,Os(e,n,a,l,(n.subtreeFlags&10256)!==0||!1)),u&2048&&bu(y,n);break;case 24:un(e,n,a,l),u&2048&&xu(n.alternate,n);break;default:un(e,n,a,l)}}function Os(e,n,a,l,u){for(u=u&&((n.subtreeFlags&10256)!==0||!1),n=n.child;n!==null;){var h=e,y=n,_=a,N=l,B=y.flags;switch(y.tag){case 0:case 11:case 15:Os(h,y,_,N,u),Ga(8,y);break;case 23:break;case 22:var G=y.stateNode;y.memoizedState!==null?G._visibility&2?Os(h,y,_,N,u):Ya(h,y):(G._visibility|=2,Os(h,y,_,N,u)),u&&B&2048&&bu(y.alternate,y);break;case 24:Os(h,y,_,N,u),u&&B&2048&&xu(y.alternate,y);break;default:Os(h,y,_,N,u)}n=n.sibling}}function Ya(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var a=e,l=n,u=l.flags;switch(l.tag){case 22:Ya(a,l),u&2048&&bu(l.alternate,l);break;case 24:Ya(a,l),u&2048&&xu(l.alternate,l);break;default:Ya(a,l)}n=n.sibling}}var Ka=8192;function Rs(e,n,a){if(e.subtreeFlags&Ka)for(e=e.child;e!==null;)R0(e,n,a),e=e.sibling}function R0(e,n,a){switch(e.tag){case 26:Rs(e,n,a),e.flags&Ka&&e.memoizedState!==null&&Ww(a,cn,e.memoizedState,e.memoizedProps);break;case 5:Rs(e,n,a);break;case 3:case 4:var l=cn;cn=Hl(e.stateNode.containerInfo),Rs(e,n,a),cn=l;break;case 22:e.memoizedState===null&&(l=e.alternate,l!==null&&l.memoizedState!==null?(l=Ka,Ka=16777216,Rs(e,n,a),Ka=l):Rs(e,n,a));break;default:Rs(e,n,a)}}function z0(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function Fa(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];dt=l,D0(l,e)}z0(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)k0(e),e=e.sibling}function k0(e){switch(e.tag){case 0:case 11:case 15:Fa(e),e.flags&2048&&ri(9,e,e.return);break;case 3:Fa(e);break;case 12:Fa(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&2&&(e.return===null||e.return.tag!==13)?(n._visibility&=-3,Ol(e)):Fa(e);break;default:Fa(e)}}function Ol(e){var n=e.deletions;if((e.flags&16)!==0){if(n!==null)for(var a=0;a<n.length;a++){var l=n[a];dt=l,D0(l,e)}z0(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:ri(8,n,n.return),Ol(n);break;case 22:a=n.stateNode,a._visibility&2&&(a._visibility&=-3,Ol(n));break;default:Ol(n)}e=e.sibling}}function D0(e,n){for(;dt!==null;){var a=dt;switch(a.tag){case 0:case 11:case 15:ri(8,a,n);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var l=a.memoizedState.cachePool.pool;l!=null&&l.refCount++}break;case 24:Ra(a.memoizedState.cache)}if(l=a.child,l!==null)l.return=a,dt=l;else e:for(a=e;dt!==null;){l=dt;var u=l.sibling,h=l.return;if(T0(l),l===a){dt=null;break e}if(u!==null){u.return=h,dt=u;break e}dt=h}}}var mw={getCacheForType:function(e){var n=mt(nt),a=n.data.get(e);return a===void 0&&(a=e(),n.data.set(e,a)),a},cacheSignal:function(){return mt(nt).controller.signal}},pw=typeof WeakMap=="function"?WeakMap:Map,Ae=0,Le=null,be=null,_e=0,Re=0,qt=null,li=!1,zs=!1,wu=!1,Vn=0,Ke=0,oi=0,Hi=0,_u=0,$t=0,ks=0,Xa=null,zt=null,Su=!1,Rl=0,M0=0,zl=1/0,kl=null,ci=null,ot=0,ui=null,Ds=null,Pn=0,Tu=0,ju=null,U0=null,Za=0,Nu=null;function Ht(){return(Ae&2)!==0&&_e!==0?_e&-_e:A.T!==null?zu():Qh()}function L0(){if($t===0)if((_e&536870912)===0||je){var e=qr;qr<<=1,(qr&3932160)===0&&(qr=262144),$t=e}else $t=536870912;return e=Vt.current,e!==null&&(e.flags|=32),$t}function kt(e,n,a){(e===Le&&(Re===2||Re===9)||e.cancelPendingCommit!==null)&&(Ms(e,0),di(e,_e,$t,!1)),ya(e,a),((Ae&2)===0||e!==Le)&&(e===Le&&((Ae&2)===0&&(Hi|=a),Ke===4&&di(e,_e,$t,!1)),vn(e))}function B0(e,n,a){if((Ae&6)!==0)throw Error(r(327));var l=!a&&(n&127)===0&&(n&e.expiredLanes)===0||ga(e,n),u=l?vw(e,n):Au(e,n,!0),h=l;do{if(u===0){zs&&!l&&di(e,n,0,!1);break}else{if(a=e.current.alternate,h&&!gw(a)){u=Au(e,n,!1),h=!1;continue}if(u===2){if(h=n,e.errorRecoveryDisabledLanes&h)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;e:{var _=e;u=Xa;var N=_.current.memoizedState.isDehydrated;if(N&&(Ms(_,y).flags|=256),y=Au(_,y,!1),y!==2){if(wu&&!N){_.errorRecoveryDisabledLanes|=h,Hi|=h,u=4;break e}h=zt,zt=u,h!==null&&(zt===null?zt=h:zt.push.apply(zt,h))}u=y}if(h=!1,u!==2)continue}}if(u===1){Ms(e,0),di(e,n,0,!0);break}e:{switch(l=e,h=u,h){case 0:case 1:throw Error(r(345));case 4:if((n&4194048)!==n)break;case 6:di(l,n,$t,!li);break e;case 2:zt=null;break;case 3:case 5:break;default:throw Error(r(329))}if((n&62914560)===n&&(u=Rl+300-wt(),10<u)){if(di(l,n,$t,!li),Hr(l,0,!0)!==0)break e;Pn=n,l.timeoutHandle=pp(V0.bind(null,l,a,zt,kl,Su,n,$t,Hi,ks,li,h,"Throttled",-0,0),u);break e}V0(l,a,zt,kl,Su,n,$t,Hi,ks,li,h,null,-0,0)}}break}while(!0);vn(e)}function V0(e,n,a,l,u,h,y,_,N,B,G,K,P,q){if(e.timeoutHandle=-1,K=n.subtreeFlags,K&8192||(K&16785408)===16785408){K={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},R0(n,h,K);var se=(h&62914560)===h?Rl-wt():(h&4194048)===h?M0-wt():0;if(se=e_(K,se),se!==null){Pn=h,e.cancelPendingCommit=se(K0.bind(null,e,n,h,a,l,u,y,_,N,G,K,null,P,q)),di(e,h,y,!B);return}}K0(e,n,h,a,l,u,y,_,N)}function gw(e){for(var n=e;;){var a=n.tag;if((a===0||a===11||a===15)&&n.flags&16384&&(a=n.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var l=0;l<a.length;l++){var u=a[l],h=u.getSnapshot;u=u.value;try{if(!Lt(h(),u))return!1}catch{return!1}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function di(e,n,a,l){n&=~_u,n&=~Hi,e.suspendedLanes|=n,e.pingedLanes&=~n,l&&(e.warmLanes|=n),l=e.expirationTimes;for(var u=n;0<u;){var h=31-Ut(u),y=1<<h;l[h]=-1,u&=~y}a!==0&&Fh(e,a,n)}function Dl(){return(Ae&6)===0?(Qa(0),!1):!0}function Eu(){if(be!==null){if(Re===0)var e=be.return;else e=be,Cn=Di=null,Hc(e),js=null,ka=0,e=be;for(;e!==null;)g0(e.alternate,e),e=e.return;be=null}}function Ms(e,n){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Uw(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Pn=0,Eu(),Le=e,be=a=En(e.current,null),_e=n,Re=0,qt=null,li=!1,zs=ga(e,n),wu=!1,ks=$t=_u=Hi=oi=Ke=0,zt=Xa=null,Su=!1,(n&8)!==0&&(n|=n&32);var l=e.entangledLanes;if(l!==0)for(e=e.entanglements,l&=n;0<l;){var u=31-Ut(l),h=1<<u;n|=e[u],l&=~h}return Vn=n,tl(),a}function P0(e,n){ye=null,A.H=qa,n===Ts||n===cl?(n=nm(),Re=3):n===Rc?(n=nm(),Re=4):Re=n===au?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,qt=n,be===null&&(Ke=1,Sl(e,Qt(n,e.current)))}function q0(){var e=Vt.current;return e===null?!0:(_e&4194048)===_e?tn===null:(_e&62914560)===_e||(_e&536870912)!==0?e===tn:!1}function $0(){var e=A.H;return A.H=qa,e===null?qa:e}function H0(){var e=A.A;return A.A=mw,e}function Ml(){Ke=4,li||(_e&4194048)!==_e&&Vt.current!==null||(zs=!0),(oi&134217727)===0&&(Hi&134217727)===0||Le===null||di(Le,_e,$t,!1)}function Au(e,n,a){var l=Ae;Ae|=2;var u=$0(),h=H0();(Le!==e||_e!==n)&&(kl=null,Ms(e,n)),n=!1;var y=Ke;e:do try{if(Re!==0&&be!==null){var _=be,N=qt;switch(Re){case 8:Eu(),y=6;break e;case 3:case 2:case 9:case 6:Vt.current===null&&(n=!0);var B=Re;if(Re=0,qt=null,Us(e,_,N,B),a&&zs){y=0;break e}break;default:B=Re,Re=0,qt=null,Us(e,_,N,B)}}yw(),y=Ke;break}catch(G){P0(e,G)}while(!0);return n&&e.shellSuspendCounter++,Cn=Di=null,Ae=l,A.H=u,A.A=h,be===null&&(Le=null,_e=0,tl()),y}function yw(){for(;be!==null;)G0(be)}function vw(e,n){var a=Ae;Ae|=2;var l=$0(),u=H0();Le!==e||_e!==n?(kl=null,zl=wt()+500,Ms(e,n)):zs=ga(e,n);e:do try{if(Re!==0&&be!==null){n=be;var h=qt;t:switch(Re){case 1:Re=0,qt=null,Us(e,n,h,1);break;case 2:case 9:if(em(h)){Re=0,qt=null,I0(n);break}n=function(){Re!==2&&Re!==9||Le!==e||(Re=7),vn(e)},h.then(n,n);break e;case 3:Re=7;break e;case 4:Re=5;break e;case 7:em(h)?(Re=0,qt=null,I0(n)):(Re=0,qt=null,Us(e,n,h,7));break;case 5:var y=null;switch(be.tag){case 26:y=be.memoizedState;case 5:case 27:var _=be;if(y?Op(y):_.stateNode.complete){Re=0,qt=null;var N=_.sibling;if(N!==null)be=N;else{var B=_.return;B!==null?(be=B,Ul(B)):be=null}break t}}Re=0,qt=null,Us(e,n,h,5);break;case 6:Re=0,qt=null,Us(e,n,h,6);break;case 8:Eu(),Ke=6;break e;default:throw Error(r(462))}}bw();break}catch(G){P0(e,G)}while(!0);return Cn=Di=null,A.H=l,A.A=u,Ae=a,be!==null?0:(Le=null,_e=0,tl(),Ke)}function bw(){for(;be!==null&&!ma();)G0(be)}function G0(e){var n=m0(e.alternate,e,Vn);e.memoizedProps=e.pendingProps,n===null?Ul(e):be=n}function I0(e){var n=e,a=n.alternate;switch(n.tag){case 15:case 0:n=o0(a,n,n.pendingProps,n.type,void 0,_e);break;case 11:n=o0(a,n,n.pendingProps,n.type.render,n.ref,_e);break;case 5:Hc(n);default:g0(a,n),n=be=Hf(n,Vn),n=m0(a,n,Vn)}e.memoizedProps=e.pendingProps,n===null?Ul(e):be=n}function Us(e,n,a,l){Cn=Di=null,Hc(n),js=null,ka=0;var u=n.return;try{if(lw(e,u,n,a,_e)){Ke=1,Sl(e,Qt(a,e.current)),be=null;return}}catch(h){if(u!==null)throw be=u,h;Ke=1,Sl(e,Qt(a,e.current)),be=null;return}n.flags&32768?(je||l===1?e=!0:zs||(_e&536870912)!==0?e=!1:(li=e=!0,(l===2||l===9||l===3||l===6)&&(l=Vt.current,l!==null&&l.tag===13&&(l.flags|=16384))),Y0(n,e)):Ul(n)}function Ul(e){var n=e;do{if((n.flags&32768)!==0){Y0(n,li);return}e=n.return;var a=uw(n.alternate,n,Vn);if(a!==null){be=a;return}if(n=n.sibling,n!==null){be=n;return}be=n=e}while(n!==null);Ke===0&&(Ke=5)}function Y0(e,n){do{var a=dw(e.alternate,e);if(a!==null){a.flags&=32767,be=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!n&&(e=e.sibling,e!==null)){be=e;return}be=e=a}while(e!==null);Ke=6,be=null}function K0(e,n,a,l,u,h,y,_,N){e.cancelPendingCommit=null;do Ll();while(ot!==0);if((Ae&6)!==0)throw Error(r(327));if(n!==null){if(n===e.current)throw Error(r(177));if(h=n.lanes|n.childLanes,h|=gc,Jb(e,a,h,y,_,N),e===Le&&(be=Le=null,_e=0),Ds=n,ui=e,Pn=a,Tu=h,ju=u,U0=l,(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Sw(Vr,function(){return J0(),null})):(e.callbackNode=null,e.callbackPriority=0),l=(n.flags&13878)!==0,(n.subtreeFlags&13878)!==0||l){l=A.T,A.T=null,u=U.p,U.p=2,y=Ae,Ae|=4;try{hw(e,n,a)}finally{Ae=y,U.p=u,A.T=l}}ot=1,F0(),X0(),Z0()}}function F0(){if(ot===1){ot=0;var e=ui,n=Ds,a=(n.flags&13878)!==0;if((n.subtreeFlags&13878)!==0||a){a=A.T,A.T=null;var l=U.p;U.p=2;var u=Ae;Ae|=4;try{A0(n,e);var h=Pu,y=Df(e.containerInfo),_=h.focusedElem,N=h.selectionRange;if(y!==_&&_&&_.ownerDocument&&kf(_.ownerDocument.documentElement,_)){if(N!==null&&dc(_)){var B=N.start,G=N.end;if(G===void 0&&(G=B),"selectionStart"in _)_.selectionStart=B,_.selectionEnd=Math.min(G,_.value.length);else{var K=_.ownerDocument||document,P=K&&K.defaultView||window;if(P.getSelection){var q=P.getSelection(),se=_.textContent.length,de=Math.min(N.start,se),Ue=N.end===void 0?de:Math.min(N.end,se);!q.extend&&de>Ue&&(y=Ue,Ue=de,de=y);var z=zf(_,de),C=zf(_,Ue);if(z&&C&&(q.rangeCount!==1||q.anchorNode!==z.node||q.anchorOffset!==z.offset||q.focusNode!==C.node||q.focusOffset!==C.offset)){var L=K.createRange();L.setStart(z.node,z.offset),q.removeAllRanges(),de>Ue?(q.addRange(L),q.extend(C.node,C.offset)):(L.setEnd(C.node,C.offset),q.addRange(L))}}}}for(K=[],q=_;q=q.parentNode;)q.nodeType===1&&K.push({element:q,left:q.scrollLeft,top:q.scrollTop});for(typeof _.focus=="function"&&_.focus(),_=0;_<K.length;_++){var Y=K[_];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Xl=!!Vu,Pu=Vu=null}finally{Ae=u,U.p=l,A.T=a}}e.current=n,ot=2}}function X0(){if(ot===2){ot=0;var e=ui,n=Ds,a=(n.flags&8772)!==0;if((n.subtreeFlags&8772)!==0||a){a=A.T,A.T=null;var l=U.p;U.p=2;var u=Ae;Ae|=4;try{S0(e,n.alternate,n)}finally{Ae=u,U.p=l,A.T=a}}ot=3}}function Z0(){if(ot===4||ot===3){ot=0,Ho();var e=ui,n=Ds,a=Pn,l=U0;(n.subtreeFlags&10256)!==0||(n.flags&10256)!==0?ot=5:(ot=0,Ds=ui=null,Q0(e,e.pendingLanes));var u=e.pendingLanes;if(u===0&&(ci=null),Yo(a),n=n.stateNode,Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(pa,n,void 0,(n.current.flags&128)===128)}catch{}if(l!==null){n=A.T,u=U.p,U.p=2,A.T=null;try{for(var h=e.onRecoverableError,y=0;y<l.length;y++){var _=l[y];h(_.value,{componentStack:_.stack})}}finally{A.T=n,U.p=u}}(Pn&3)!==0&&Ll(),vn(e),u=e.pendingLanes,(a&261930)!==0&&(u&42)!==0?e===Nu?Za++:(Za=0,Nu=e):Za=0,Qa(0)}}function Q0(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,Ra(n)))}function Ll(){return F0(),X0(),Z0(),J0()}function J0(){if(ot!==5)return!1;var e=ui,n=Tu;Tu=0;var a=Yo(Pn),l=A.T,u=U.p;try{U.p=32>a?32:a,A.T=null,a=ju,ju=null;var h=ui,y=Pn;if(ot=0,Ds=ui=null,Pn=0,(Ae&6)!==0)throw Error(r(331));var _=Ae;if(Ae|=4,k0(h.current),O0(h,h.current,y,a),Ae=_,Qa(0,!1),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(pa,h)}catch{}return!0}finally{U.p=u,A.T=l,Q0(e,n)}}function W0(e,n,a){n=Qt(a,n),n=su(e.stateNode,n,2),e=ii(e,n,2),e!==null&&(ya(e,2),vn(e))}function ze(e,n,a){if(e.tag===3)W0(e,e,a);else for(;n!==null;){if(n.tag===3){W0(n,e,a);break}else if(n.tag===1){var l=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof l.componentDidCatch=="function"&&(ci===null||!ci.has(l))){e=Qt(a,e),a=e0(2),l=ii(n,a,2),l!==null&&(t0(a,l,n,e),ya(l,2),vn(l));break}}n=n.return}}function Cu(e,n,a){var l=e.pingCache;if(l===null){l=e.pingCache=new pw;var u=new Set;l.set(n,u)}else u=l.get(n),u===void 0&&(u=new Set,l.set(n,u));u.has(a)||(wu=!0,u.add(a),e=xw.bind(null,e,n,a),n.then(e,e))}function xw(e,n,a){var l=e.pingCache;l!==null&&l.delete(n),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Le===e&&(_e&a)===a&&(Ke===4||Ke===3&&(_e&62914560)===_e&&300>wt()-Rl?(Ae&2)===0&&Ms(e,0):_u|=a,ks===_e&&(ks=0)),vn(e)}function ep(e,n){n===0&&(n=Kh()),e=Ri(e,n),e!==null&&(ya(e,n),vn(e))}function ww(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),ep(e,a)}function _w(e,n){var a=0;switch(e.tag){case 31:case 13:var l=e.stateNode,u=e.memoizedState;u!==null&&(a=u.retryLane);break;case 19:l=e.stateNode;break;case 22:l=e.stateNode._retryCache;break;default:throw Error(r(314))}l!==null&&l.delete(n),ep(e,a)}function Sw(e,n){return ln(e,n)}var Bl=null,Ls=null,Ou=!1,Vl=!1,Ru=!1,hi=0;function vn(e){e!==Ls&&e.next===null&&(Ls===null?Bl=Ls=e:Ls=Ls.next=e),Vl=!0,Ou||(Ou=!0,jw())}function Qa(e,n){if(!Ru&&Vl){Ru=!0;do for(var a=!1,l=Bl;l!==null;){if(e!==0){var u=l.pendingLanes;if(u===0)var h=0;else{var y=l.suspendedLanes,_=l.pingedLanes;h=(1<<31-Ut(42|e)+1)-1,h&=u&~(y&~_),h=h&201326741?h&201326741|1:h?h|2:0}h!==0&&(a=!0,sp(l,h))}else h=_e,h=Hr(l,l===Le?h:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),(h&3)===0||ga(l,h)||(a=!0,sp(l,h));l=l.next}while(a);Ru=!1}}function Tw(){tp()}function tp(){Vl=Ou=!1;var e=0;hi!==0&&Mw()&&(e=hi);for(var n=wt(),a=null,l=Bl;l!==null;){var u=l.next,h=np(l,n);h===0?(l.next=null,a===null?Bl=u:a.next=u,u===null&&(Ls=a)):(a=l,(e!==0||(h&3)!==0)&&(Vl=!0)),l=u}ot!==0&&ot!==5||Qa(e),hi!==0&&(hi=0)}function np(e,n){for(var a=e.suspendedLanes,l=e.pingedLanes,u=e.expirationTimes,h=e.pendingLanes&-62914561;0<h;){var y=31-Ut(h),_=1<<y,N=u[y];N===-1?((_&a)===0||(_&l)!==0)&&(u[y]=Qb(_,n)):N<=n&&(e.expiredLanes|=_),h&=~_}if(n=Le,a=_e,a=Hr(e,e===n?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l=e.callbackNode,a===0||e===n&&(Re===2||Re===9)||e.cancelPendingCommit!==null)return l!==null&&l!==null&&Sn(l),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||ga(e,a)){if(n=a&-a,n===e.callbackPriority)return n;switch(l!==null&&Sn(l),Yo(a)){case 2:case 8:a=Ih;break;case 32:a=Vr;break;case 268435456:a=Yh;break;default:a=Vr}return l=ip.bind(null,e),a=ln(a,l),e.callbackPriority=n,e.callbackNode=a,n}return l!==null&&l!==null&&Sn(l),e.callbackPriority=2,e.callbackNode=null,2}function ip(e,n){if(ot!==0&&ot!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Ll()&&e.callbackNode!==a)return null;var l=_e;return l=Hr(e,e===Le?l:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),l===0?null:(B0(e,l,n),np(e,wt()),e.callbackNode!=null&&e.callbackNode===a?ip.bind(null,e):null)}function sp(e,n){if(Ll())return null;B0(e,n,!0)}function jw(){Lw(function(){(Ae&6)!==0?ln(Gh,Tw):tp()})}function zu(){if(hi===0){var e=_s;e===0&&(e=Pr,Pr<<=1,(Pr&261888)===0&&(Pr=256)),hi=e}return hi}function ap(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Kr(""+e)}function rp(e,n){var a=n.ownerDocument.createElement("input");return a.name=n.name,a.value=n.value,e.id&&a.setAttribute("form",e.id),n.parentNode.insertBefore(a,n),e=new FormData(e),a.parentNode.removeChild(a),e}function Nw(e,n,a,l,u){if(n==="submit"&&a&&a.stateNode===u){var h=ap((u[Et]||null).action),y=l.submitter;y&&(n=(n=y[Et]||null)?ap(n.formAction):y.getAttribute("formAction"),n!==null&&(h=n,y=null));var _=new Qr("action","action",null,l,u);e.push({event:_,listeners:[{instance:null,listener:function(){if(l.defaultPrevented){if(hi!==0){var N=y?rp(u,y):new FormData(u);Jc(a,{pending:!0,data:N,method:u.method,action:h},null,N)}}else typeof h=="function"&&(_.preventDefault(),N=y?rp(u,y):new FormData(u),Jc(a,{pending:!0,data:N,method:u.method,action:h},h,N))},currentTarget:u}]})}}for(var ku=0;ku<pc.length;ku++){var Du=pc[ku],Ew=Du.toLowerCase(),Aw=Du[0].toUpperCase()+Du.slice(1);on(Ew,"on"+Aw)}on(Lf,"onAnimationEnd"),on(Bf,"onAnimationIteration"),on(Vf,"onAnimationStart"),on("dblclick","onDoubleClick"),on("focusin","onFocus"),on("focusout","onBlur"),on(Gx,"onTransitionRun"),on(Ix,"onTransitionStart"),on(Yx,"onTransitionCancel"),on(Pf,"onTransitionEnd"),os("onMouseEnter",["mouseout","mouseover"]),os("onMouseLeave",["mouseout","mouseover"]),os("onPointerEnter",["pointerout","pointerover"]),os("onPointerLeave",["pointerout","pointerover"]),Ei("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Ei("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Ei("onBeforeInput",["compositionend","keypress","textInput","paste"]),Ei("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Ei("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ja="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Cw=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ja));function lp(e,n){n=(n&4)!==0;for(var a=0;a<e.length;a++){var l=e[a],u=l.event;l=l.listeners;e:{var h=void 0;if(n)for(var y=l.length-1;0<=y;y--){var _=l[y],N=_.instance,B=_.currentTarget;if(_=_.listener,N!==h&&u.isPropagationStopped())break e;h=_,u.currentTarget=B;try{h(u)}catch(G){el(G)}u.currentTarget=null,h=N}else for(y=0;y<l.length;y++){if(_=l[y],N=_.instance,B=_.currentTarget,_=_.listener,N!==h&&u.isPropagationStopped())break e;h=_,u.currentTarget=B;try{h(u)}catch(G){el(G)}u.currentTarget=null,h=N}}}}function xe(e,n){var a=n[Ko];a===void 0&&(a=n[Ko]=new Set);var l=e+"__bubble";a.has(l)||(op(n,e,2,!1),a.add(l))}function Mu(e,n,a){var l=0;n&&(l|=4),op(a,e,l,n)}var Pl="_reactListening"+Math.random().toString(36).slice(2);function Uu(e){if(!e[Pl]){e[Pl]=!0,ef.forEach(function(a){a!=="selectionchange"&&(Cw.has(a)||Mu(a,!1,e),Mu(a,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Pl]||(n[Pl]=!0,Mu("selectionchange",!1,n))}}function op(e,n,a,l){switch(Lp(n)){case 2:var u=i_;break;case 8:u=s_;break;default:u=Qu}a=u.bind(null,n,a,e),u=void 0,!nc||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(u=!0),l?u!==void 0?e.addEventListener(n,a,{capture:!0,passive:u}):e.addEventListener(n,a,!0):u!==void 0?e.addEventListener(n,a,{passive:u}):e.addEventListener(n,a,!1)}function Lu(e,n,a,l,u){var h=l;if((n&1)===0&&(n&2)===0&&l!==null)e:for(;;){if(l===null)return;var y=l.tag;if(y===3||y===4){var _=l.stateNode.containerInfo;if(_===u)break;if(y===4)for(y=l.return;y!==null;){var N=y.tag;if((N===3||N===4)&&y.stateNode.containerInfo===u)return;y=y.return}for(;_!==null;){if(y=as(_),y===null)return;if(N=y.tag,N===5||N===6||N===26||N===27){l=h=y;continue e}_=_.parentNode}}l=l.return}ff(function(){var B=h,G=ec(a),K=[];e:{var P=qf.get(e);if(P!==void 0){var q=Qr,se=e;switch(e){case"keypress":if(Xr(a)===0)break e;case"keydown":case"keyup":q=_x;break;case"focusin":se="focus",q=rc;break;case"focusout":se="blur",q=rc;break;case"beforeblur":case"afterblur":q=rc;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=gf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=ux;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=jx;break;case Lf:case Bf:case Vf:q=fx;break;case Pf:q=Ex;break;case"scroll":case"scrollend":q=ox;break;case"wheel":q=Cx;break;case"copy":case"cut":case"paste":q=px;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=vf;break;case"toggle":case"beforetoggle":q=Rx}var de=(n&4)!==0,Ue=!de&&(e==="scroll"||e==="scrollend"),z=de?P!==null?P+"Capture":null:P;de=[];for(var C=B,L;C!==null;){var Y=C;if(L=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||L===null||z===null||(Y=xa(C,z),Y!=null&&de.push(Wa(C,Y,L))),Ue)break;C=C.return}0<de.length&&(P=new q(P,se,null,a,G),K.push({event:P,listeners:de}))}}if((n&7)===0){e:{if(P=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",P&&a!==Wo&&(se=a.relatedTarget||a.fromElement)&&(as(se)||se[ss]))break e;if((q||P)&&(P=G.window===G?G:(P=G.ownerDocument)?P.defaultView||P.parentWindow:window,q?(se=a.relatedTarget||a.toElement,q=B,se=se?as(se):null,se!==null&&(Ue=c(se),de=se.tag,se!==Ue||de!==5&&de!==27&&de!==6)&&(se=null)):(q=null,se=B),q!==se)){if(de=gf,Y="onMouseLeave",z="onMouseEnter",C="mouse",(e==="pointerout"||e==="pointerover")&&(de=vf,Y="onPointerLeave",z="onPointerEnter",C="pointer"),Ue=q==null?P:ba(q),L=se==null?P:ba(se),P=new de(Y,C+"leave",q,a,G),P.target=Ue,P.relatedTarget=L,Y=null,as(G)===B&&(de=new de(z,C+"enter",se,a,G),de.target=L,de.relatedTarget=Ue,Y=de),Ue=Y,q&&se)t:{for(de=Ow,z=q,C=se,L=0,Y=z;Y;Y=de(Y))L++;Y=0;for(var ce=C;ce;ce=de(ce))Y++;for(;0<L-Y;)z=de(z),L--;for(;0<Y-L;)C=de(C),Y--;for(;L--;){if(z===C||C!==null&&z===C.alternate){de=z;break t}z=de(z),C=de(C)}de=null}else de=null;q!==null&&cp(K,P,q,de,!1),se!==null&&Ue!==null&&cp(K,Ue,se,de,!0)}}e:{if(P=B?ba(B):window,q=P.nodeName&&P.nodeName.toLowerCase(),q==="select"||q==="input"&&P.type==="file")var Ne=Nf;else if(Tf(P))if(Ef)Ne=qx;else{Ne=Vx;var ae=Bx}else q=P.nodeName,!q||q.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?B&&Jo(B.elementType)&&(Ne=Nf):Ne=Px;if(Ne&&(Ne=Ne(e,B))){jf(K,Ne,a,G);break e}ae&&ae(e,P,B),e==="focusout"&&B&&P.type==="number"&&B.memoizedProps.value!=null&&Qo(P,"number",P.value)}switch(ae=B?ba(B):window,e){case"focusin":(Tf(ae)||ae.contentEditable==="true")&&(ms=ae,hc=B,Aa=null);break;case"focusout":Aa=hc=ms=null;break;case"mousedown":fc=!0;break;case"contextmenu":case"mouseup":case"dragend":fc=!1,Mf(K,a,G);break;case"selectionchange":if(Hx)break;case"keydown":case"keyup":Mf(K,a,G)}var ve;if(oc)e:{switch(e){case"compositionstart":var Se="onCompositionStart";break e;case"compositionend":Se="onCompositionEnd";break e;case"compositionupdate":Se="onCompositionUpdate";break e}Se=void 0}else fs?_f(e,a)&&(Se="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Se="onCompositionStart");Se&&(bf&&a.locale!=="ko"&&(fs||Se!=="onCompositionStart"?Se==="onCompositionEnd"&&fs&&(ve=mf()):(Zn=G,ic="value"in Zn?Zn.value:Zn.textContent,fs=!0)),ae=ql(B,Se),0<ae.length&&(Se=new yf(Se,e,null,a,G),K.push({event:Se,listeners:ae}),ve?Se.data=ve:(ve=Sf(a),ve!==null&&(Se.data=ve)))),(ve=kx?Dx(e,a):Mx(e,a))&&(Se=ql(B,"onBeforeInput"),0<Se.length&&(ae=new yf("onBeforeInput","beforeinput",null,a,G),K.push({event:ae,listeners:Se}),ae.data=ve)),Nw(K,e,B,a,G)}lp(K,n)})}function Wa(e,n,a){return{instance:e,listener:n,currentTarget:a}}function ql(e,n){for(var a=n+"Capture",l=[];e!==null;){var u=e,h=u.stateNode;if(u=u.tag,u!==5&&u!==26&&u!==27||h===null||(u=xa(e,a),u!=null&&l.unshift(Wa(e,u,h)),u=xa(e,n),u!=null&&l.push(Wa(e,u,h))),e.tag===3)return l;e=e.return}return[]}function Ow(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function cp(e,n,a,l,u){for(var h=n._reactName,y=[];a!==null&&a!==l;){var _=a,N=_.alternate,B=_.stateNode;if(_=_.tag,N!==null&&N===l)break;_!==5&&_!==26&&_!==27||B===null||(N=B,u?(B=xa(a,h),B!=null&&y.unshift(Wa(a,B,N))):u||(B=xa(a,h),B!=null&&y.push(Wa(a,B,N)))),a=a.return}y.length!==0&&e.push({event:n,listeners:y})}var Rw=/\r\n?/g,zw=/\u0000|\uFFFD/g;function up(e){return(typeof e=="string"?e:""+e).replace(Rw,`
`).replace(zw,"")}function dp(e,n){return n=up(n),up(e)===n}function Me(e,n,a,l,u,h){switch(a){case"children":typeof l=="string"?n==="body"||n==="textarea"&&l===""||us(e,l):(typeof l=="number"||typeof l=="bigint")&&n!=="body"&&us(e,""+l);break;case"className":Ir(e,"class",l);break;case"tabIndex":Ir(e,"tabindex",l);break;case"dir":case"role":case"viewBox":case"width":case"height":Ir(e,a,l);break;case"style":df(e,l,h);break;case"data":if(n!=="object"){Ir(e,"data",l);break}case"src":case"href":if(l===""&&(n!=="a"||a!=="href")){e.removeAttribute(a);break}if(l==null||typeof l=="function"||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Kr(""+l),e.setAttribute(a,l);break;case"action":case"formAction":if(typeof l=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof h=="function"&&(a==="formAction"?(n!=="input"&&Me(e,n,"name",u.name,u,null),Me(e,n,"formEncType",u.formEncType,u,null),Me(e,n,"formMethod",u.formMethod,u,null),Me(e,n,"formTarget",u.formTarget,u,null)):(Me(e,n,"encType",u.encType,u,null),Me(e,n,"method",u.method,u,null),Me(e,n,"target",u.target,u,null)));if(l==null||typeof l=="symbol"||typeof l=="boolean"){e.removeAttribute(a);break}l=Kr(""+l),e.setAttribute(a,l);break;case"onClick":l!=null&&(e.onclick=jn);break;case"onScroll":l!=null&&xe("scroll",e);break;case"onScrollEnd":l!=null&&xe("scrollend",e);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"multiple":e.multiple=l&&typeof l!="function"&&typeof l!="symbol";break;case"muted":e.muted=l&&typeof l!="function"&&typeof l!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(l==null||typeof l=="function"||typeof l=="boolean"||typeof l=="symbol"){e.removeAttribute("xlink:href");break}a=Kr(""+l),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""+l):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":l&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":l===!0?e.setAttribute(a,""):l!==!1&&l!=null&&typeof l!="function"&&typeof l!="symbol"?e.setAttribute(a,l):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":l!=null&&typeof l!="function"&&typeof l!="symbol"&&!isNaN(l)&&1<=l?e.setAttribute(a,l):e.removeAttribute(a);break;case"rowSpan":case"start":l==null||typeof l=="function"||typeof l=="symbol"||isNaN(l)?e.removeAttribute(a):e.setAttribute(a,l);break;case"popover":xe("beforetoggle",e),xe("toggle",e),Gr(e,"popover",l);break;case"xlinkActuate":Tn(e,"http://www.w3.org/1999/xlink","xlink:actuate",l);break;case"xlinkArcrole":Tn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",l);break;case"xlinkRole":Tn(e,"http://www.w3.org/1999/xlink","xlink:role",l);break;case"xlinkShow":Tn(e,"http://www.w3.org/1999/xlink","xlink:show",l);break;case"xlinkTitle":Tn(e,"http://www.w3.org/1999/xlink","xlink:title",l);break;case"xlinkType":Tn(e,"http://www.w3.org/1999/xlink","xlink:type",l);break;case"xmlBase":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:base",l);break;case"xmlLang":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",l);break;case"xmlSpace":Tn(e,"http://www.w3.org/XML/1998/namespace","xml:space",l);break;case"is":Gr(e,"is",l);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=rx.get(a)||a,Gr(e,a,l))}}function Bu(e,n,a,l,u,h){switch(a){case"style":df(e,l,h);break;case"dangerouslySetInnerHTML":if(l!=null){if(typeof l!="object"||!("__html"in l))throw Error(r(61));if(a=l.__html,a!=null){if(u.children!=null)throw Error(r(60));e.innerHTML=a}}break;case"children":typeof l=="string"?us(e,l):(typeof l=="number"||typeof l=="bigint")&&us(e,""+l);break;case"onScroll":l!=null&&xe("scroll",e);break;case"onScrollEnd":l!=null&&xe("scrollend",e);break;case"onClick":l!=null&&(e.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!tf.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(u=a.endsWith("Capture"),n=a.slice(2,u?a.length-7:void 0),h=e[Et]||null,h=h!=null?h[a]:null,typeof h=="function"&&e.removeEventListener(n,h,u),typeof l=="function")){typeof h!="function"&&h!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(n,l,u);break e}a in e?e[a]=l:l===!0?e.setAttribute(a,""):Gr(e,a,l)}}}function gt(e,n,a){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":xe("error",e),xe("load",e);var l=!1,u=!1,h;for(h in a)if(a.hasOwnProperty(h)){var y=a[h];if(y!=null)switch(h){case"src":l=!0;break;case"srcSet":u=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Me(e,n,h,y,a,null)}}u&&Me(e,n,"srcSet",a.srcSet,a,null),l&&Me(e,n,"src",a.src,a,null);return;case"input":xe("invalid",e);var _=h=y=u=null,N=null,B=null;for(l in a)if(a.hasOwnProperty(l)){var G=a[l];if(G!=null)switch(l){case"name":u=G;break;case"type":y=G;break;case"checked":N=G;break;case"defaultChecked":B=G;break;case"value":h=G;break;case"defaultValue":_=G;break;case"children":case"dangerouslySetInnerHTML":if(G!=null)throw Error(r(137,n));break;default:Me(e,n,l,G,a,null)}}lf(e,h,_,N,B,y,u,!1);return;case"select":xe("invalid",e),l=y=h=null;for(u in a)if(a.hasOwnProperty(u)&&(_=a[u],_!=null))switch(u){case"value":h=_;break;case"defaultValue":y=_;break;case"multiple":l=_;default:Me(e,n,u,_,a,null)}n=h,a=y,e.multiple=!!l,n!=null?cs(e,!!l,n,!1):a!=null&&cs(e,!!l,a,!0);return;case"textarea":xe("invalid",e),h=u=l=null;for(y in a)if(a.hasOwnProperty(y)&&(_=a[y],_!=null))switch(y){case"value":l=_;break;case"defaultValue":u=_;break;case"children":h=_;break;case"dangerouslySetInnerHTML":if(_!=null)throw Error(r(91));break;default:Me(e,n,y,_,a,null)}cf(e,l,u,h);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(l=a[N],l!=null))switch(N){case"selected":e.selected=l&&typeof l!="function"&&typeof l!="symbol";break;default:Me(e,n,N,l,a,null)}return;case"dialog":xe("beforetoggle",e),xe("toggle",e),xe("cancel",e),xe("close",e);break;case"iframe":case"object":xe("load",e);break;case"video":case"audio":for(l=0;l<Ja.length;l++)xe(Ja[l],e);break;case"image":xe("error",e),xe("load",e);break;case"details":xe("toggle",e);break;case"embed":case"source":case"link":xe("error",e),xe("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(B in a)if(a.hasOwnProperty(B)&&(l=a[B],l!=null))switch(B){case"children":case"dangerouslySetInnerHTML":throw Error(r(137,n));default:Me(e,n,B,l,a,null)}return;default:if(Jo(n)){for(G in a)a.hasOwnProperty(G)&&(l=a[G],l!==void 0&&Bu(e,n,G,l,a,void 0));return}}for(_ in a)a.hasOwnProperty(_)&&(l=a[_],l!=null&&Me(e,n,_,l,a,null))}function kw(e,n,a,l){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var u=null,h=null,y=null,_=null,N=null,B=null,G=null;for(q in a){var K=a[q];if(a.hasOwnProperty(q)&&K!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":N=K;default:l.hasOwnProperty(q)||Me(e,n,q,null,l,K)}}for(var P in l){var q=l[P];if(K=a[P],l.hasOwnProperty(P)&&(q!=null||K!=null))switch(P){case"type":h=q;break;case"name":u=q;break;case"checked":B=q;break;case"defaultChecked":G=q;break;case"value":y=q;break;case"defaultValue":_=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(r(137,n));break;default:q!==K&&Me(e,n,P,q,l,K)}}Zo(e,y,_,N,B,G,h,u);return;case"select":q=y=_=P=null;for(h in a)if(N=a[h],a.hasOwnProperty(h)&&N!=null)switch(h){case"value":break;case"multiple":q=N;default:l.hasOwnProperty(h)||Me(e,n,h,null,l,N)}for(u in l)if(h=l[u],N=a[u],l.hasOwnProperty(u)&&(h!=null||N!=null))switch(u){case"value":P=h;break;case"defaultValue":_=h;break;case"multiple":y=h;default:h!==N&&Me(e,n,u,h,l,N)}n=_,a=y,l=q,P!=null?cs(e,!!a,P,!1):!!l!=!!a&&(n!=null?cs(e,!!a,n,!0):cs(e,!!a,a?[]:"",!1));return;case"textarea":q=P=null;for(_ in a)if(u=a[_],a.hasOwnProperty(_)&&u!=null&&!l.hasOwnProperty(_))switch(_){case"value":break;case"children":break;default:Me(e,n,_,null,l,u)}for(y in l)if(u=l[y],h=a[y],l.hasOwnProperty(y)&&(u!=null||h!=null))switch(y){case"value":P=u;break;case"defaultValue":q=u;break;case"children":break;case"dangerouslySetInnerHTML":if(u!=null)throw Error(r(91));break;default:u!==h&&Me(e,n,y,u,l,h)}of(e,P,q);return;case"option":for(var se in a)if(P=a[se],a.hasOwnProperty(se)&&P!=null&&!l.hasOwnProperty(se))switch(se){case"selected":e.selected=!1;break;default:Me(e,n,se,null,l,P)}for(N in l)if(P=l[N],q=a[N],l.hasOwnProperty(N)&&P!==q&&(P!=null||q!=null))switch(N){case"selected":e.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Me(e,n,N,P,l,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var de in a)P=a[de],a.hasOwnProperty(de)&&P!=null&&!l.hasOwnProperty(de)&&Me(e,n,de,null,l,P);for(B in l)if(P=l[B],q=a[B],l.hasOwnProperty(B)&&P!==q&&(P!=null||q!=null))switch(B){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(r(137,n));break;default:Me(e,n,B,P,l,q)}return;default:if(Jo(n)){for(var Ue in a)P=a[Ue],a.hasOwnProperty(Ue)&&P!==void 0&&!l.hasOwnProperty(Ue)&&Bu(e,n,Ue,void 0,l,P);for(G in l)P=l[G],q=a[G],!l.hasOwnProperty(G)||P===q||P===void 0&&q===void 0||Bu(e,n,G,P,l,q);return}}for(var z in a)P=a[z],a.hasOwnProperty(z)&&P!=null&&!l.hasOwnProperty(z)&&Me(e,n,z,null,l,P);for(K in l)P=l[K],q=a[K],!l.hasOwnProperty(K)||P===q||P==null&&q==null||Me(e,n,K,P,l,q)}function hp(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Dw(){if(typeof performance.getEntriesByType=="function"){for(var e=0,n=0,a=performance.getEntriesByType("resource"),l=0;l<a.length;l++){var u=a[l],h=u.transferSize,y=u.initiatorType,_=u.duration;if(h&&_&&hp(y)){for(y=0,_=u.responseEnd,l+=1;l<a.length;l++){var N=a[l],B=N.startTime;if(B>_)break;var G=N.transferSize,K=N.initiatorType;G&&hp(K)&&(N=N.responseEnd,y+=G*(N<_?1:(_-B)/(N-B)))}if(--l,n+=8*(h+y)/(u.duration/1e3),e++,10<e)break}}if(0<e)return n/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Vu=null,Pu=null;function $l(e){return e.nodeType===9?e:e.ownerDocument}function fp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function mp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function qu(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var $u=null;function Mw(){var e=window.event;return e&&e.type==="popstate"?e===$u?!1:($u=e,!0):($u=null,!1)}var pp=typeof setTimeout=="function"?setTimeout:void 0,Uw=typeof clearTimeout=="function"?clearTimeout:void 0,gp=typeof Promise=="function"?Promise:void 0,Lw=typeof queueMicrotask=="function"?queueMicrotask:typeof gp<"u"?function(e){return gp.resolve(null).then(e).catch(Bw)}:pp;function Bw(e){setTimeout(function(){throw e})}function fi(e){return e==="head"}function yp(e,n){var a=n,l=0;do{var u=a.nextSibling;if(e.removeChild(a),u&&u.nodeType===8)if(a=u.data,a==="/$"||a==="/&"){if(l===0){e.removeChild(u),qs(n);return}l--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")l++;else if(a==="html")er(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,er(a);for(var h=a.firstChild;h;){var y=h.nextSibling,_=h.nodeName;h[va]||_==="SCRIPT"||_==="STYLE"||_==="LINK"&&h.rel.toLowerCase()==="stylesheet"||a.removeChild(h),h=y}}else a==="body"&&er(e.ownerDocument.body);a=u}while(a);qs(n)}function vp(e,n){var a=e;e=0;do{var l=a.nextSibling;if(a.nodeType===1?n?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(n?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),l&&l.nodeType===8)if(a=l.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=l}while(a)}function Hu(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var a=n;switch(n=n.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Hu(a),Fo(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Vw(e,n,a,l){for(;e.nodeType===1;){var u=a;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!l&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(l){if(!e[va])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(h=e.getAttribute("rel"),h==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(h!==u.rel||e.getAttribute("href")!==(u.href==null||u.href===""?null:u.href)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin)||e.getAttribute("title")!==(u.title==null?null:u.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(h=e.getAttribute("src"),(h!==(u.src==null?null:u.src)||e.getAttribute("type")!==(u.type==null?null:u.type)||e.getAttribute("crossorigin")!==(u.crossOrigin==null?null:u.crossOrigin))&&h&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var h=u.name==null?null:""+u.name;if(u.type==="hidden"&&e.getAttribute("name")===h)return e}else return e;if(e=nn(e.nextSibling),e===null)break}return null}function Pw(e,n,a){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=nn(e.nextSibling),e===null))return null;return e}function bp(e,n){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!n||(e=nn(e.nextSibling),e===null))return null;return e}function Gu(e){return e.data==="$?"||e.data==="$~"}function Iu(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function qw(e,n){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=n;else if(e.data!=="$?"||a.readyState!=="loading")n();else{var l=function(){n(),a.removeEventListener("DOMContentLoaded",l)};a.addEventListener("DOMContentLoaded",l),e._reactRetry=l}}function nn(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="$~"||n==="&"||n==="F!"||n==="F")break;if(n==="/$"||n==="/&")return null}}return e}var Yu=null;function xp(e){e=e.nextSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(n===0)return nn(e.nextSibling);n--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||n++}e=e.nextSibling}return null}function wp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(n===0)return e;n--}else a!=="/$"&&a!=="/&"||n++}e=e.previousSibling}return null}function _p(e,n,a){switch(n=$l(a),e){case"html":if(e=n.documentElement,!e)throw Error(r(452));return e;case"head":if(e=n.head,!e)throw Error(r(453));return e;case"body":if(e=n.body,!e)throw Error(r(454));return e;default:throw Error(r(451))}}function er(e){for(var n=e.attributes;n.length;)e.removeAttributeNode(n[0]);Fo(e)}var sn=new Map,Sp=new Set;function Hl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var qn=U.d;U.d={f:$w,r:Hw,D:Gw,C:Iw,L:Yw,m:Kw,X:Xw,S:Fw,M:Zw};function $w(){var e=qn.f(),n=Dl();return e||n}function Hw(e){var n=rs(e);n!==null&&n.tag===5&&n.type==="form"?Pm(n):qn.r(e)}var Bs=typeof document>"u"?null:document;function Tp(e,n,a){var l=Bs;if(l&&typeof n=="string"&&n){var u=Xt(n);u='link[rel="'+e+'"][href="'+u+'"]',typeof a=="string"&&(u+='[crossorigin="'+a+'"]'),Sp.has(u)||(Sp.add(u),e={rel:e,crossOrigin:a,href:n},l.querySelector(u)===null&&(n=l.createElement("link"),gt(n,"link",e),ut(n),l.head.appendChild(n)))}}function Gw(e){qn.D(e),Tp("dns-prefetch",e,null)}function Iw(e,n){qn.C(e,n),Tp("preconnect",e,n)}function Yw(e,n,a){qn.L(e,n,a);var l=Bs;if(l&&e&&n){var u='link[rel="preload"][as="'+Xt(n)+'"]';n==="image"&&a&&a.imageSrcSet?(u+='[imagesrcset="'+Xt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(u+='[imagesizes="'+Xt(a.imageSizes)+'"]')):u+='[href="'+Xt(e)+'"]';var h=u;switch(n){case"style":h=Vs(e);break;case"script":h=Ps(e)}sn.has(h)||(e=b({rel:"preload",href:n==="image"&&a&&a.imageSrcSet?void 0:e,as:n},a),sn.set(h,e),l.querySelector(u)!==null||n==="style"&&l.querySelector(tr(h))||n==="script"&&l.querySelector(nr(h))||(n=l.createElement("link"),gt(n,"link",e),ut(n),l.head.appendChild(n)))}}function Kw(e,n){qn.m(e,n);var a=Bs;if(a&&e){var l=n&&typeof n.as=="string"?n.as:"script",u='link[rel="modulepreload"][as="'+Xt(l)+'"][href="'+Xt(e)+'"]',h=u;switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":h=Ps(e)}if(!sn.has(h)&&(e=b({rel:"modulepreload",href:e},n),sn.set(h,e),a.querySelector(u)===null)){switch(l){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(nr(h)))return}l=a.createElement("link"),gt(l,"link",e),ut(l),a.head.appendChild(l)}}}function Fw(e,n,a){qn.S(e,n,a);var l=Bs;if(l&&e){var u=ls(l).hoistableStyles,h=Vs(e);n=n||"default";var y=u.get(h);if(!y){var _={loading:0,preload:null};if(y=l.querySelector(tr(h)))_.loading=5;else{e=b({rel:"stylesheet",href:e,"data-precedence":n},a),(a=sn.get(h))&&Ku(e,a);var N=y=l.createElement("link");ut(N),gt(N,"link",e),N._p=new Promise(function(B,G){N.onload=B,N.onerror=G}),N.addEventListener("load",function(){_.loading|=1}),N.addEventListener("error",function(){_.loading|=2}),_.loading|=4,Gl(y,n,l)}y={type:"stylesheet",instance:y,count:1,state:_},u.set(h,y)}}}function Xw(e,n){qn.X(e,n);var a=Bs;if(a&&e){var l=ls(a).hoistableScripts,u=Ps(e),h=l.get(u);h||(h=a.querySelector(nr(u)),h||(e=b({src:e,async:!0},n),(n=sn.get(u))&&Fu(e,n),h=a.createElement("script"),ut(h),gt(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(u,h))}}function Zw(e,n){qn.M(e,n);var a=Bs;if(a&&e){var l=ls(a).hoistableScripts,u=Ps(e),h=l.get(u);h||(h=a.querySelector(nr(u)),h||(e=b({src:e,async:!0,type:"module"},n),(n=sn.get(u))&&Fu(e,n),h=a.createElement("script"),ut(h),gt(h,"link",e),a.head.appendChild(h)),h={type:"script",instance:h,count:1,state:null},l.set(u,h))}}function jp(e,n,a,l){var u=(u=ee.current)?Hl(u):null;if(!u)throw Error(r(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(n=Vs(a.href),a=ls(u).hoistableStyles,l=a.get(n),l||(l={type:"style",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Vs(a.href);var h=ls(u).hoistableStyles,y=h.get(e);if(y||(u=u.ownerDocument||u,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},h.set(e,y),(h=u.querySelector(tr(e)))&&!h._p&&(y.instance=h,y.state.loading=5),sn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},sn.set(e,a),h||Qw(u,e,a,y.state))),n&&l===null)throw Error(r(528,""));return y}if(n&&l!==null)throw Error(r(529,""));return null;case"script":return n=a.async,a=a.src,typeof a=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=Ps(a),a=ls(u).hoistableScripts,l=a.get(n),l||(l={type:"script",instance:null,count:0,state:null},a.set(n,l)),l):{type:"void",instance:null,count:0,state:null};default:throw Error(r(444,e))}}function Vs(e){return'href="'+Xt(e)+'"'}function tr(e){return'link[rel="stylesheet"]['+e+"]"}function Np(e){return b({},e,{"data-precedence":e.precedence,precedence:null})}function Qw(e,n,a,l){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?l.loading=1:(n=e.createElement("link"),l.preload=n,n.addEventListener("load",function(){return l.loading|=1}),n.addEventListener("error",function(){return l.loading|=2}),gt(n,"link",a),ut(n),e.head.appendChild(n))}function Ps(e){return'[src="'+Xt(e)+'"]'}function nr(e){return"script[async]"+e}function Ep(e,n,a){if(n.count++,n.instance===null)switch(n.type){case"style":var l=e.querySelector('style[data-href~="'+Xt(a.href)+'"]');if(l)return n.instance=l,ut(l),l;var u=b({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return l=(e.ownerDocument||e).createElement("style"),ut(l),gt(l,"style",u),Gl(l,a.precedence,e),n.instance=l;case"stylesheet":u=Vs(a.href);var h=e.querySelector(tr(u));if(h)return n.state.loading|=4,n.instance=h,ut(h),h;l=Np(a),(u=sn.get(u))&&Ku(l,u),h=(e.ownerDocument||e).createElement("link"),ut(h);var y=h;return y._p=new Promise(function(_,N){y.onload=_,y.onerror=N}),gt(h,"link",l),n.state.loading|=4,Gl(h,a.precedence,e),n.instance=h;case"script":return h=Ps(a.src),(u=e.querySelector(nr(h)))?(n.instance=u,ut(u),u):(l=a,(u=sn.get(h))&&(l=b({},a),Fu(l,u)),e=e.ownerDocument||e,u=e.createElement("script"),ut(u),gt(u,"link",l),e.head.appendChild(u),n.instance=u);case"void":return null;default:throw Error(r(443,n.type))}else n.type==="stylesheet"&&(n.state.loading&4)===0&&(l=n.instance,n.state.loading|=4,Gl(l,a.precedence,e));return n.instance}function Gl(e,n,a){for(var l=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),u=l.length?l[l.length-1]:null,h=u,y=0;y<l.length;y++){var _=l[y];if(_.dataset.precedence===n)h=_;else if(h!==u)break}h?h.parentNode.insertBefore(e,h.nextSibling):(n=a.nodeType===9?a.head:a,n.insertBefore(e,n.firstChild))}function Ku(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Fu(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Il=null;function Ap(e,n,a){if(Il===null){var l=new Map,u=Il=new Map;u.set(a,l)}else u=Il,l=u.get(a),l||(l=new Map,u.set(a,l));if(l.has(e))return l;for(l.set(e,null),a=a.getElementsByTagName(e),u=0;u<a.length;u++){var h=a[u];if(!(h[va]||h[ht]||e==="link"&&h.getAttribute("rel")==="stylesheet")&&h.namespaceURI!=="http://www.w3.org/2000/svg"){var y=h.getAttribute(n)||"";y=e+y;var _=l.get(y);_?_.push(h):l.set(y,[h])}}return l}function Cp(e,n,a){e=e.ownerDocument||e,e.head.insertBefore(a,n==="title"?e.querySelector("head > title"):null)}function Jw(e,n,a){if(a===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function Op(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function Ww(e,n,a,l){if(a.type==="stylesheet"&&(typeof l.media!="string"||matchMedia(l.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var u=Vs(l.href),h=n.querySelector(tr(u));if(h){n=h._p,n!==null&&typeof n=="object"&&typeof n.then=="function"&&(e.count++,e=Yl.bind(e),n.then(e,e)),a.state.loading|=4,a.instance=h,ut(h);return}h=n.ownerDocument||n,l=Np(l),(u=sn.get(u))&&Ku(l,u),h=h.createElement("link"),ut(h);var y=h;y._p=new Promise(function(_,N){y.onload=_,y.onerror=N}),gt(h,"link",l),a.instance=h}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,n),(n=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Yl.bind(e),n.addEventListener("load",a),n.addEventListener("error",a))}}var Xu=0;function e_(e,n){return e.stylesheets&&e.count===0&&Fl(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var l=setTimeout(function(){if(e.stylesheets&&Fl(e,e.stylesheets),e.unsuspend){var h=e.unsuspend;e.unsuspend=null,h()}},6e4+n);0<e.imgBytes&&Xu===0&&(Xu=62500*Dw());var u=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Fl(e,e.stylesheets),e.unsuspend)){var h=e.unsuspend;e.unsuspend=null,h()}},(e.imgBytes>Xu?50:800)+n);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(l),clearTimeout(u)}}:null}function Yl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Fl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Kl=null;function Fl(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Kl=new Map,n.forEach(t_,e),Kl=null,Yl.call(e))}function t_(e,n){if(!(n.state.loading&4)){var a=Kl.get(e);if(a)var l=a.get(null);else{a=new Map,Kl.set(e,a);for(var u=e.querySelectorAll("link[data-precedence],style[data-precedence]"),h=0;h<u.length;h++){var y=u[h];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(a.set(y.dataset.precedence,y),l=y)}l&&a.set(null,l)}u=n.instance,y=u.getAttribute("data-precedence"),h=a.get(y)||l,h===l&&a.set(null,u),a.set(y,u),this.count++,l=Yl.bind(this),u.addEventListener("load",l),u.addEventListener("error",l),h?h.parentNode.insertBefore(u,h.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(u,e.firstChild)),n.state.loading|=4}}var ir={$$typeof:D,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function n_(e,n,a,l,u,h,y,_,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Go(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Go(0),this.hiddenUpdates=Go(null),this.identifierPrefix=l,this.onUncaughtError=u,this.onCaughtError=h,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function Rp(e,n,a,l,u,h,y,_,N,B,G,K){return e=new n_(e,n,a,y,N,B,G,K,_),n=1,h===!0&&(n|=24),h=Bt(3,null,null,n),e.current=h,h.stateNode=e,n=Ac(),n.refCount++,e.pooledCache=n,n.refCount++,h.memoizedState={element:l,isDehydrated:a,cache:n},zc(h),e}function zp(e){return e?(e=ys,e):ys}function kp(e,n,a,l,u,h){u=zp(u),l.context===null?l.context=u:l.pendingContext=u,l=ni(n),l.payload={element:a},h=h===void 0?null:h,h!==null&&(l.callback=h),a=ii(e,l,n),a!==null&&(kt(a,e,n),Ma(a,e,n))}function Dp(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function Zu(e,n){Dp(e,n),(e=e.alternate)&&Dp(e,n)}function Mp(e){if(e.tag===13||e.tag===31){var n=Ri(e,67108864);n!==null&&kt(n,e,67108864),Zu(e,67108864)}}function Up(e){if(e.tag===13||e.tag===31){var n=Ht();n=Io(n);var a=Ri(e,n);a!==null&&kt(a,e,n),Zu(e,n)}}var Xl=!0;function i_(e,n,a,l){var u=A.T;A.T=null;var h=U.p;try{U.p=2,Qu(e,n,a,l)}finally{U.p=h,A.T=u}}function s_(e,n,a,l){var u=A.T;A.T=null;var h=U.p;try{U.p=8,Qu(e,n,a,l)}finally{U.p=h,A.T=u}}function Qu(e,n,a,l){if(Xl){var u=Ju(l);if(u===null)Lu(e,n,l,Zl,a),Bp(e,l);else if(r_(u,e,n,a,l))l.stopPropagation();else if(Bp(e,l),n&4&&-1<a_.indexOf(e)){for(;u!==null;){var h=rs(u);if(h!==null)switch(h.tag){case 3:if(h=h.stateNode,h.current.memoizedState.isDehydrated){var y=Ni(h.pendingLanes);if(y!==0){var _=h;for(_.pendingLanes|=2,_.entangledLanes|=2;y;){var N=1<<31-Ut(y);_.entanglements[1]|=N,y&=~N}vn(h),(Ae&6)===0&&(zl=wt()+500,Qa(0))}}break;case 31:case 13:_=Ri(h,2),_!==null&&kt(_,h,2),Dl(),Zu(h,2)}if(h=Ju(l),h===null&&Lu(e,n,l,Zl,a),h===u)break;u=h}u!==null&&l.stopPropagation()}else Lu(e,n,l,null,a)}}function Ju(e){return e=ec(e),Wu(e)}var Zl=null;function Wu(e){if(Zl=null,e=as(e),e!==null){var n=c(e);if(n===null)e=null;else{var a=n.tag;if(a===13){if(e=d(n),e!==null)return e;e=null}else if(a===31){if(e=m(n),e!==null)return e;e=null}else if(a===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return Zl=e,null}function Lp(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Gb()){case Gh:return 2;case Ih:return 8;case Vr:case Ib:return 32;case Yh:return 268435456;default:return 32}default:return 32}}var ed=!1,mi=null,pi=null,gi=null,sr=new Map,ar=new Map,yi=[],a_="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function Bp(e,n){switch(e){case"focusin":case"focusout":mi=null;break;case"dragenter":case"dragleave":pi=null;break;case"mouseover":case"mouseout":gi=null;break;case"pointerover":case"pointerout":sr.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":ar.delete(n.pointerId)}}function rr(e,n,a,l,u,h){return e===null||e.nativeEvent!==h?(e={blockedOn:n,domEventName:a,eventSystemFlags:l,nativeEvent:h,targetContainers:[u]},n!==null&&(n=rs(n),n!==null&&Mp(n)),e):(e.eventSystemFlags|=l,n=e.targetContainers,u!==null&&n.indexOf(u)===-1&&n.push(u),e)}function r_(e,n,a,l,u){switch(n){case"focusin":return mi=rr(mi,e,n,a,l,u),!0;case"dragenter":return pi=rr(pi,e,n,a,l,u),!0;case"mouseover":return gi=rr(gi,e,n,a,l,u),!0;case"pointerover":var h=u.pointerId;return sr.set(h,rr(sr.get(h)||null,e,n,a,l,u)),!0;case"gotpointercapture":return h=u.pointerId,ar.set(h,rr(ar.get(h)||null,e,n,a,l,u)),!0}return!1}function Vp(e){var n=as(e.target);if(n!==null){var a=c(n);if(a!==null){if(n=a.tag,n===13){if(n=d(a),n!==null){e.blockedOn=n,Jh(e.priority,function(){Up(a)});return}}else if(n===31){if(n=m(a),n!==null){e.blockedOn=n,Jh(e.priority,function(){Up(a)});return}}else if(n===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Ql(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var a=Ju(e.nativeEvent);if(a===null){a=e.nativeEvent;var l=new a.constructor(a.type,a);Wo=l,a.target.dispatchEvent(l),Wo=null}else return n=rs(a),n!==null&&Mp(n),e.blockedOn=a,!1;n.shift()}return!0}function Pp(e,n,a){Ql(e)&&a.delete(n)}function l_(){ed=!1,mi!==null&&Ql(mi)&&(mi=null),pi!==null&&Ql(pi)&&(pi=null),gi!==null&&Ql(gi)&&(gi=null),sr.forEach(Pp),ar.forEach(Pp)}function Jl(e,n){e.blockedOn===n&&(e.blockedOn=null,ed||(ed=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,l_)))}var Wl=null;function qp(e){Wl!==e&&(Wl=e,i.unstable_scheduleCallback(i.unstable_NormalPriority,function(){Wl===e&&(Wl=null);for(var n=0;n<e.length;n+=3){var a=e[n],l=e[n+1],u=e[n+2];if(typeof l!="function"){if(Wu(l||a)===null)continue;break}var h=rs(a);h!==null&&(e.splice(n,3),n-=3,Jc(h,{pending:!0,data:u,method:a.method,action:l},l,u))}}))}function qs(e){function n(N){return Jl(N,e)}mi!==null&&Jl(mi,e),pi!==null&&Jl(pi,e),gi!==null&&Jl(gi,e),sr.forEach(n),ar.forEach(n);for(var a=0;a<yi.length;a++){var l=yi[a];l.blockedOn===e&&(l.blockedOn=null)}for(;0<yi.length&&(a=yi[0],a.blockedOn===null);)Vp(a),a.blockedOn===null&&yi.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(l=0;l<a.length;l+=3){var u=a[l],h=a[l+1],y=u[Et]||null;if(typeof h=="function")y||qp(a);else if(y){var _=null;if(h&&h.hasAttribute("formAction")){if(u=h,y=h[Et]||null)_=y.formAction;else if(Wu(u)!==null)continue}else _=y.action;typeof _=="function"?a[l+1]=_:(a.splice(l,3),l-=3),qp(a)}}}function $p(){function e(h){h.canIntercept&&h.info==="react-transition"&&h.intercept({handler:function(){return new Promise(function(y){return u=y})},focusReset:"manual",scroll:"manual"})}function n(){u!==null&&(u(),u=null),l||setTimeout(a,20)}function a(){if(!l&&!navigation.transition){var h=navigation.currentEntry;h&&h.url!=null&&navigation.navigate(h.url,{state:h.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var l=!1,u=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",n),navigation.addEventListener("navigateerror",n),setTimeout(a,100),function(){l=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",n),navigation.removeEventListener("navigateerror",n),u!==null&&(u(),u=null)}}}function td(e){this._internalRoot=e}eo.prototype.render=td.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(r(409));var a=n.current,l=Ht();kp(a,l,e,n,null,null)},eo.prototype.unmount=td.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;kp(e.current,2,null,e,null,null),Dl(),n[ss]=null}};function eo(e){this._internalRoot=e}eo.prototype.unstable_scheduleHydration=function(e){if(e){var n=Qh();e={blockedOn:null,target:e,priority:n};for(var a=0;a<yi.length&&n!==0&&n<yi[a].priority;a++);yi.splice(a,0,e),a===0&&Vp(e)}};var Hp=t.version;if(Hp!=="19.2.4")throw Error(r(527,Hp,"19.2.4"));U.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(r(188)):(e=Object.keys(e).join(","),Error(r(268,e)));return e=g(n),e=e!==null?v(e):null,e=e===null?null:e.stateNode,e};var o_={bundleType:0,version:"19.2.4",rendererPackageName:"react-dom",currentDispatcherRef:A,reconcilerVersion:"19.2.4"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var to=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!to.isDisabled&&to.supportsFiber)try{pa=to.inject(o_),Mt=to}catch{}}return or.createRoot=function(e,n){if(!o(e))throw Error(r(299));var a=!1,l="",u=Zm,h=Qm,y=Jm;return n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(l=n.identifierPrefix),n.onUncaughtError!==void 0&&(u=n.onUncaughtError),n.onCaughtError!==void 0&&(h=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError)),n=Rp(e,1,!1,null,null,a,l,null,u,h,y,$p),e[ss]=n.current,Uu(e),new td(n)},or.hydrateRoot=function(e,n,a){if(!o(e))throw Error(r(299));var l=!1,u="",h=Zm,y=Qm,_=Jm,N=null;return a!=null&&(a.unstable_strictMode===!0&&(l=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onUncaughtError!==void 0&&(h=a.onUncaughtError),a.onCaughtError!==void 0&&(y=a.onCaughtError),a.onRecoverableError!==void 0&&(_=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),n=Rp(e,1,!0,n,a??null,l,u,N,h,y,_,$p),n.context=zp(null),a=n.current,l=Ht(),l=Io(l),u=ni(l),u.callback=null,ii(a,u,l),a=l,n.current.lanes=a,ya(n,a),vn(n),e[ss]=n.current,Uu(e),new eo(n)},or.version="19.2.4",or}var Wp;function v_(){if(Wp)return sd.exports;Wp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(t){console.error(t)}}return i(),sd.exports=y_(),sd.exports}var b_=v_();const x_=Gy(b_);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w_=i=>i.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Yy=(...i)=>i.filter((t,s,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===s).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var __={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=$.forwardRef(({color:i="currentColor",size:t=24,strokeWidth:s=2,absoluteStrokeWidth:r,className:o="",children:c,iconNode:d,...m},p)=>$.createElement("svg",{ref:p,...__,width:t,height:t,stroke:i,strokeWidth:r?Number(s)*24/Number(t):s,className:Yy("lucide",o),...m},[...d.map(([g,v])=>$.createElement(g,v)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Te=(i,t)=>{const s=$.forwardRef(({className:r,...o},c)=>$.createElement(S_,{ref:c,iconNode:t,className:Yy(`lucide-${w_(i)}`,r),...o}));return s.displayName=`${i}`,s};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],_i=Te("Activity",T_);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],N_=Te("ArrowRight",j_);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],Cd=Te("Banknote",E_);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A_=[["circle",{cx:"18.5",cy:"17.5",r:"3.5",key:"15x4ox"}],["circle",{cx:"5.5",cy:"17.5",r:"3.5",key:"1noe27"}],["circle",{cx:"15",cy:"5",r:"1",key:"19l28e"}],["path",{d:"M12 17.5V14l-3-3 4-3 2 3h2",key:"1npguv"}]],sh=Te("Bike",A_);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],O_=Te("BookOpen",C_);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],z_=Te("Briefcase",R_);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],D_=Te("CalendarDays",k_);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],xo=Te("Calendar",M_);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U_=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ky=Te("Check",U_);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],po=Te("ChevronLeft",L_);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B_=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],wo=Te("ChevronRight",B_);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],ns=Te("CircleCheck",V_);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]],q_=Te("CirclePlus",P_);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],Fy=Te("Clock",$_);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H_=[["path",{d:"M14.4 14.4 9.6 9.6",key:"ic80wn"}],["path",{d:"M18.657 21.485a2 2 0 1 1-2.829-2.828l-1.767 1.768a2 2 0 1 1-2.829-2.829l6.364-6.364a2 2 0 1 1 2.829 2.829l-1.768 1.767a2 2 0 1 1 2.828 2.829z",key:"nnl7wr"}],["path",{d:"m21.5 21.5-1.4-1.4",key:"1f1ice"}],["path",{d:"M3.9 3.9 2.5 2.5",key:"1evmna"}],["path",{d:"M6.404 12.768a2 2 0 1 1-2.829-2.829l1.768-1.767a2 2 0 1 1-2.828-2.829l2.828-2.828a2 2 0 1 1 2.829 2.828l1.767-1.768a2 2 0 1 1 2.829 2.829z",key:"yhosts"}]],aa=Te("Dumbbell",H_);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G_=[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]],I_=Te("Flag",G_);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y_=[["path",{d:"M4 16v-2.38C4 11.5 2.97 10.5 3 8c.03-2.72 1.49-6 4.5-6C9.37 2 10 3.8 10 5.5c0 3.11-2 5.66-2 8.68V16a2 2 0 1 1-4 0Z",key:"1dudjm"}],["path",{d:"M20 20v-2.38c0-2.12 1.03-3.12 1-5.62-.03-2.72-1.49-6-4.5-6C14.63 6 14 7.8 14 9.5c0 3.11 2 5.66 2 8.68V20a2 2 0 1 0 4 0Z",key:"l2t8xc"}],["path",{d:"M16 17h4",key:"1dejxt"}],["path",{d:"M4 13h4",key:"1bwh8b"}]],ah=Te("Footprints",Y_);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K_=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],F_=Te("Info",K_);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X_=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Z_=Te("LayoutDashboard",X_);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q_=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],J_=Te("Link",Q_);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W_=[["path",{d:"M11 12H3",key:"51ecnj"}],["path",{d:"M16 6H3",key:"1wxfjs"}],["path",{d:"M16 18H3",key:"12xzn7"}],["path",{d:"M18 9v6",key:"1twb98"}],["path",{d:"M21 12h-6",key:"bt1uis"}]],eg=Te("ListPlus",W_);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Xy=Te("MapPin",e1);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t1=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Zy=Te("Pen",t1);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ia=Te("Plus",n1);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],s1=Te("Save",i1);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],zo=Te("Target",a1);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r1=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],l1=Te("Timer",r1);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Qy=Te("Trash2",o1);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],u1=Te("TrendingUp",c1);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],go=Te("TriangleAlert",d1);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]],f1=Te("Trophy",h1);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m1=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],p1=Te("User",m1);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],wr=Te("Users",g1);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y1=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],tg=Te("Wallet",y1);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=[["path",{d:"M2 6c.6.5 1.2 1 2.5 1C7 7 7 5 9.5 5c2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"knzxuh"}],["path",{d:"M2 12c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"2jd2cc"}],["path",{d:"M2 18c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 2.6 0 2.4 2 5 2 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"rd2r6e"}]],rh=Te("Waves",v1);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ca=Te("X",b1);function ko(i,t){var s={};for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&t.indexOf(r)<0&&(s[r]=i[r]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,r=Object.getOwnPropertySymbols(i);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(i,r[o])&&(s[r[o]]=i[r[o]]);return s}function x1(i,t,s,r){function o(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function m(v){try{g(r.next(v))}catch(b){d(b)}}function p(v){try{g(r.throw(v))}catch(b){d(b)}}function g(v){v.done?c(v.value):o(v.value).then(m,p)}g((r=r.apply(i,t||[])).next())})}const w1=i=>i?(...t)=>i(...t):(...t)=>fetch(...t);class lh extends Error{constructor(t,s="FunctionsError",r){super(t),this.name=s,this.context=r}}class _1 extends lh{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}}class ng extends lh{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}}class ig extends lh{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}}var Od;(function(i){i.Any="any",i.ApNortheast1="ap-northeast-1",i.ApNortheast2="ap-northeast-2",i.ApSouth1="ap-south-1",i.ApSoutheast1="ap-southeast-1",i.ApSoutheast2="ap-southeast-2",i.CaCentral1="ca-central-1",i.EuCentral1="eu-central-1",i.EuWest1="eu-west-1",i.EuWest2="eu-west-2",i.EuWest3="eu-west-3",i.SaEast1="sa-east-1",i.UsEast1="us-east-1",i.UsWest1="us-west-1",i.UsWest2="us-west-2"})(Od||(Od={}));class S1{constructor(t,{headers:s={},customFetch:r,region:o=Od.Any}={}){this.url=t,this.headers=s,this.region=o,this.fetch=w1(r)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t){return x1(this,arguments,void 0,function*(s,r={}){var o;let c,d;try{const{headers:m,method:p,body:g,signal:v,timeout:b}=r;let x={},{region:S}=r;S||(S=this.region);const w=new URL(`${this.url}/${s}`);S&&S!=="any"&&(x["x-region"]=S,w.searchParams.set("forceFunctionRegion",S));let T;g&&(m&&!Object.prototype.hasOwnProperty.call(m,"Content-Type")||!m)?typeof Blob<"u"&&g instanceof Blob||g instanceof ArrayBuffer?(x["Content-Type"]="application/octet-stream",T=g):typeof g=="string"?(x["Content-Type"]="text/plain",T=g):typeof FormData<"u"&&g instanceof FormData?T=g:(x["Content-Type"]="application/json",T=JSON.stringify(g)):g&&typeof g!="string"&&!(typeof Blob<"u"&&g instanceof Blob)&&!(g instanceof ArrayBuffer)&&!(typeof FormData<"u"&&g instanceof FormData)?T=JSON.stringify(g):T=g;let O=v;b&&(d=new AbortController,c=setTimeout(()=>d.abort(),b),v?(O=d.signal,v.addEventListener("abort",()=>d.abort())):O=d.signal);const R=yield this.fetch(w.toString(),{method:p||"POST",headers:Object.assign(Object.assign(Object.assign({},x),this.headers),m),body:T,signal:O}).catch(X=>{throw new _1(X)}),V=R.headers.get("x-relay-error");if(V&&V==="true")throw new ng(R);if(!R.ok)throw new ig(R);let D=((o=R.headers.get("Content-Type"))!==null&&o!==void 0?o:"text/plain").split(";")[0].trim(),Z;return D==="application/json"?Z=yield R.json():D==="application/octet-stream"||D==="application/pdf"?Z=yield R.blob():D==="text/event-stream"?Z=R:D==="multipart/form-data"?Z=yield R.formData():Z=yield R.text(),{data:Z,error:null,response:R}}catch(m){return{data:null,error:m,response:m instanceof ig||m instanceof ng?m.context:void 0}}finally{c&&clearTimeout(c)}})}}var T1=class extends Error{constructor(i){super(i.message),this.name="PostgrestError",this.details=i.details,this.hint=i.hint,this.code=i.code}},j1=class{constructor(i){var t,s,r;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(t=i.shouldThrowOnError)!==null&&t!==void 0?t:!1,this.signal=i.signal,this.isMaybeSingle=(s=i.isMaybeSingle)!==null&&s!==void 0?s:!1,this.urlLengthLimit=(r=i.urlLengthLimit)!==null&&r!==void 0?r:8e3,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,t){return this.headers=new Headers(this.headers),this.headers.set(i,t),this}then(i,t){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let o=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let d=null,m=null,p=null,g=c.status,v=c.statusText;if(c.ok){var b,x;if(s.method!=="HEAD"){var S;const R=await c.text();R===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((S=s.headers.get("Accept"))===null||S===void 0)&&S.includes("application/vnd.pgrst.plan+text"))?m=R:m=JSON.parse(R))}const T=(b=s.headers.get("Prefer"))===null||b===void 0?void 0:b.match(/count=(exact|planned|estimated)/),O=(x=c.headers.get("content-range"))===null||x===void 0?void 0:x.split("/");T&&O&&O.length>1&&(p=parseInt(O[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(m)&&(m.length>1?(d={code:"PGRST116",details:`Results contain ${m.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},m=null,p=null,g=406,v="Not Acceptable"):m.length===1?m=m[0]:m=null)}else{var w;const T=await c.text();try{d=JSON.parse(T),Array.isArray(d)&&c.status===404&&(m=[],d=null,g=200,v="OK")}catch{c.status===404&&T===""?(g=204,v="No Content"):d={message:T}}if(d&&s.isMaybeSingle&&(!(d==null||(w=d.details)===null||w===void 0)&&w.includes("0 rows"))&&(d=null,g=200,v="OK"),d&&s.shouldThrowOnError)throw new T1(d)}return{error:d,data:m,count:p,status:g,statusText:v}});return this.shouldThrowOnError||(o=o.catch(c=>{var d;let m="",p="",g="";const v=c==null?void 0:c.cause;if(v){var b,x,S,w;const R=(b=v==null?void 0:v.message)!==null&&b!==void 0?b:"",V=(x=v==null?void 0:v.code)!==null&&x!==void 0?x:"";m=`${(S=c==null?void 0:c.name)!==null&&S!==void 0?S:"FetchError"}: ${c==null?void 0:c.message}`,m+=`

Caused by: ${(w=v==null?void 0:v.name)!==null&&w!==void 0?w:"Error"}: ${R}`,V&&(m+=` (${V})`),v!=null&&v.stack&&(m+=`
${v.stack}`)}else{var T;m=(T=c==null?void 0:c.stack)!==null&&T!==void 0?T:""}const O=this.url.toString().length;return(c==null?void 0:c.name)==="AbortError"||(c==null?void 0:c.code)==="ABORT_ERR"?(g="",p="Request was aborted (timeout or manual cancellation)",O>this.urlLengthLimit&&(p+=`. Note: Your request URL is ${O} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):((v==null?void 0:v.name)==="HeadersOverflowError"||(v==null?void 0:v.code)==="UND_ERR_HEADERS_OVERFLOW")&&(g="",p="HTTP headers exceeded server limits (typically 16KB)",O>this.urlLengthLimit&&(p+=`. Your request URL is ${O} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(d=c==null?void 0:c.name)!==null&&d!==void 0?d:"FetchError"}: ${c==null?void 0:c.message}`,details:m,hint:p,code:g},data:null,count:null,status:0,statusText:""}})),o.then(i,t)}returns(){return this}overrideTypes(){return this}},N1=class extends j1{select(i){let t=!1;const s=(i??"*").split("").map(r=>/\s/.test(r)&&!t?"":(r==='"'&&(t=!t),r)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:t=!0,nullsFirst:s,foreignTable:r,referencedTable:o=r}={}){const c=o?`${o}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${i}.${t?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:t,referencedTable:s=t}={}){const r=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(r,`${i}`),this}range(i,t,{foreignTable:s,referencedTable:r=s}={}){const o=typeof r>"u"?"offset":`${r}.offset`,c=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(o,`${i}`),this.url.searchParams.set(c,`${t-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:t=!1,settings:s=!1,buffers:r=!1,wal:o=!1,format:c="text"}={}){var d;const m=[i?"analyze":null,t?"verbose":null,s?"settings":null,r?"buffers":null,o?"wal":null].filter(Boolean).join("|"),p=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${p}"; options=${m};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}};const sg=new RegExp("[,()]");var Fs=class extends N1{eq(i,t){return this.url.searchParams.append(i,`eq.${t}`),this}neq(i,t){return this.url.searchParams.append(i,`neq.${t}`),this}gt(i,t){return this.url.searchParams.append(i,`gt.${t}`),this}gte(i,t){return this.url.searchParams.append(i,`gte.${t}`),this}lt(i,t){return this.url.searchParams.append(i,`lt.${t}`),this}lte(i,t){return this.url.searchParams.append(i,`lte.${t}`),this}like(i,t){return this.url.searchParams.append(i,`like.${t}`),this}likeAllOf(i,t){return this.url.searchParams.append(i,`like(all).{${t.join(",")}}`),this}likeAnyOf(i,t){return this.url.searchParams.append(i,`like(any).{${t.join(",")}}`),this}ilike(i,t){return this.url.searchParams.append(i,`ilike.${t}`),this}ilikeAllOf(i,t){return this.url.searchParams.append(i,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(i,t){return this.url.searchParams.append(i,`ilike(any).{${t.join(",")}}`),this}regexMatch(i,t){return this.url.searchParams.append(i,`match.${t}`),this}regexIMatch(i,t){return this.url.searchParams.append(i,`imatch.${t}`),this}is(i,t){return this.url.searchParams.append(i,`is.${t}`),this}isDistinct(i,t){return this.url.searchParams.append(i,`isdistinct.${t}`),this}in(i,t){const s=Array.from(new Set(t)).map(r=>typeof r=="string"&&sg.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(i,`in.(${s})`),this}notIn(i,t){const s=Array.from(new Set(t)).map(r=>typeof r=="string"&&sg.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(i,`not.in.(${s})`),this}contains(i,t){return typeof t=="string"?this.url.searchParams.append(i,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(i,`cs.{${t.join(",")}}`):this.url.searchParams.append(i,`cs.${JSON.stringify(t)}`),this}containedBy(i,t){return typeof t=="string"?this.url.searchParams.append(i,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(i,`cd.{${t.join(",")}}`):this.url.searchParams.append(i,`cd.${JSON.stringify(t)}`),this}rangeGt(i,t){return this.url.searchParams.append(i,`sr.${t}`),this}rangeGte(i,t){return this.url.searchParams.append(i,`nxl.${t}`),this}rangeLt(i,t){return this.url.searchParams.append(i,`sl.${t}`),this}rangeLte(i,t){return this.url.searchParams.append(i,`nxr.${t}`),this}rangeAdjacent(i,t){return this.url.searchParams.append(i,`adj.${t}`),this}overlaps(i,t){return typeof t=="string"?this.url.searchParams.append(i,`ov.${t}`):this.url.searchParams.append(i,`ov.{${t.join(",")}}`),this}textSearch(i,t,{config:s,type:r}={}){let o="";r==="plain"?o="pl":r==="phrase"?o="ph":r==="websearch"&&(o="w");const c=s===void 0?"":`(${s})`;return this.url.searchParams.append(i,`${o}fts${c}.${t}`),this}match(i){return Object.entries(i).forEach(([t,s])=>{this.url.searchParams.append(t,`eq.${s}`)}),this}not(i,t,s){return this.url.searchParams.append(i,`not.${t}.${s}`),this}or(i,{foreignTable:t,referencedTable:s=t}={}){const r=s?`${s}.or`:"or";return this.url.searchParams.append(r,`(${i})`),this}filter(i,t,s){return this.url.searchParams.append(i,`${t}.${s}`),this}},E1=class{constructor(i,{headers:t={},schema:s,fetch:r,urlLengthLimit:o=8e3}){this.url=i,this.headers=new Headers(t),this.schema=s,this.fetch=r,this.urlLengthLimit=o}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(i,t){const{head:s=!1,count:r}=t??{},o=s?"HEAD":"GET";let c=!1;const d=(i??"*").split("").map(g=>/\s/.test(g)&&!c?"":(g==='"'&&(c=!c),g)).join(""),{url:m,headers:p}=this.cloneRequestState();return m.searchParams.set("select",d),r&&p.append("Prefer",`count=${r}`),new Fs({method:o,url:m,headers:p,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(i,{count:t,defaultToNull:s=!0}={}){var r;const o="POST",{url:c,headers:d}=this.cloneRequestState();if(t&&d.append("Prefer",`count=${t}`),s||d.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((p,g)=>p.concat(Object.keys(g)),[]);if(m.length>0){const p=[...new Set(m)].map(g=>`"${g}"`);c.searchParams.set("columns",p.join(","))}}return new Fs({method:o,url:c,headers:d,schema:this.schema,body:i,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(i,{onConflict:t,ignoreDuplicates:s=!1,count:r,defaultToNull:o=!0}={}){var c;const d="POST",{url:m,headers:p}=this.cloneRequestState();if(p.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),t!==void 0&&m.searchParams.set("on_conflict",t),r&&p.append("Prefer",`count=${r}`),o||p.append("Prefer","missing=default"),Array.isArray(i)){const g=i.reduce((v,b)=>v.concat(Object.keys(b)),[]);if(g.length>0){const v=[...new Set(g)].map(b=>`"${b}"`);m.searchParams.set("columns",v.join(","))}}return new Fs({method:d,url:m,headers:p,schema:this.schema,body:i,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch,urlLengthLimit:this.urlLengthLimit})}update(i,{count:t}={}){var s;const r="PATCH",{url:o,headers:c}=this.cloneRequestState();return t&&c.append("Prefer",`count=${t}`),new Fs({method:r,url:o,headers:c,schema:this.schema,body:i,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:i}={}){var t;const s="DELETE",{url:r,headers:o}=this.cloneRequestState();return i&&o.append("Prefer",`count=${i}`),new Fs({method:s,url:r,headers:o,schema:this.schema,fetch:(t=this.fetch)!==null&&t!==void 0?t:fetch,urlLengthLimit:this.urlLengthLimit})}};function _r(i){"@babel/helpers - typeof";return _r=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},_r(i)}function A1(i,t){if(_r(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var r=s.call(i,t);if(_r(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function C1(i){var t=A1(i,"string");return _r(t)=="symbol"?t:t+""}function O1(i,t,s){return(t=C1(t))in i?Object.defineProperty(i,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[t]=s,i}function ag(i,t){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),s.push.apply(s,r)}return s}function no(i){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?ag(Object(s),!0).forEach(function(r){O1(i,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):ag(Object(s)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(s,r))})}return i}var R1=class Jy{constructor(t,{headers:s={},schema:r,fetch:o,timeout:c,urlLengthLimit:d=8e3}={}){this.url=t,this.headers=new Headers(s),this.schemaName=r,this.urlLengthLimit=d;const m=o??globalThis.fetch;c!==void 0&&c>0?this.fetch=(p,g)=>{const v=new AbortController,b=setTimeout(()=>v.abort(),c),x=g==null?void 0:g.signal;if(x){if(x.aborted)return clearTimeout(b),m(p,g);const S=()=>{clearTimeout(b),v.abort()};return x.addEventListener("abort",S,{once:!0}),m(p,no(no({},g),{},{signal:v.signal})).finally(()=>{clearTimeout(b),x.removeEventListener("abort",S)})}return m(p,no(no({},g),{},{signal:v.signal})).finally(()=>clearTimeout(b))}:this.fetch=m}from(t){if(!t||typeof t!="string"||t.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new E1(new URL(`${this.url}/${t}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(t){return new Jy(this.url,{headers:this.headers,schema:t,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(t,s={},{head:r=!1,get:o=!1,count:c}={}){var d;let m;const p=new URL(`${this.url}/rpc/${t}`);let g;const v=S=>S!==null&&typeof S=="object"&&(!Array.isArray(S)||S.some(v)),b=r&&Object.values(s).some(v);b?(m="POST",g=s):r||o?(m=r?"HEAD":"GET",Object.entries(s).filter(([S,w])=>w!==void 0).map(([S,w])=>[S,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([S,w])=>{p.searchParams.append(S,w)})):(m="POST",g=s);const x=new Headers(this.headers);return b?x.set("Prefer",c?`count=${c},return=minimal`:"return=minimal"):c&&x.set("Prefer",`count=${c}`),new Fs({method:m,url:p,headers:x,schema:this.schemaName,body:g,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch,urlLengthLimit:this.urlLengthLimit})}};class z1{constructor(){}static detectEnvironment(){var t;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((t=navigator.userAgent)===null||t===void 0)&&t.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const r=s.versions;if(r&&r.node){const o=r.node,c=parseInt(o.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const t=this.detectEnvironment();if(t.constructor)return t.constructor;let s=t.error||"WebSocket not supported in this environment.";throw t.workaround&&(s+=`

Suggested solution: ${t.workaround}`),new Error(s)}static createWebSocket(t,s){const r=this.getWebSocketConstructor();return new r(t,s)}static isWebSocketSupported(){try{const t=this.detectEnvironment();return t.type==="native"||t.type==="ws"}catch{return!1}}}const k1="2.97.0",D1=`realtime-js/${k1}`,M1="1.0.0",Wy="2.0.0",rg=Wy,Rd=1e4,U1=1e3,L1=100;var xi;(function(i){i[i.connecting=0]="connecting",i[i.open=1]="open",i[i.closing=2]="closing",i[i.closed=3]="closed"})(xi||(xi={}));var ct;(function(i){i.closed="closed",i.errored="errored",i.joined="joined",i.joining="joining",i.leaving="leaving"})(ct||(ct={}));var mn;(function(i){i.close="phx_close",i.error="phx_error",i.join="phx_join",i.reply="phx_reply",i.leave="phx_leave",i.access_token="access_token"})(mn||(mn={}));var zd;(function(i){i.websocket="websocket"})(zd||(zd={}));var Zi;(function(i){i.Connecting="connecting",i.Open="open",i.Closing="closing",i.Closed="closed"})(Zi||(Zi={}));class B1{constructor(t){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=t??[]}encode(t,s){if(t.event===this.BROADCAST_EVENT&&!(t.payload instanceof ArrayBuffer)&&typeof t.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(t));let r=[t.join_ref,t.ref,t.topic,t.event,t.payload];return s(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(t){var s;return this._isArrayBuffer((s=t.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(t):this._encodeJsonUserBroadcastPush(t)}_encodeBinaryUserBroadcastPush(t){var s,r;const o=(r=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(t,this.BINARY_ENCODING,o)}_encodeJsonUserBroadcastPush(t){var s,r;const o=(r=(s=t.payload)===null||s===void 0?void 0:s.payload)!==null&&r!==void 0?r:{},d=new TextEncoder().encode(JSON.stringify(o)).buffer;return this._encodeUserBroadcastPush(t,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(t,s,r){var o,c;const d=t.topic,m=(o=t.ref)!==null&&o!==void 0?o:"",p=(c=t.join_ref)!==null&&c!==void 0?c:"",g=t.payload.event,v=this.allowedMetadataKeys?this._pick(t.payload,this.allowedMetadataKeys):{},b=Object.keys(v).length===0?"":JSON.stringify(v);if(p.length>255)throw new Error(`joinRef length ${p.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`ref length ${m.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(g.length>255)throw new Error(`userEvent length ${g.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`metadata length ${b.length} exceeds maximum of 255`);const x=this.USER_BROADCAST_PUSH_META_LENGTH+p.length+m.length+d.length+g.length+b.length,S=new ArrayBuffer(this.HEADER_LENGTH+x);let w=new DataView(S),T=0;w.setUint8(T++,this.KINDS.userBroadcastPush),w.setUint8(T++,p.length),w.setUint8(T++,m.length),w.setUint8(T++,d.length),w.setUint8(T++,g.length),w.setUint8(T++,b.length),w.setUint8(T++,s),Array.from(p,R=>w.setUint8(T++,R.charCodeAt(0))),Array.from(m,R=>w.setUint8(T++,R.charCodeAt(0))),Array.from(d,R=>w.setUint8(T++,R.charCodeAt(0))),Array.from(g,R=>w.setUint8(T++,R.charCodeAt(0))),Array.from(b,R=>w.setUint8(T++,R.charCodeAt(0)));var O=new Uint8Array(S.byteLength+r.byteLength);return O.set(new Uint8Array(S),0),O.set(new Uint8Array(r),S.byteLength),O.buffer}decode(t,s){if(this._isArrayBuffer(t)){let r=this._binaryDecode(t);return s(r)}if(typeof t=="string"){const r=JSON.parse(t),[o,c,d,m,p]=r;return s({join_ref:o,ref:c,topic:d,event:m,payload:p})}return s({})}_binaryDecode(t){const s=new DataView(t),r=s.getUint8(0),o=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(t,s,o)}}_decodeUserBroadcast(t,s,r){const o=s.getUint8(1),c=s.getUint8(2),d=s.getUint8(3),m=s.getUint8(4);let p=this.HEADER_LENGTH+4;const g=r.decode(t.slice(p,p+o));p=p+o;const v=r.decode(t.slice(p,p+c));p=p+c;const b=r.decode(t.slice(p,p+d));p=p+d;const x=t.slice(p,t.byteLength),S=m===this.JSON_ENCODING?JSON.parse(r.decode(x)):x,w={type:this.BROADCAST_EVENT,event:v,payload:S};return d>0&&(w.meta=JSON.parse(b)),{join_ref:null,ref:null,topic:g,event:this.BROADCAST_EVENT,payload:w}}_isArrayBuffer(t){var s;return t instanceof ArrayBuffer||((s=t==null?void 0:t.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(t,s){return!t||typeof t!="object"?{}:Object.fromEntries(Object.entries(t).filter(([r])=>s.includes(r)))}}class ev{constructor(t,s){this.callback=t,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Be;(function(i){i.abstime="abstime",i.bool="bool",i.date="date",i.daterange="daterange",i.float4="float4",i.float8="float8",i.int2="int2",i.int4="int4",i.int4range="int4range",i.int8="int8",i.int8range="int8range",i.json="json",i.jsonb="jsonb",i.money="money",i.numeric="numeric",i.oid="oid",i.reltime="reltime",i.text="text",i.time="time",i.timestamp="timestamp",i.timestamptz="timestamptz",i.timetz="timetz",i.tsrange="tsrange",i.tstzrange="tstzrange"})(Be||(Be={}));const lg=(i,t,s={})=>{var r;const o=(r=s.skipTypes)!==null&&r!==void 0?r:[];return t?Object.keys(t).reduce((c,d)=>(c[d]=V1(d,i,t,o),c),{}):{}},V1=(i,t,s,r)=>{const o=t.find(m=>m.name===i),c=o==null?void 0:o.type,d=s[i];return c&&!r.includes(c)?tv(c,d):kd(d)},tv=(i,t)=>{if(i.charAt(0)==="_"){const s=i.slice(1,i.length);return H1(t,s)}switch(i){case Be.bool:return P1(t);case Be.float4:case Be.float8:case Be.int2:case Be.int4:case Be.int8:case Be.numeric:case Be.oid:return q1(t);case Be.json:case Be.jsonb:return $1(t);case Be.timestamp:return G1(t);case Be.abstime:case Be.date:case Be.daterange:case Be.int4range:case Be.int8range:case Be.money:case Be.reltime:case Be.text:case Be.time:case Be.timestamptz:case Be.timetz:case Be.tsrange:case Be.tstzrange:return kd(t);default:return kd(t)}},kd=i=>i,P1=i=>{switch(i){case"t":return!0;case"f":return!1;default:return i}},q1=i=>{if(typeof i=="string"){const t=parseFloat(i);if(!Number.isNaN(t))return t}return i},$1=i=>{if(typeof i=="string")try{return JSON.parse(i)}catch{return i}return i},H1=(i,t)=>{if(typeof i!="string")return i;const s=i.length-1,r=i[s];if(i[0]==="{"&&r==="}"){let c;const d=i.slice(1,s);try{c=JSON.parse("["+d+"]")}catch{c=d?d.split(","):[]}return c.map(m=>tv(t,m))}return i},G1=i=>typeof i=="string"?i.replace(" ","T"):i,nv=i=>{const t=new URL(i);return t.protocol=t.protocol.replace(/^ws/i,"http"),t.pathname=t.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),t.pathname===""||t.pathname==="/"?t.pathname="/api/broadcast":t.pathname=t.pathname+"/api/broadcast",t.href};class od{constructor(t,s,r={},o=Rd){this.channel=t,this.event=s,this.payload=r,this.timeout=o,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,s){var r;return this._hasReceived(t)&&s((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:t,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const t=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:s}){this.recHooks.filter(r=>r.status===t).forEach(r=>r.callback(s))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}}var og;(function(i){i.SYNC="sync",i.JOIN="join",i.LEAVE="leave"})(og||(og={}));class pr{constructor(t,s){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},o=>{const{onJoin:c,onLeave:d,onSync:m}=this.caller;this.joinRef=this.channel._joinRef(),this.state=pr.syncState(this.state,o,c,d),this.pendingDiffs.forEach(p=>{this.state=pr.syncDiff(this.state,p,c,d)}),this.pendingDiffs=[],m()}),this.channel._on(r.diff,{},o=>{const{onJoin:c,onLeave:d,onSync:m}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(o):(this.state=pr.syncDiff(this.state,o,c,d),m())}),this.onJoin((o,c,d)=>{this.channel._trigger("presence",{event:"join",key:o,currentPresences:c,newPresences:d})}),this.onLeave((o,c,d)=>{this.channel._trigger("presence",{event:"leave",key:o,currentPresences:c,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,s,r,o){const c=this.cloneDeep(t),d=this.transformState(s),m={},p={};return this.map(c,(g,v)=>{d[g]||(p[g]=v)}),this.map(d,(g,v)=>{const b=c[g];if(b){const x=v.map(O=>O.presence_ref),S=b.map(O=>O.presence_ref),w=v.filter(O=>S.indexOf(O.presence_ref)<0),T=b.filter(O=>x.indexOf(O.presence_ref)<0);w.length>0&&(m[g]=w),T.length>0&&(p[g]=T)}else m[g]=v}),this.syncDiff(c,{joins:m,leaves:p},r,o)}static syncDiff(t,s,r,o){const{joins:c,leaves:d}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return r||(r=()=>{}),o||(o=()=>{}),this.map(c,(m,p)=>{var g;const v=(g=t[m])!==null&&g!==void 0?g:[];if(t[m]=this.cloneDeep(p),v.length>0){const b=t[m].map(S=>S.presence_ref),x=v.filter(S=>b.indexOf(S.presence_ref)<0);t[m].unshift(...x)}r(m,v,p)}),this.map(d,(m,p)=>{let g=t[m];if(!g)return;const v=p.map(b=>b.presence_ref);g=g.filter(b=>v.indexOf(b.presence_ref)<0),t[m]=g,o(m,g,p),g.length===0&&delete t[m]}),t}static map(t,s){return Object.getOwnPropertyNames(t).map(r=>s(r,t[r]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((s,r)=>{const o=t[r];return"metas"in o?s[r]=o.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[r]=o,s},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var cg;(function(i){i.ALL="*",i.INSERT="INSERT",i.UPDATE="UPDATE",i.DELETE="DELETE"})(cg||(cg={}));var gr;(function(i){i.BROADCAST="broadcast",i.PRESENCE="presence",i.POSTGRES_CHANGES="postgres_changes",i.SYSTEM="system"})(gr||(gr={}));var $n;(function(i){i.SUBSCRIBED="SUBSCRIBED",i.TIMED_OUT="TIMED_OUT",i.CLOSED="CLOSED",i.CHANNEL_ERROR="CHANNEL_ERROR"})($n||($n={}));class Qs{constructor(t,s={config:{}},r){var o,c;if(this.topic=t,this.params=s,this.socket=r,this.bindings={},this.state=ct.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new od(this,mn.join,this.params,this.timeout),this.rejoinTimer=new ev(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ct.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ct.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=ct.errored,this.rejoinTimer.scheduleTimeout())}),this._on(mn.reply,{},(d,m)=>{this._trigger(this._replyEventName(m),d)}),this.presence=new pr(this),this.broadcastEndpointURL=nv(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(o=this.params.config)===null||o===void 0?void 0:o.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(t,s=this.timeout){var r,o,c;if(this.socket.isConnected()||this.socket.connect(),this.state==ct.closed){const{config:{broadcast:d,presence:m,private:p}}=this.params,g=(o=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(S=>S.filter))!==null&&o!==void 0?o:[],v=!!this.bindings[gr.PRESENCE]&&this.bindings[gr.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,b={},x={broadcast:d,presence:Object.assign(Object.assign({},m),{enabled:v}),postgres_changes:g,private:p};this.socket.accessTokenValue&&(b.access_token=this.socket.accessTokenValue),this._onError(S=>t==null?void 0:t($n.CHANNEL_ERROR,S)),this._onClose(()=>t==null?void 0:t($n.CLOSED)),this.updateJoinPayload(Object.assign({config:x},b)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:S})=>{var w;if(this.socket._isManualToken()||this.socket.setAuth(),S===void 0){t==null||t($n.SUBSCRIBED);return}else{const T=this.bindings.postgres_changes,O=(w=T==null?void 0:T.length)!==null&&w!==void 0?w:0,R=[];for(let V=0;V<O;V++){const D=T[V],{filter:{event:Z,schema:X,table:Q,filter:J}}=D,W=S&&S[V];if(W&&W.event===Z&&Qs.isFilterValueEqual(W.schema,X)&&Qs.isFilterValueEqual(W.table,Q)&&Qs.isFilterValueEqual(W.filter,J))R.push(Object.assign(Object.assign({},D),{id:W.id}));else{this.unsubscribe(),this.state=ct.errored,t==null||t($n.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=R,t&&t($n.SUBSCRIBED);return}}).receive("error",S=>{this.state=ct.errored,t==null||t($n.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(S).join(", ")||"error")))}).receive("timeout",()=>{t==null||t($n.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(t,s={}){return await this.send({type:"presence",event:"track",payload:t},s.timeout||this.timeout)}async untrack(t={}){return await this.send({type:"presence",event:"untrack"},t)}on(t,s,r){return this.state===ct.joined&&t===gr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(t,s,r)}async httpSend(t,s,r={}){var o;if(s==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:t,payload:s,private:this.private}]})},m=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(o=r.timeout)!==null&&o!==void 0?o:this.timeout);if(m.status===202)return{success:!0};let p=m.statusText;try{const g=await m.json();p=g.error||g.message||p}catch{}return Promise.reject(new Error(p))}async send(t,s={}){var r,o;if(!this._canPush()&&t.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:d}=t,m={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(m.Authorization=`Bearer ${this.socket.accessTokenValue}`);const p={method:"POST",headers:m,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:d,private:this.private}]})};try{const g=await this._fetchWithTimeout(this.broadcastEndpointURL,p,(r=s.timeout)!==null&&r!==void 0?r:this.timeout);return await((o=g.body)===null||o===void 0?void 0:o.cancel()),g.ok?"ok":"error"}catch(g){return g.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var d,m,p;const g=this._push(t.type,t,s.timeout||this.timeout);t.type==="broadcast"&&!(!((p=(m=(d=this.params)===null||d===void 0?void 0:d.config)===null||m===void 0?void 0:m.broadcast)===null||p===void 0)&&p.ack)&&c("ok"),g.receive("ok",()=>c("ok")),g.receive("error",()=>c("error")),g.receive("timeout",()=>c("timed out"))})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=ct.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(mn.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(o=>{r=new od(this,mn.leave,{},t),r.receive("ok",()=>{s(),o("ok")}).receive("timeout",()=>{s(),o("timed out")}).receive("error",()=>{o("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(t=>t.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ct.closed,this.bindings={}}async _fetchWithTimeout(t,s,r){const o=new AbortController,c=setTimeout(()=>o.abort(),r),d=await this.socket.fetch(t,Object.assign(Object.assign({},s),{signal:o.signal}));return clearTimeout(c),d}_push(t,s,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let o=new od(this,t,s,r);return this._canPush()?o.send():this._addToPushBuffer(o),o}_addToPushBuffer(t){if(t.startTimeout(),this.pushBuffer.push(t),this.pushBuffer.length>L1){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(t,s,r){return s}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,s,r){var o,c;const d=t.toLocaleLowerCase(),{close:m,error:p,leave:g,join:v}=mn;if(r&&[m,p,g,v].indexOf(d)>=0&&r!==this._joinRef())return;let x=this._onMessage(d,s,r);if(s&&!x)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(o=this.bindings.postgres_changes)===null||o===void 0||o.filter(S=>{var w,T,O;return((w=S.filter)===null||w===void 0?void 0:w.event)==="*"||((O=(T=S.filter)===null||T===void 0?void 0:T.event)===null||O===void 0?void 0:O.toLocaleLowerCase())===d}).map(S=>S.callback(x,r)):(c=this.bindings[d])===null||c===void 0||c.filter(S=>{var w,T,O,R,V,D;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in S){const Z=S.id,X=(w=S.filter)===null||w===void 0?void 0:w.event;return Z&&((T=s.ids)===null||T===void 0?void 0:T.includes(Z))&&(X==="*"||(X==null?void 0:X.toLocaleLowerCase())===((O=s.data)===null||O===void 0?void 0:O.type.toLocaleLowerCase()))}else{const Z=(V=(R=S==null?void 0:S.filter)===null||R===void 0?void 0:R.event)===null||V===void 0?void 0:V.toLocaleLowerCase();return Z==="*"||Z===((D=s==null?void 0:s.event)===null||D===void 0?void 0:D.toLocaleLowerCase())}else return S.type.toLocaleLowerCase()===d}).map(S=>{if(typeof x=="object"&&"ids"in x){const w=x.data,{schema:T,table:O,commit_timestamp:R,type:V,errors:D}=w;x=Object.assign(Object.assign({},{schema:T,table:O,commit_timestamp:R,eventType:V,new:{},old:{},errors:D}),this._getPayloadRecords(w))}S.callback(x,r)})}_isClosed(){return this.state===ct.closed}_isJoined(){return this.state===ct.joined}_isJoining(){return this.state===ct.joining}_isLeaving(){return this.state===ct.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,s,r){const o=t.toLocaleLowerCase(),c={type:o,filter:s,callback:r};return this.bindings[o]?this.bindings[o].push(c):this.bindings[o]=[c],this}_off(t,s){const r=t.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(o=>{var c;return!(((c=o.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===r&&Qs.isEqual(o.filter,s))})),this}static isEqual(t,s){if(Object.keys(t).length!==Object.keys(s).length)return!1;for(const r in t)if(t[r]!==s[r])return!1;return!0}static isFilterValueEqual(t,s){return(t??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(mn.close,{},t)}_onError(t){this._on(mn.error,{},s=>t(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ct.joining,this.joinPush.resend(t))}_getPayloadRecords(t){const s={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(s.new=lg(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(s.old=lg(t.columns,t.old_record)),s}}const cd=()=>{},io={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},I1=[1e3,2e3,5e3,1e4],Y1=1e4,K1=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class F1{constructor(t,s){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Rd,this.transport=null,this.heartbeatIntervalMs=io.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=cd,this.ref=0,this.reconnectTimer=null,this.vsn=rg,this.logger=cd,this.conn=null,this.sendBuffer=[],this.serializer=new B1,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=o=>o?(...c)=>o(...c):(...c)=>fetch(...c),!(!((r=s==null?void 0:s.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${t}/${zd.websocket}`,this.httpEndpoint=nv(t),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=z1.createWebSocket(this.endpointURL())}catch(t){this._setConnectionState("disconnected");const s=t.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(t,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(t?this.conn.close(t,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(t){const s=await t.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const t=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),t}log(t,s,r){this.logger(t,s,r)}connectionState(){switch(this.conn&&this.conn.readyState){case xi.connecting:return Zi.Connecting;case xi.open:return Zi.Open;case xi.closing:return Zi.Closing;default:return Zi.Closed}}isConnected(){return this.connectionState()===Zi.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(t,s={config:{}}){const r=`realtime:${t}`,o=this.getChannels().find(c=>c.topic===r);if(o)return o;{const c=new Qs(`realtime:${t}`,s,this);return this.channels.push(c),c}}push(t){const{topic:s,event:r,payload:o,ref:c}=t,d=()=>{this.encode(t,m=>{var p;(p=this.conn)===null||p===void 0||p.send(m)})};this.log("push",`${s} ${r} (${c})`,o),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(t=null){this._authPromise=this._performAuth(t);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var t;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(t=this.conn)===null||t===void 0||t.close(U1,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},io.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(t){this.heartbeatCallback=t}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let s=this.channels.find(r=>r.topic===t&&(r._isJoined()||r._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${t}"`),s.unsubscribe())}_remove(t){this.channels=this.channels.filter(s=>s.topic!==t.topic)}_onConnMessage(t){this.decode(t.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const g=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",g)}catch(v){this.log("error","error in heartbeat callback",v)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:r,event:o,payload:c,ref:d}=s,m=d?`(${d})`:"",p=c.status||"";this.log("receive",`${p} ${r} ${o} ${m}`.trim(),c),this.channels.filter(g=>g._isMember(r)).forEach(g=>g._trigger(o,c,d)),this._triggerStateCallbacks("message",s)})}_clearTimer(t){var s;t==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):t==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t),this.conn.readyState===xi.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===xi.open||this.conn.readyState===xi.connecting)try{this.conn.close()}catch(t){this.log("error","Error closing connection",t)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(t=>t.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(t){var s;this._setConnectionState("disconnected"),this.log("transport","close",t),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",t)}_onConnError(t){this._setConnectionState("disconnected"),this.log("transport",`${t}`),this._triggerChanError(),this._triggerStateCallbacks("error",t);try{this.heartbeatCallback("error")}catch(s){this.log("error","error in heartbeat callback",s)}}_triggerChanError(){this.channels.forEach(t=>t._trigger(mn.error))}_appendParams(t,s){if(Object.keys(s).length===0)return t;const r=t.match(/\?/)?"&":"?",o=new URLSearchParams(s);return`${t}${r}${o}`}_workerObjectUrl(t){let s;if(t)s=t;else{const r=new Blob([K1],{type:"application/javascript"});s=URL.createObjectURL(r)}return s}_setConnectionState(t,s=!1){this._connectionState=t,t==="connecting"?this._wasManualDisconnect=!1:t==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(t=null){let s,r=!1;if(t)s=t,r=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(o){this.log("error","Error fetching access token from callback",o),s=this.accessTokenValue}else s=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(o=>{const c={access_token:s,version:D1};s&&o.updateJoinPayload(c),o.joinedOnce&&o._isJoined()&&o._push(mn.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(t="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${t}`,s)})}_triggerStateCallbacks(t,s){try{this.stateChangeCallbacks[t].forEach(r=>{try{r(s)}catch(o){this.log("error",`error in ${t} callback`,o)}})}catch(r){this.log("error",`error triggering ${t} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new ev(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},io.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(t){var s,r,o,c,d,m,p,g,v,b,x,S;switch(this.transport=(s=t==null?void 0:t.transport)!==null&&s!==void 0?s:null,this.timeout=(r=t==null?void 0:t.timeout)!==null&&r!==void 0?r:Rd,this.heartbeatIntervalMs=(o=t==null?void 0:t.heartbeatIntervalMs)!==null&&o!==void 0?o:io.HEARTBEAT_INTERVAL,this.worker=(c=t==null?void 0:t.worker)!==null&&c!==void 0?c:!1,this.accessToken=(d=t==null?void 0:t.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(m=t==null?void 0:t.heartbeatCallback)!==null&&m!==void 0?m:cd,this.vsn=(p=t==null?void 0:t.vsn)!==null&&p!==void 0?p:rg,t!=null&&t.params&&(this.params=t.params),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(g=t==null?void 0:t.reconnectAfterMs)!==null&&g!==void 0?g:(w=>I1[w-1]||Y1),this.vsn){case M1:this.encode=(v=t==null?void 0:t.encode)!==null&&v!==void 0?v:((w,T)=>T(JSON.stringify(w))),this.decode=(b=t==null?void 0:t.decode)!==null&&b!==void 0?b:((w,T)=>T(JSON.parse(w)));break;case Wy:this.encode=(x=t==null?void 0:t.encode)!==null&&x!==void 0?x:this.serializer.encode.bind(this.serializer),this.decode=(S=t==null?void 0:t.decode)!==null&&S!==void 0?S:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=t==null?void 0:t.workerUrl}}}var Sr=class extends Error{constructor(i,t){var s;super(i),this.name="IcebergError",this.status=t.status,this.icebergType=t.icebergType,this.icebergCode=t.icebergCode,this.details=t.details,this.isCommitStateUnknown=t.icebergType==="CommitStateUnknownException"||[500,502,504].includes(t.status)&&((s=t.icebergType)==null?void 0:s.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function X1(i,t,s){const r=new URL(t,i);if(s)for(const[o,c]of Object.entries(s))c!==void 0&&r.searchParams.set(o,c);return r.toString()}async function Z1(i){return!i||i.type==="none"?{}:i.type==="bearer"?{Authorization:`Bearer ${i.token}`}:i.type==="header"?{[i.name]:i.value}:i.type==="custom"?await i.getHeaders():{}}function Q1(i){const t=i.fetchImpl??globalThis.fetch;return{async request({method:s,path:r,query:o,body:c,headers:d}){const m=X1(i.baseUrl,r,o),p=await Z1(i.auth),g=await t(m,{method:s,headers:{...c?{"Content-Type":"application/json"}:{},...p,...d},body:c?JSON.stringify(c):void 0}),v=await g.text(),b=(g.headers.get("content-type")||"").includes("application/json"),x=b&&v?JSON.parse(v):v;if(!g.ok){const S=b?x:void 0,w=S==null?void 0:S.error;throw new Sr((w==null?void 0:w.message)??`Request failed with status ${g.status}`,{status:g.status,icebergType:w==null?void 0:w.type,icebergCode:w==null?void 0:w.code,details:S})}return{status:g.status,headers:g.headers,data:x}}}}function so(i){return i.join("")}var J1=class{constructor(i,t=""){this.client=i,this.prefix=t}async listNamespaces(i){const t=i?{parent:so(i.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:t})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(i,t){const s={namespace:i.namespace,properties:t==null?void 0:t.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(i){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${so(i.namespace)}`})}async loadNamespaceMetadata(i){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${so(i.namespace)}`})).data.properties}}async namespaceExists(i){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${so(i.namespace)}`}),!0}catch(t){if(t instanceof Sr&&t.status===404)return!1;throw t}}async createNamespaceIfNotExists(i,t){try{return await this.createNamespace(i,t)}catch(s){if(s instanceof Sr&&s.status===409)return;throw s}}};function $s(i){return i.join("")}var W1=class{constructor(i,t="",s){this.client=i,this.prefix=t,this.accessDelegation=s}async listTables(i){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$s(i.namespace)}/tables`})).data.identifiers}async createTable(i,t){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${$s(i.namespace)}/tables`,body:t,headers:s})).data.metadata}async updateTable(i,t){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${$s(i.namespace)}/tables/${i.name}`,body:t});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(i,t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${$s(i.namespace)}/tables/${i.name}`,query:{purgeRequested:String((t==null?void 0:t.purge)??!1)}})}async loadTable(i){const t={};return this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${$s(i.namespace)}/tables/${i.name}`,headers:t})).data.metadata}async tableExists(i){const t={};this.accessDelegation&&(t["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${$s(i.namespace)}/tables/${i.name}`,headers:t}),!0}catch(s){if(s instanceof Sr&&s.status===404)return!1;throw s}}async createTableIfNotExists(i,t){try{return await this.createTable(i,t)}catch(s){if(s instanceof Sr&&s.status===409)return await this.loadTable({namespace:i.namespace,name:t.name});throw s}}},eS=class{constructor(i){var r;let t="v1";i.catalogName&&(t+=`/${i.catalogName}`);const s=i.baseUrl.endsWith("/")?i.baseUrl:`${i.baseUrl}/`;this.client=Q1({baseUrl:s,auth:i.auth,fetchImpl:i.fetch}),this.accessDelegation=(r=i.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new J1(this.client,t),this.tableOps=new W1(this.client,t,this.accessDelegation)}async listNamespaces(i){return this.namespaceOps.listNamespaces(i)}async createNamespace(i,t){return this.namespaceOps.createNamespace(i,t)}async dropNamespace(i){await this.namespaceOps.dropNamespace(i)}async loadNamespaceMetadata(i){return this.namespaceOps.loadNamespaceMetadata(i)}async listTables(i){return this.tableOps.listTables(i)}async createTable(i,t){return this.tableOps.createTable(i,t)}async updateTable(i,t){return this.tableOps.updateTable(i,t)}async dropTable(i,t){await this.tableOps.dropTable(i,t)}async loadTable(i){return this.tableOps.loadTable(i)}async namespaceExists(i){return this.namespaceOps.namespaceExists(i)}async tableExists(i){return this.tableOps.tableExists(i)}async createNamespaceIfNotExists(i,t){return this.namespaceOps.createNamespaceIfNotExists(i,t)}async createTableIfNotExists(i,t){return this.tableOps.createTableIfNotExists(i,t)}},Do=class extends Error{constructor(i,t="storage",s,r){super(i),this.__isStorageError=!0,this.namespace=t,this.name=t==="vectors"?"StorageVectorsError":"StorageError",this.status=s,this.statusCode=r}};function Mo(i){return typeof i=="object"&&i!==null&&"__isStorageError"in i}var ao=class extends Do{constructor(i,t,s,r="storage"){super(i,r,t,s),this.name=r==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=t,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},iv=class extends Do{constructor(i,t,s="storage"){super(i,s),this.name=s==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=t}};const tS=i=>i?(...t)=>i(...t):(...t)=>fetch(...t),nS=i=>{if(typeof i!="object"||i===null)return!1;const t=Object.getPrototypeOf(i);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in i)&&!(Symbol.iterator in i)},Dd=i=>{if(Array.isArray(i))return i.map(s=>Dd(s));if(typeof i=="function"||i!==Object(i))return i;const t={};return Object.entries(i).forEach(([s,r])=>{const o=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));t[o]=Dd(r)}),t},iS=i=>!i||typeof i!="string"||i.length===0||i.length>100||i.trim()!==i||i.includes("/")||i.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(i);function Tr(i){"@babel/helpers - typeof";return Tr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Tr(i)}function sS(i,t){if(Tr(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var r=s.call(i,t);if(Tr(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function aS(i){var t=sS(i,"string");return Tr(t)=="symbol"?t:t+""}function rS(i,t,s){return(t=aS(t))in i?Object.defineProperty(i,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[t]=s,i}function ug(i,t){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),s.push.apply(s,r)}return s}function he(i){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?ug(Object(s),!0).forEach(function(r){rS(i,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):ug(Object(s)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(s,r))})}return i}const dg=i=>{var t;return i.msg||i.message||i.error_description||(typeof i.error=="string"?i.error:(t=i.error)===null||t===void 0?void 0:t.message)||JSON.stringify(i)},lS=async(i,t,s,r)=>{if(i&&typeof i=="object"&&"status"in i&&"ok"in i&&typeof i.status=="number"&&!(s!=null&&s.noResolveJson)){const o=i,c=o.status||500;if(typeof o.json=="function")o.json().then(d=>{const m=(d==null?void 0:d.statusCode)||(d==null?void 0:d.code)||c+"";t(new ao(dg(d),c,m,r))}).catch(()=>{if(r==="vectors"){const d=c+"";t(new ao(o.statusText||`HTTP ${c} error`,c,d,r))}else{const d=c+"";t(new ao(o.statusText||`HTTP ${c} error`,c,d,r))}});else{const d=c+"";t(new ao(o.statusText||`HTTP ${c} error`,c,d,r))}}else t(new iv(dg(i),i,r))},oS=(i,t,s,r)=>{const o={method:i,headers:(t==null?void 0:t.headers)||{}};return i==="GET"||i==="HEAD"||!r?he(he({},o),s):(nS(r)?(o.headers=he({"Content-Type":"application/json"},t==null?void 0:t.headers),o.body=JSON.stringify(r)):o.body=r,t!=null&&t.duplex&&(o.duplex=t.duplex),he(he({},o),s))};async function cr(i,t,s,r,o,c,d){return new Promise((m,p)=>{i(s,oS(t,r,o,c)).then(g=>{if(!g.ok)throw g;if(r!=null&&r.noResolveJson)return g;if(d==="vectors"){const v=g.headers.get("content-type");if(g.headers.get("content-length")==="0"||g.status===204)return{};if(!v||!v.includes("application/json"))return{}}return g.json()}).then(g=>m(g)).catch(g=>lS(g,p,r,d))})}function sv(i="storage"){return{get:async(t,s,r,o)=>cr(t,"GET",s,r,o,void 0,i),post:async(t,s,r,o,c)=>cr(t,"POST",s,o,c,r,i),put:async(t,s,r,o,c)=>cr(t,"PUT",s,o,c,r,i),head:async(t,s,r,o)=>cr(t,"HEAD",s,he(he({},r),{},{noResolveJson:!0}),o,void 0,i),remove:async(t,s,r,o,c)=>cr(t,"DELETE",s,o,c,r,i)}}const cS=sv("storage"),{get:jr,post:fn,put:Md,head:uS,remove:oh}=cS,It=sv("vectors");var ua=class{constructor(i,t={},s,r="storage"){this.shouldThrowOnError=!1,this.url=i,this.headers=t,this.fetch=tS(s),this.namespace=r}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,t){return this.headers=he(he({},this.headers),{},{[i]:t}),this}async handleOperation(i){var t=this;try{return{data:await i(),error:null}}catch(s){if(t.shouldThrowOnError)throw s;if(Mo(s))return{data:null,error:s};throw s}}},dS=class{constructor(i,t){this.downloadFn=i,this.shouldThrowOnError=t}then(i,t){return this.execute().then(i,t)}async execute(){var i=this;try{return{data:(await i.downloadFn()).body,error:null}}catch(t){if(i.shouldThrowOnError)throw t;if(Mo(t))return{data:null,error:t};throw t}}};let av;av=Symbol.toStringTag;var hS=class{constructor(i,t){this.downloadFn=i,this.shouldThrowOnError=t,this[av]="BlobDownloadBuilder",this.promise=null}asStream(){return new dS(this.downloadFn,this.shouldThrowOnError)}then(i,t){return this.getPromise().then(i,t)}catch(i){return this.getPromise().catch(i)}finally(i){return this.getPromise().finally(i)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var i=this;try{return{data:await(await i.downloadFn()).blob(),error:null}}catch(t){if(i.shouldThrowOnError)throw t;if(Mo(t))return{data:null,error:t};throw t}}};const fS={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},hg={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var mS=class extends ua{constructor(i,t={},s,r){super(i,t,r,"storage"),this.bucketId=s}async uploadOrUpdate(i,t,s,r){var o=this;return o.handleOperation(async()=>{let c;const d=he(he({},hg),r);let m=he(he({},o.headers),i==="POST"&&{"x-upsert":String(d.upsert)});const p=d.metadata;typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),p&&c.append("metadata",o.encodeMetadata(p)),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.has("cacheControl")||c.append("cacheControl",d.cacheControl),p&&!c.has("metadata")&&c.append("metadata",o.encodeMetadata(p))):(c=s,m["cache-control"]=`max-age=${d.cacheControl}`,m["content-type"]=d.contentType,p&&(m["x-metadata"]=o.toBase64(o.encodeMetadata(p))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!d.duplex&&(d.duplex="half")),r!=null&&r.headers&&(m=he(he({},m),r.headers));const g=o._removeEmptyFolders(t),v=o._getFinalPath(g),b=await(i=="PUT"?Md:fn)(o.fetch,`${o.url}/object/${v}`,c,he({headers:m},d!=null&&d.duplex?{duplex:d.duplex}:{}));return{path:g,id:b.Id,fullPath:b.Key}})}async upload(i,t,s){return this.uploadOrUpdate("POST",i,t,s)}async uploadToSignedUrl(i,t,s,r){var o=this;const c=o._removeEmptyFolders(i),d=o._getFinalPath(c),m=new URL(o.url+`/object/upload/sign/${d}`);return m.searchParams.set("token",t),o.handleOperation(async()=>{let p;const g=he({upsert:hg.upsert},r),v=he(he({},o.headers),{"x-upsert":String(g.upsert)});return typeof Blob<"u"&&s instanceof Blob?(p=new FormData,p.append("cacheControl",g.cacheControl),p.append("",s)):typeof FormData<"u"&&s instanceof FormData?(p=s,p.append("cacheControl",g.cacheControl)):(p=s,v["cache-control"]=`max-age=${g.cacheControl}`,v["content-type"]=g.contentType),{path:c,fullPath:(await Md(o.fetch,m.toString(),p,{headers:v})).Key}})}async createSignedUploadUrl(i,t){var s=this;return s.handleOperation(async()=>{let r=s._getFinalPath(i);const o=he({},s.headers);t!=null&&t.upsert&&(o["x-upsert"]="true");const c=await fn(s.fetch,`${s.url}/object/upload/sign/${r}`,{},{headers:o}),d=new URL(s.url+c.url),m=d.searchParams.get("token");if(!m)throw new Do("No token returned by API");return{signedUrl:d.toString(),path:i,token:m}})}async update(i,t,s){return this.uploadOrUpdate("PUT",i,t,s)}async move(i,t,s){var r=this;return r.handleOperation(async()=>await fn(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:i,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:r.headers}))}async copy(i,t,s){var r=this;return r.handleOperation(async()=>({path:(await fn(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:i,destinationKey:t,destinationBucket:s==null?void 0:s.destinationBucket},{headers:r.headers})).Key}))}async createSignedUrl(i,t,s){var r=this;return r.handleOperation(async()=>{let o=r._getFinalPath(i),c=await fn(r.fetch,`${r.url}/object/sign/${o}`,he({expiresIn:t},s!=null&&s.transform?{transform:s.transform}:{}),{headers:r.headers});const d=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return{signedUrl:encodeURI(`${r.url}${c.signedURL}${d}`)}})}async createSignedUrls(i,t,s){var r=this;return r.handleOperation(async()=>{const o=await fn(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:t,paths:i},{headers:r.headers}),c=s!=null&&s.download?`&download=${s.download===!0?"":s.download}`:"";return o.map(d=>he(he({},d),{},{signedUrl:d.signedURL?encodeURI(`${r.url}${d.signedURL}${c}`):null}))})}download(i,t,s){const r=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",o=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),c=o?`?${o}`:"",d=this._getFinalPath(i),m=()=>jr(this.fetch,`${this.url}/${r}/${d}${c}`,{headers:this.headers,noResolveJson:!0},s);return new hS(m,this.shouldThrowOnError)}async info(i){var t=this;const s=t._getFinalPath(i);return t.handleOperation(async()=>Dd(await jr(t.fetch,`${t.url}/object/info/${s}`,{headers:t.headers})))}async exists(i){var t=this;const s=t._getFinalPath(i);try{return await uS(t.fetch,`${t.url}/object/${s}`,{headers:t.headers}),{data:!0,error:null}}catch(r){if(t.shouldThrowOnError)throw r;if(Mo(r)&&r instanceof iv){const o=r.originalError;if([400,404].includes(o==null?void 0:o.status))return{data:!1,error:r}}throw r}}getPublicUrl(i,t){const s=this._getFinalPath(i),r=[],o=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";o!==""&&r.push(o);const c=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",d=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});d!==""&&r.push(d);let m=r.join("&");return m!==""&&(m=`?${m}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${s}${m}`)}}}async remove(i){var t=this;return t.handleOperation(async()=>await oh(t.fetch,`${t.url}/object/${t.bucketId}`,{prefixes:i},{headers:t.headers}))}async list(i,t,s){var r=this;return r.handleOperation(async()=>{const o=he(he(he({},fS),t),{},{prefix:i||""});return await fn(r.fetch,`${r.url}/object/list/${r.bucketId}`,o,{headers:r.headers},s)})}async listV2(i,t){var s=this;return s.handleOperation(async()=>{const r=he({},i);return await fn(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,r,{headers:s.headers},t)})}encodeMetadata(i){return JSON.stringify(i)}toBase64(i){return typeof Buffer<"u"?Buffer.from(i).toString("base64"):btoa(i)}_getFinalPath(i){return`${this.bucketId}/${i.replace(/^\/+/,"")}`}_removeEmptyFolders(i){return i.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(i){const t=[];return i.width&&t.push(`width=${i.width}`),i.height&&t.push(`height=${i.height}`),i.resize&&t.push(`resize=${i.resize}`),i.format&&t.push(`format=${i.format}`),i.quality&&t.push(`quality=${i.quality}`),t.join("&")}};const pS="2.97.0",Dr={"X-Client-Info":`storage-js/${pS}`};var gS=class extends ua{constructor(i,t={},s,r){const o=new URL(i);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(o.hostname)&&!o.hostname.includes("storage.supabase.")&&(o.hostname=o.hostname.replace("supabase.","storage.supabase."));const c=o.href.replace(/\/$/,""),d=he(he({},Dr),t);super(c,d,s,"storage")}async listBuckets(i){var t=this;return t.handleOperation(async()=>{const s=t.listBucketOptionsToQueryString(i);return await jr(t.fetch,`${t.url}/bucket${s}`,{headers:t.headers})})}async getBucket(i){var t=this;return t.handleOperation(async()=>await jr(t.fetch,`${t.url}/bucket/${i}`,{headers:t.headers}))}async createBucket(i,t={public:!1}){var s=this;return s.handleOperation(async()=>await fn(s.fetch,`${s.url}/bucket`,{id:i,name:i,type:t.type,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}))}async updateBucket(i,t){var s=this;return s.handleOperation(async()=>await Md(s.fetch,`${s.url}/bucket/${i}`,{id:i,name:i,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:s.headers}))}async emptyBucket(i){var t=this;return t.handleOperation(async()=>await fn(t.fetch,`${t.url}/bucket/${i}/empty`,{},{headers:t.headers}))}async deleteBucket(i){var t=this;return t.handleOperation(async()=>await oh(t.fetch,`${t.url}/bucket/${i}`,{},{headers:t.headers}))}listBucketOptionsToQueryString(i){const t={};return i&&("limit"in i&&(t.limit=String(i.limit)),"offset"in i&&(t.offset=String(i.offset)),i.search&&(t.search=i.search),i.sortColumn&&(t.sortColumn=i.sortColumn),i.sortOrder&&(t.sortOrder=i.sortOrder)),Object.keys(t).length>0?"?"+new URLSearchParams(t).toString():""}},yS=class extends ua{constructor(i,t={},s){const r=i.replace(/\/$/,""),o=he(he({},Dr),t);super(r,o,s,"storage")}async createBucket(i){var t=this;return t.handleOperation(async()=>await fn(t.fetch,`${t.url}/bucket`,{name:i},{headers:t.headers}))}async listBuckets(i){var t=this;return t.handleOperation(async()=>{const s=new URLSearchParams;(i==null?void 0:i.limit)!==void 0&&s.set("limit",i.limit.toString()),(i==null?void 0:i.offset)!==void 0&&s.set("offset",i.offset.toString()),i!=null&&i.sortColumn&&s.set("sortColumn",i.sortColumn),i!=null&&i.sortOrder&&s.set("sortOrder",i.sortOrder),i!=null&&i.search&&s.set("search",i.search);const r=s.toString(),o=r?`${t.url}/bucket?${r}`:`${t.url}/bucket`;return await jr(t.fetch,o,{headers:t.headers})})}async deleteBucket(i){var t=this;return t.handleOperation(async()=>await oh(t.fetch,`${t.url}/bucket/${i}`,{},{headers:t.headers}))}from(i){var t=this;if(!iS(i))throw new Do("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new eS({baseUrl:this.url,catalogName:i,auth:{type:"custom",getHeaders:async()=>t.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(s,{get(o,c){const d=o[c];return typeof d!="function"?d:async(...m)=>{try{return{data:await d.apply(o,m),error:null}}catch(p){if(r)throw p;return{data:null,error:p}}}}})}},vS=class extends ua{constructor(i,t={},s){const r=i.replace(/\/$/,""),o=he(he({},Dr),{},{"Content-Type":"application/json"},t);super(r,o,s,"vectors")}async createIndex(i){var t=this;return t.handleOperation(async()=>await It.post(t.fetch,`${t.url}/CreateIndex`,i,{headers:t.headers})||{})}async getIndex(i,t){var s=this;return s.handleOperation(async()=>await It.post(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:i,indexName:t},{headers:s.headers}))}async listIndexes(i){var t=this;return t.handleOperation(async()=>await It.post(t.fetch,`${t.url}/ListIndexes`,i,{headers:t.headers}))}async deleteIndex(i,t){var s=this;return s.handleOperation(async()=>await It.post(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:i,indexName:t},{headers:s.headers})||{})}},bS=class extends ua{constructor(i,t={},s){const r=i.replace(/\/$/,""),o=he(he({},Dr),{},{"Content-Type":"application/json"},t);super(r,o,s,"vectors")}async putVectors(i){var t=this;if(i.vectors.length<1||i.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return t.handleOperation(async()=>await It.post(t.fetch,`${t.url}/PutVectors`,i,{headers:t.headers})||{})}async getVectors(i){var t=this;return t.handleOperation(async()=>await It.post(t.fetch,`${t.url}/GetVectors`,i,{headers:t.headers}))}async listVectors(i){var t=this;if(i.segmentCount!==void 0){if(i.segmentCount<1||i.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(i.segmentIndex!==void 0&&(i.segmentIndex<0||i.segmentIndex>=i.segmentCount))throw new Error(`segmentIndex must be between 0 and ${i.segmentCount-1}`)}return t.handleOperation(async()=>await It.post(t.fetch,`${t.url}/ListVectors`,i,{headers:t.headers}))}async queryVectors(i){var t=this;return t.handleOperation(async()=>await It.post(t.fetch,`${t.url}/QueryVectors`,i,{headers:t.headers}))}async deleteVectors(i){var t=this;if(i.keys.length<1||i.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return t.handleOperation(async()=>await It.post(t.fetch,`${t.url}/DeleteVectors`,i,{headers:t.headers})||{})}},xS=class extends ua{constructor(i,t={},s){const r=i.replace(/\/$/,""),o=he(he({},Dr),{},{"Content-Type":"application/json"},t);super(r,o,s,"vectors")}async createBucket(i){var t=this;return t.handleOperation(async()=>await It.post(t.fetch,`${t.url}/CreateVectorBucket`,{vectorBucketName:i},{headers:t.headers})||{})}async getBucket(i){var t=this;return t.handleOperation(async()=>await It.post(t.fetch,`${t.url}/GetVectorBucket`,{vectorBucketName:i},{headers:t.headers}))}async listBuckets(i={}){var t=this;return t.handleOperation(async()=>await It.post(t.fetch,`${t.url}/ListVectorBuckets`,i,{headers:t.headers}))}async deleteBucket(i){var t=this;return t.handleOperation(async()=>await It.post(t.fetch,`${t.url}/DeleteVectorBucket`,{vectorBucketName:i},{headers:t.headers})||{})}},wS=class extends xS{constructor(i,t={}){super(i,t.headers||{},t.fetch)}from(i){return new _S(this.url,this.headers,i,this.fetch)}async createBucket(i){var t=()=>super.createBucket,s=this;return t().call(s,i)}async getBucket(i){var t=()=>super.getBucket,s=this;return t().call(s,i)}async listBuckets(i={}){var t=()=>super.listBuckets,s=this;return t().call(s,i)}async deleteBucket(i){var t=()=>super.deleteBucket,s=this;return t().call(s,i)}},_S=class extends vS{constructor(i,t,s,r){super(i,t,r),this.vectorBucketName=s}async createIndex(i){var t=()=>super.createIndex,s=this;return t().call(s,he(he({},i),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(i={}){var t=()=>super.listIndexes,s=this;return t().call(s,he(he({},i),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(i){var t=()=>super.getIndex,s=this;return t().call(s,s.vectorBucketName,i)}async deleteIndex(i){var t=()=>super.deleteIndex,s=this;return t().call(s,s.vectorBucketName,i)}index(i){return new SS(this.url,this.headers,this.vectorBucketName,i,this.fetch)}},SS=class extends bS{constructor(i,t,s,r,o){super(i,t,o),this.vectorBucketName=s,this.indexName=r}async putVectors(i){var t=()=>super.putVectors,s=this;return t().call(s,he(he({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(i){var t=()=>super.getVectors,s=this;return t().call(s,he(he({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(i={}){var t=()=>super.listVectors,s=this;return t().call(s,he(he({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(i){var t=()=>super.queryVectors,s=this;return t().call(s,he(he({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(i){var t=()=>super.deleteVectors,s=this;return t().call(s,he(he({},i),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},TS=class extends gS{constructor(i,t={},s,r){super(i,t,s,r)}from(i){return new mS(this.url,this.headers,i,this.fetch)}get vectors(){return new wS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new yS(this.url+"/iceberg",this.headers,this.fetch)}};const rv="2.97.0",Xs=30*1e3,Ud=3,ud=Ud*Xs,jS="http://localhost:9999",NS="supabase.auth.token",ES={"X-Client-Info":`gotrue-js/${rv}`},Ld="X-Supabase-Api-Version",lv={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},AS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,CS=600*1e3;class Nr extends Error{constructor(t,s,r){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=r}}function re(i){return typeof i=="object"&&i!==null&&"__isAuthError"in i}class OS extends Nr{constructor(t,s,r){super(t,s,r),this.name="AuthApiError",this.status=s,this.code=r}}function RS(i){return re(i)&&i.name==="AuthApiError"}class Qi extends Nr{constructor(t,s){super(t),this.name="AuthUnknownError",this.originalError=s}}class Yn extends Nr{constructor(t,s,r,o){super(t,r,o),this.name=s,this.status=r}}class Gt extends Yn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function dd(i){return re(i)&&i.name==="AuthSessionMissingError"}class Hs extends Yn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ro extends Yn{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}}class lo extends Yn{constructor(t,s=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function zS(i){return re(i)&&i.name==="AuthImplicitGrantRedirectError"}class fg extends Yn{constructor(t,s=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class kS extends Yn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Bd extends Yn{constructor(t,s){super(t,"AuthRetryableFetchError",s,void 0)}}function hd(i){return re(i)&&i.name==="AuthRetryableFetchError"}class mg extends Yn{constructor(t,s,r){super(t,"AuthWeakPasswordError",s,"weak_password"),this.reasons=r}}class Vd extends Yn{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}}const _o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),pg=` 	
\r=`.split(""),DS=(()=>{const i=new Array(128);for(let t=0;t<i.length;t+=1)i[t]=-1;for(let t=0;t<pg.length;t+=1)i[pg[t].charCodeAt(0)]=-2;for(let t=0;t<_o.length;t+=1)i[_o[t].charCodeAt(0)]=t;return i})();function gg(i,t,s){if(i!==null)for(t.queue=t.queue<<8|i,t.queuedBits+=8;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;s(_o[r]),t.queuedBits-=6}else if(t.queuedBits>0)for(t.queue=t.queue<<6-t.queuedBits,t.queuedBits=6;t.queuedBits>=6;){const r=t.queue>>t.queuedBits-6&63;s(_o[r]),t.queuedBits-=6}}function ov(i,t,s){const r=DS[i];if(r>-1)for(t.queue=t.queue<<6|r,t.queuedBits+=6;t.queuedBits>=8;)s(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(i)}"`)}}function yg(i){const t=[],s=d=>{t.push(String.fromCodePoint(d))},r={utf8seq:0,codepoint:0},o={queue:0,queuedBits:0},c=d=>{LS(d,r,s)};for(let d=0;d<i.length;d+=1)ov(i.charCodeAt(d),o,c);return t.join("")}function MS(i,t){if(i<=127){t(i);return}else if(i<=2047){t(192|i>>6),t(128|i&63);return}else if(i<=65535){t(224|i>>12),t(128|i>>6&63),t(128|i&63);return}else if(i<=1114111){t(240|i>>18),t(128|i>>12&63),t(128|i>>6&63),t(128|i&63);return}throw new Error(`Unrecognized Unicode codepoint: ${i.toString(16)}`)}function US(i,t){for(let s=0;s<i.length;s+=1){let r=i.charCodeAt(s);if(r>55295&&r<=56319){const o=(r-55296)*1024&65535;r=(i.charCodeAt(s+1)-56320&65535|o)+65536,s+=1}MS(r,t)}}function LS(i,t,s){if(t.utf8seq===0){if(i<=127){s(i);return}for(let r=1;r<6;r+=1)if((i>>7-r&1)===0){t.utf8seq=r;break}if(t.utf8seq===2)t.codepoint=i&31;else if(t.utf8seq===3)t.codepoint=i&15;else if(t.utf8seq===4)t.codepoint=i&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(i<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|i&63,t.utf8seq-=1,t.utf8seq===0&&s(t.codepoint)}}function sa(i){const t=[],s={queue:0,queuedBits:0},r=o=>{t.push(o)};for(let o=0;o<i.length;o+=1)ov(i.charCodeAt(o),s,r);return new Uint8Array(t)}function BS(i){const t=[];return US(i,s=>t.push(s)),new Uint8Array(t)}function Ji(i){const t=[],s={queue:0,queuedBits:0},r=o=>{t.push(o)};return i.forEach(o=>gg(o,s,r)),gg(null,s,r),t.join("")}function VS(i){return Math.round(Date.now()/1e3)+i}function PS(){return Symbol("auth-callback")}const vt=()=>typeof window<"u"&&typeof document<"u",Gi={tested:!1,writable:!1},cv=()=>{if(!vt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gi.tested)return Gi.writable;const i=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(i,i),globalThis.localStorage.removeItem(i),Gi.tested=!0,Gi.writable=!0}catch{Gi.tested=!0,Gi.writable=!1}return Gi.writable};function qS(i){const t={},s=new URL(i);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((o,c)=>{t[c]=o})}catch{}return s.searchParams.forEach((r,o)=>{t[o]=r}),t}const uv=i=>i?(...t)=>i(...t):(...t)=>fetch(...t),$S=i=>typeof i=="object"&&i!==null&&"status"in i&&"ok"in i&&"json"in i&&typeof i.json=="function",Zs=async(i,t,s)=>{await i.setItem(t,JSON.stringify(s))},Ii=async(i,t)=>{const s=await i.getItem(t);if(!s)return null;try{return JSON.parse(s)}catch{return s}},yt=async(i,t)=>{await i.removeItem(t)};class Uo{constructor(){this.promise=new Uo.promiseConstructor((t,s)=>{this.resolve=t,this.reject=s})}}Uo.promiseConstructor=Promise;function oo(i){const t=i.split(".");if(t.length!==3)throw new Vd("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!AS.test(t[r]))throw new Vd("JWT not in base64url format");return{header:JSON.parse(yg(t[0])),payload:JSON.parse(yg(t[1])),signature:sa(t[2]),raw:{header:t[0],payload:t[1]}}}async function HS(i){return await new Promise(t=>{setTimeout(()=>t(null),i)})}function GS(i,t){return new Promise((r,o)=>{(async()=>{for(let c=0;c<1/0;c++)try{const d=await i(c);if(!t(c,null,d)){r(d);return}}catch(d){if(!t(c,d)){o(d);return}}})()})}function IS(i){return("0"+i.toString(16)).substr(-2)}function YS(){const t=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=s.length;let o="";for(let c=0;c<56;c++)o+=s.charAt(Math.floor(Math.random()*r));return o}return crypto.getRandomValues(t),Array.from(t,IS).join("")}async function KS(i){const s=new TextEncoder().encode(i),r=await crypto.subtle.digest("SHA-256",s),o=new Uint8Array(r);return Array.from(o).map(c=>String.fromCharCode(c)).join("")}async function FS(i){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),i;const s=await KS(i);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Gs(i,t,s=!1){const r=YS();let o=r;s&&(o+="/PASSWORD_RECOVERY"),await Zs(i,`${t}-code-verifier`,o);const c=await FS(r);return[c,r===c?"plain":"s256"]}const XS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function ZS(i){const t=i.headers.get(Ld);if(!t||!t.match(XS))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function QS(i){if(!i)throw new Error("Missing exp claim");const t=Math.floor(Date.now()/1e3);if(i<=t)throw new Error("JWT has expired")}function JS(i){switch(i){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const WS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Is(i){if(!WS.test(i))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function fd(){const i={};return new Proxy(i,{get:(t,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const r=s.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(t,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function eT(i,t){return new Proxy(i,{get:(s,r,o)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const c=r.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,r,o)}return!t.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t.value=!0),Reflect.get(s,r,o)}})}function vg(i){return JSON.parse(JSON.stringify(i))}const Ki=i=>i.msg||i.message||i.error_description||i.error||JSON.stringify(i),tT=[502,503,504];async function bg(i){var t;if(!$S(i))throw new Bd(Ki(i),0);if(tT.includes(i.status))throw new Bd(Ki(i),i.status);let s;try{s=await i.json()}catch(c){throw new Qi(Ki(c),c)}let r;const o=ZS(i);if(o&&o.getTime()>=lv["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?r=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(r=s.error_code),r){if(r==="weak_password")throw new mg(Ki(s),i.status,((t=s.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(r==="session_not_found")throw new Gt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,d)=>c&&typeof d=="string",!0))throw new mg(Ki(s),i.status,s.weak_password.reasons);throw new OS(Ki(s),i.status||500,r)}const nT=(i,t,s,r)=>{const o={method:i,headers:(t==null?void 0:t.headers)||{}};return i==="GET"?o:(o.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t==null?void 0:t.headers),o.body=JSON.stringify(r),Object.assign(Object.assign({},o),s))};async function fe(i,t,s,r){var o;const c=Object.assign({},r==null?void 0:r.headers);c[Ld]||(c[Ld]=lv["2024-01-01"].name),r!=null&&r.jwt&&(c.Authorization=`Bearer ${r.jwt}`);const d=(o=r==null?void 0:r.query)!==null&&o!==void 0?o:{};r!=null&&r.redirectTo&&(d.redirect_to=r.redirectTo);const m=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",p=await iT(i,t,s+m,{headers:c,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(p):{data:Object.assign({},p),error:null}}async function iT(i,t,s,r,o,c){const d=nT(t,r,o,c);let m;try{m=await i(s,Object.assign({},d))}catch(p){throw console.error(p),new Bd(Ki(p),0)}if(m.ok||await bg(m),r!=null&&r.noResolveJson)return m;try{return await m.json()}catch(p){await bg(p)}}function dn(i){var t;let s=null;rT(i)&&(s=Object.assign({},i),i.expires_at||(s.expires_at=VS(i.expires_in)));const r=(t=i.user)!==null&&t!==void 0?t:i;return{data:{session:s,user:r},error:null}}function xg(i){const t=dn(i);return!t.error&&i.weak_password&&typeof i.weak_password=="object"&&Array.isArray(i.weak_password.reasons)&&i.weak_password.reasons.length&&i.weak_password.message&&typeof i.weak_password.message=="string"&&i.weak_password.reasons.reduce((s,r)=>s&&typeof r=="string",!0)&&(t.data.weak_password=i.weak_password),t}function wi(i){var t;return{data:{user:(t=i.user)!==null&&t!==void 0?t:i},error:null}}function sT(i){return{data:i,error:null}}function aT(i){const{action_link:t,email_otp:s,hashed_token:r,redirect_to:o,verification_type:c}=i,d=ko(i,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),m={action_link:t,email_otp:s,hashed_token:r,redirect_to:o,verification_type:c},p=Object.assign({},d);return{data:{properties:m,user:p},error:null}}function wg(i){return i}function rT(i){return i.access_token&&i.refresh_token&&i.expires_in}const md=["global","local","others"];class lT{constructor({url:t="",headers:s={},fetch:r}){this.url=t,this.headers=s,this.fetch=uv(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(t,s=md[0]){if(md.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${md.join(", ")}`);try{return await fe(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(r){if(re(r))return{data:null,error:r};throw r}}async inviteUserByEmail(t,s={}){try{return await fe(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:wi})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async generateLink(t){try{const{options:s}=t,r=ko(t,["options"]),o=Object.assign(Object.assign({},r),s);return"newEmail"in r&&(o.new_email=r==null?void 0:r.newEmail,delete o.newEmail),await fe(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:o,headers:this.headers,xform:aT,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(re(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:wi})}catch(s){if(re(s))return{data:{user:null},error:s};throw s}}async listUsers(t){var s,r,o,c,d,m,p;try{const g={nextPage:null,lastPage:0,total:0},v=await fe(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(c=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:wg});if(v.error)throw v.error;const b=await v.json(),x=(d=v.headers.get("x-total-count"))!==null&&d!==void 0?d:0,S=(p=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(w=>{const T=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(w.split(";")[1].split("=")[1]);g[`${O}Page`]=T}),g.total=parseInt(x)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(re(g))return{data:{users:[]},error:g};throw g}}async getUserById(t){Is(t);try{return await fe(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:wi})}catch(s){if(re(s))return{data:{user:null},error:s};throw s}}async updateUserById(t,s){Is(t);try{return await fe(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:s,headers:this.headers,xform:wi})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async deleteUser(t,s=!1){Is(t);try{return await fe(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:s},xform:wi})}catch(r){if(re(r))return{data:{user:null},error:r};throw r}}async _listFactors(t){Is(t.userId);try{const{data:s,error:r}=await fe(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:o=>({data:{factors:o},error:null})});return{data:s,error:r}}catch(s){if(re(s))return{data:null,error:s};throw s}}async _deleteFactor(t){Is(t.userId),Is(t.id);try{return{data:await fe(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}}async _listOAuthClients(t){var s,r,o,c,d,m,p;try{const g={nextPage:null,lastPage:0,total:0},v=await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(s=t==null?void 0:t.page)===null||s===void 0?void 0:s.toString())!==null&&r!==void 0?r:"",per_page:(c=(o=t==null?void 0:t.perPage)===null||o===void 0?void 0:o.toString())!==null&&c!==void 0?c:""},xform:wg});if(v.error)throw v.error;const b=await v.json(),x=(d=v.headers.get("x-total-count"))!==null&&d!==void 0?d:0,S=(p=(m=v.headers.get("link"))===null||m===void 0?void 0:m.split(","))!==null&&p!==void 0?p:[];return S.length>0&&(S.forEach(w=>{const T=parseInt(w.split(";")[0].split("=")[1].substring(0,1)),O=JSON.parse(w.split(";")[1].split("=")[1]);g[`${O}Page`]=T}),g.total=parseInt(x)),{data:Object.assign(Object.assign({},b),g),error:null}}catch(g){if(re(g))return{data:{clients:[]},error:g};throw g}}async _createOAuthClient(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:t,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(re(s))return{data:null,error:s};throw s}}async _getOAuthClient(t){try{return await fe(this.fetch,"GET",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(re(s))return{data:null,error:s};throw s}}async _updateOAuthClient(t,s){try{return await fe(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${t}`,{body:s,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(re(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(t){try{return await fe(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${t}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(re(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(t){try{return await fe(this.fetch,"POST",`${this.url}/admin/oauth/clients/${t}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(re(s))return{data:null,error:s};throw s}}}function _g(i={}){return{getItem:t=>i[t]||null,setItem:(t,s)=>{i[t]=s},removeItem:t=>{delete i[t]}}}const Ys={debug:!!(globalThis&&cv()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class dv extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}}class Sg extends dv{}async function oT(i,t,s){Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",i,t);const r=new globalThis.AbortController;t>0&&setTimeout(()=>{r.abort(),Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",i)},t),await Promise.resolve();try{return await globalThis.navigator.locks.request(i,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async o=>{if(o){Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",i,o.name);try{return await s()}finally{Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",i,o.name)}}else{if(t===0)throw Ys.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",i),new Sg(`Acquiring an exclusive Navigator LockManager lock "${i}" immediately failed`);if(Ys.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}})}catch(o){throw(o==null?void 0:o.name)==="AbortError"?new Sg(`Acquiring an exclusive Navigator LockManager lock "${i}" timed out waiting ${t}ms`):o}}function cT(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function hv(i){if(!/^0x[a-fA-F0-9]{40}$/.test(i))throw new Error(`@supabase/auth-js: Address "${i}" is invalid.`);return i.toLowerCase()}function uT(i){return parseInt(i,16)}function dT(i){const t=new TextEncoder().encode(i);return"0x"+Array.from(t,r=>r.toString(16).padStart(2,"0")).join("")}function hT(i){var t;const{chainId:s,domain:r,expirationTime:o,issuedAt:c=new Date,nonce:d,notBefore:m,requestId:p,resources:g,scheme:v,uri:b,version:x}=i;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!b)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(x!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${x}`);if(!((t=i.statement)===null||t===void 0)&&t.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${i.statement}`)}const S=hv(i.address),w=v?`${v}://${r}`:r,T=i.statement?`${i.statement}
`:"",O=`${w} wants you to sign in with your Ethereum account:
${S}

${T}`;let R=`URI: ${b}
Version: ${x}
Chain ID: ${s}${d?`
Nonce: ${d}`:""}
Issued At: ${c.toISOString()}`;if(o&&(R+=`
Expiration Time: ${o.toISOString()}`),m&&(R+=`
Not Before: ${m.toISOString()}`),p&&(R+=`
Request ID: ${p}`),g){let V=`
Resources:`;for(const D of g){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);V+=`
- ${D}`}R+=V}return`${O}
${R}`}class rt extends Error{constructor({message:t,code:s,cause:r,name:o}){var c;super(t,{cause:r}),this.__isWebAuthnError=!0,this.name=(c=o??(r instanceof Error?r.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=s}}class So extends rt{constructor(t,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:t}),this.name="WebAuthnUnknownError",this.originalError=s}}function fT({error:i,options:t}){var s,r,o;const{publicKey:c}=t;if(!c)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(t.signal instanceof AbortSignal)return new rt({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else if(i.name==="ConstraintError"){if(((s=c.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new rt({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:i});if(t.mediation==="conditional"&&((r=c.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new rt({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:i});if(((o=c.authenticatorSelection)===null||o===void 0?void 0:o.userVerification)==="required")return new rt({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:i})}else{if(i.name==="InvalidStateError")return new rt({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:i});if(i.name==="NotAllowedError")return new rt({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="NotSupportedError")return c.pubKeyCredParams.filter(m=>m.type==="public-key").length===0?new rt({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:i}):new rt({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:i});if(i.name==="SecurityError"){const d=window.location.hostname;if(fv(d)){if(c.rp.id!==d)return new rt({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new rt({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:i})}else if(i.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}function mT({error:i,options:t}){const{publicKey:s}=t;if(!s)throw Error("options was missing required publicKey property");if(i.name==="AbortError"){if(t.signal instanceof AbortSignal)return new rt({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:i})}else{if(i.name==="NotAllowedError")return new rt({message:i.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i});if(i.name==="SecurityError"){const r=window.location.hostname;if(fv(r)){if(s.rpId!==r)return new rt({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:i})}else return new rt({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:i})}else if(i.name==="UnknownError")return new rt({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:i})}return new rt({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:i})}class pT{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const t=new AbortController;return this.controller=t,t.signal}cancelCeremony(){if(this.controller){const t=new Error("Manually cancelling existing WebAuthn API call");t.name="AbortError",this.controller.abort(t),this.controller=void 0}}}const gT=new pT;function yT(i){if(!i)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(i);const{challenge:t,user:s,excludeCredentials:r}=i,o=ko(i,["challenge","user","excludeCredentials"]),c=sa(t).buffer,d=Object.assign(Object.assign({},s),{id:sa(s.id).buffer}),m=Object.assign(Object.assign({},o),{challenge:c,user:d});if(r&&r.length>0){m.excludeCredentials=new Array(r.length);for(let p=0;p<r.length;p++){const g=r[p];m.excludeCredentials[p]=Object.assign(Object.assign({},g),{id:sa(g.id).buffer,type:g.type||"public-key",transports:g.transports})}}return m}function vT(i){if(!i)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(i);const{challenge:t,allowCredentials:s}=i,r=ko(i,["challenge","allowCredentials"]),o=sa(t).buffer,c=Object.assign(Object.assign({},r),{challenge:o});if(s&&s.length>0){c.allowCredentials=new Array(s.length);for(let d=0;d<s.length;d++){const m=s[d];c.allowCredentials[d]=Object.assign(Object.assign({},m),{id:sa(m.id).buffer,type:m.type||"public-key",transports:m.transports})}}return c}function bT(i){var t;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const s=i;return{id:i.id,rawId:i.id,response:{attestationObject:Ji(new Uint8Array(i.response.attestationObject)),clientDataJSON:Ji(new Uint8Array(i.response.clientDataJSON))},type:"public-key",clientExtensionResults:i.getClientExtensionResults(),authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function xT(i){var t;if("toJSON"in i&&typeof i.toJSON=="function")return i.toJSON();const s=i,r=i.getClientExtensionResults(),o=i.response;return{id:i.id,rawId:i.id,response:{authenticatorData:Ji(new Uint8Array(o.authenticatorData)),clientDataJSON:Ji(new Uint8Array(o.clientDataJSON)),signature:Ji(new Uint8Array(o.signature)),userHandle:o.userHandle?Ji(new Uint8Array(o.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(t=s.authenticatorAttachment)!==null&&t!==void 0?t:void 0}}function fv(i){return i==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(i)}function Tg(){var i,t;return!!(vt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((i=navigator==null?void 0:navigator.credentials)===null||i===void 0?void 0:i.create)=="function"&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.get)=="function")}async function wT(i){try{const t=await navigator.credentials.create(i);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new So("Browser returned unexpected credential type",t)}:{data:null,error:new So("Empty credential response",t)}}catch(t){return{data:null,error:fT({error:t,options:i})}}}async function _T(i){try{const t=await navigator.credentials.get(i);return t?t instanceof PublicKeyCredential?{data:t,error:null}:{data:null,error:new So("Browser returned unexpected credential type",t)}:{data:null,error:new So("Empty credential response",t)}}catch(t){return{data:null,error:mT({error:t,options:i})}}}const ST={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},TT={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function To(...i){const t=o=>o!==null&&typeof o=="object"&&!Array.isArray(o),s=o=>o instanceof ArrayBuffer||ArrayBuffer.isView(o),r={};for(const o of i)if(o)for(const c in o){const d=o[c];if(d!==void 0)if(Array.isArray(d))r[c]=d;else if(s(d))r[c]=d;else if(t(d)){const m=r[c];t(m)?r[c]=To(m,d):r[c]=To(d)}else r[c]=d}return r}function jT(i,t){return To(ST,i,t||{})}function NT(i,t){return To(TT,i,t||{})}class ET{constructor(t){this.client=t,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(t){return this.client.mfa.enroll(Object.assign(Object.assign({},t),{factorType:"webauthn"}))}async _challenge({factorId:t,webauthn:s,friendlyName:r,signal:o},c){var d;try{const{data:m,error:p}=await this.client.mfa.challenge({factorId:t,webauthn:s});if(!m)return{data:null,error:p};const g=o??gT.createNewAbortSignal();if(m.webauthn.type==="create"){const{user:v}=m.webauthn.credential_options.publicKey;if(!v.name){const b=r;if(b)v.name=`${v.id}:${b}`;else{const S=(await this.client.getUser()).data.user,w=((d=S==null?void 0:S.user_metadata)===null||d===void 0?void 0:d.name)||(S==null?void 0:S.email)||(S==null?void 0:S.id)||"User";v.name=`${v.id}:${w}`}}v.displayName||(v.displayName=v.name)}switch(m.webauthn.type){case"create":{const v=jT(m.webauthn.credential_options.publicKey,c==null?void 0:c.create),{data:b,error:x}=await wT({publicKey:v,signal:g});return b?{data:{factorId:t,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:b}},error:null}:{data:null,error:x}}case"request":{const v=NT(m.webauthn.credential_options.publicKey,c==null?void 0:c.request),{data:b,error:x}=await _T(Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:v,signal:g}));return b?{data:{factorId:t,challengeId:m.id,webauthn:{type:m.webauthn.type,credential_response:b}},error:null}:{data:null,error:x}}}}catch(m){return re(m)?{data:null,error:m}:{data:null,error:new Qi("Unexpected error in challenge",m)}}}async _verify({challengeId:t,factorId:s,webauthn:r}){return this.client.mfa.verify({factorId:s,challengeId:t,webauthn:r})}async _authenticate({factorId:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!s)return{data:null,error:new Nr("rpId is required for WebAuthn authentication")};try{if(!Tg())return{data:null,error:new Qi("Browser does not support WebAuthn",null)};const{data:d,error:m}=await this.challenge({factorId:t,webauthn:{rpId:s,rpOrigins:r},signal:o},{request:c});if(!d)return{data:null,error:m};const{webauthn:p}=d;return this._verify({factorId:t,challengeId:d.challengeId,webauthn:{type:p.type,rpId:s,rpOrigins:r,credential_response:p.credential_response}})}catch(d){return re(d)?{data:null,error:d}:{data:null,error:new Qi("Unexpected error in authenticate",d)}}}async _register({friendlyName:t,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:o}={}},c){if(!s)return{data:null,error:new Nr("rpId is required for WebAuthn registration")};try{if(!Tg())return{data:null,error:new Qi("Browser does not support WebAuthn",null)};const{data:d,error:m}=await this._enroll({friendlyName:t});if(!d)return await this.client.mfa.listFactors().then(v=>{var b;return(b=v.data)===null||b===void 0?void 0:b.all.find(x=>x.factor_type==="webauthn"&&x.friendly_name===t&&x.status!=="unverified")}).then(v=>v?this.client.mfa.unenroll({factorId:v==null?void 0:v.id}):void 0),{data:null,error:m};const{data:p,error:g}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:s,rpOrigins:r},signal:o},{create:c});return p?this._verify({factorId:d.id,challengeId:p.challengeId,webauthn:{rpId:s,rpOrigins:r,type:p.webauthn.type,credential_response:p.webauthn.credential_response}}):{data:null,error:g}}catch(d){return re(d)?{data:null,error:d}:{data:null,error:new Qi("Unexpected error in register",d)}}}}cT();const AT={url:jS,storageKey:NS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ES,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4,skipAutoInitialize:!1};async function jg(i,t,s){return await s()}const Ks={};class Er{get jwks(){var t,s;return(s=(t=Ks[this.storageKey])===null||t===void 0?void 0:t.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(t){Ks[this.storageKey]=Object.assign(Object.assign({},Ks[this.storageKey]),{jwks:t})}get jwks_cached_at(){var t,s;return(s=(t=Ks[this.storageKey])===null||t===void 0?void 0:t.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(t){Ks[this.storageKey]=Object.assign(Object.assign({},Ks[this.storageKey]),{cachedAt:t})}constructor(t){var s,r,o;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},AT),t);if(this.storageKey=c.storageKey,this.instanceID=(s=Er.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Er.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&vt()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new lT({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=uv(c.fetch),this.lock=c.lock||jg,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,this.lockAcquireTimeout=c.lockAcquireTimeout,c.lock?this.lock=c.lock:this.persistSession&&vt()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=oT:this.lock=jg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new ET(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:cv()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=_g(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=_g(this.memoryStorage)),vt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(o=this.broadcastChannel)===null||o===void 0||o.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d);try{await this._notifyAllSubscribers(d.data.event,d.data.session,!1)}catch(m){this._debug("#broadcastChannel","error",m)}})}c.skipAutoInitialize||this.initialize().catch(d=>{this._debug("#initialize()","error",d)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(t){if(this.throwOnError&&t&&t.error)throw t.error;return t}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${rv}) ${new Date().toISOString()}`}_debug(...t){return this.logDebugMessages&&this.logger(this._logPrefix(),...t),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var t;try{let s={},r="none";if(vt()&&(s=qS(window.location.href),this._isImplicitGrantCallback(s)?r="implicit":await this._isPKCECallback(s)&&(r="pkce")),vt()&&this.detectSessionInUrl&&r!=="none"){const{data:o,error:c}=await this._getSessionFromURL(s,r);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),zS(c)){const p=(t=c.details)===null||t===void 0?void 0:t.code;if(p==="identity_already_exists"||p==="identity_not_found"||p==="single_identity_not_deletable")return{error:c}}return{error:c}}const{session:d,redirectType:m}=o;return this._debug("#_initialize()","detected session in URL",d,"redirect type",m),await this._saveSession(d),setTimeout(async()=>{m==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return re(s)?this._returnResult({error:s}):this._returnResult({error:new Qi("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(t){var s,r,o;try{const c=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(s=t==null?void 0:t.options)===null||s===void 0?void 0:s.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(o=t==null?void 0:t.options)===null||o===void 0?void 0:o.captchaToken}},xform:dn}),{data:d,error:m}=c;if(m||!d)return this._returnResult({data:{user:null,session:null},error:m});const p=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(c){if(re(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(t){var s,r,o;try{let c;if("email"in t){const{email:v,password:b,options:x}=t;let S=null,w=null;this.flowType==="pkce"&&([S,w]=await Gs(this.storage,this.storageKey)),c=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:x==null?void 0:x.emailRedirectTo,body:{email:v,password:b,data:(s=x==null?void 0:x.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken},code_challenge:S,code_challenge_method:w},xform:dn})}else if("phone"in t){const{phone:v,password:b,options:x}=t;c=await fe(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:v,password:b,data:(r=x==null?void 0:x.data)!==null&&r!==void 0?r:{},channel:(o=x==null?void 0:x.channel)!==null&&o!==void 0?o:"sms",gotrue_meta_security:{captcha_token:x==null?void 0:x.captchaToken}},xform:dn})}else throw new ro("You must provide either an email or phone number and a password");const{data:d,error:m}=c;if(m||!d)return await yt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:m});const p=d.session,g=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(c){if(await yt(this.storage,`${this.storageKey}-code-verifier`),re(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(t){try{let s;if("email"in t){const{email:c,password:d,options:m}=t;s=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:xg})}else if("phone"in t){const{phone:c,password:d,options:m}=t;s=await fe(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:m==null?void 0:m.captchaToken}},xform:xg})}else throw new ro("You must provide either an email or phone number and a password");const{data:r,error:o}=s;if(o)return this._returnResult({data:{user:null,session:null},error:o});if(!r||!r.session||!r.user){const c=new Hs;return this._returnResult({data:{user:null,session:null},error:c})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:o})}catch(s){if(re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(t){var s,r,o,c;return await this._handleProviderSignIn(t.provider,{redirectTo:(s=t.options)===null||s===void 0?void 0:s.redirectTo,scopes:(r=t.options)===null||r===void 0?void 0:r.scopes,queryParams:(o=t.options)===null||o===void 0?void 0:o.queryParams,skipBrowserRedirect:(c=t.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(t){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(t))}async signInWithWeb3(t){const{chain:s}=t;switch(s){case"ethereum":return await this.signInWithEthereum(t);case"solana":return await this.signInWithSolana(t);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(t){var s,r,o,c,d,m,p,g,v,b,x;let S,w;if("message"in t)S=t.message,w=t.signature;else{const{chain:T,wallet:O,statement:R,options:V}=t;let D;if(vt())if(typeof O=="object")D=O;else{const le=window;if("ethereum"in le&&typeof le.ethereum=="object"&&"request"in le.ethereum&&typeof le.ethereum.request=="function")D=le.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof O!="object"||!(V!=null&&V.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=O}const Z=new URL((s=V==null?void 0:V.url)!==null&&s!==void 0?s:window.location.href),X=await D.request({method:"eth_requestAccounts"}).then(le=>le).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!X||X.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const Q=hv(X[0]);let J=(r=V==null?void 0:V.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!J){const le=await D.request({method:"eth_chainId"});J=uT(le)}const W={domain:Z.host,address:Q,statement:R,uri:Z.href,version:"1",chainId:J,nonce:(o=V==null?void 0:V.signInWithEthereum)===null||o===void 0?void 0:o.nonce,issuedAt:(d=(c=V==null?void 0:V.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(m=V==null?void 0:V.signInWithEthereum)===null||m===void 0?void 0:m.expirationTime,notBefore:(p=V==null?void 0:V.signInWithEthereum)===null||p===void 0?void 0:p.notBefore,requestId:(g=V==null?void 0:V.signInWithEthereum)===null||g===void 0?void 0:g.requestId,resources:(v=V==null?void 0:V.signInWithEthereum)===null||v===void 0?void 0:v.resources};S=hT(W),w=await D.request({method:"personal_sign",params:[dT(S),Q]})}try{const{data:T,error:O}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:S,signature:w},!((b=t.options)===null||b===void 0)&&b.captchaToken?{gotrue_meta_security:{captcha_token:(x=t.options)===null||x===void 0?void 0:x.captchaToken}}:null),xform:dn});if(O)throw O;if(!T||!T.session||!T.user){const R=new Hs;return this._returnResult({data:{user:null,session:null},error:R})}return T.session&&(await this._saveSession(T.session),await this._notifyAllSubscribers("SIGNED_IN",T.session)),this._returnResult({data:Object.assign({},T),error:O})}catch(T){if(re(T))return this._returnResult({data:{user:null,session:null},error:T});throw T}}async signInWithSolana(t){var s,r,o,c,d,m,p,g,v,b,x,S;let w,T;if("message"in t)w=t.message,T=t.signature;else{const{chain:O,wallet:R,statement:V,options:D}=t;let Z;if(vt())if(typeof R=="object")Z=R;else{const Q=window;if("solana"in Q&&typeof Q.solana=="object"&&("signIn"in Q.solana&&typeof Q.solana.signIn=="function"||"signMessage"in Q.solana&&typeof Q.solana.signMessage=="function"))Z=Q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof R!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Z=R}const X=new URL((s=D==null?void 0:D.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in Z&&Z.signIn){const Q=await Z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D==null?void 0:D.signInWithSolana),{version:"1",domain:X.host,uri:X.href}),V?{statement:V}:null));let J;if(Array.isArray(Q)&&Q[0]&&typeof Q[0]=="object")J=Q[0];else if(Q&&typeof Q=="object"&&"signedMessage"in Q&&"signature"in Q)J=Q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in J&&"signature"in J&&(typeof J.signedMessage=="string"||J.signedMessage instanceof Uint8Array)&&J.signature instanceof Uint8Array)w=typeof J.signedMessage=="string"?J.signedMessage:new TextDecoder().decode(J.signedMessage),T=J.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Z)||typeof Z.signMessage!="function"||!("publicKey"in Z)||typeof Z!="object"||!Z.publicKey||!("toBase58"in Z.publicKey)||typeof Z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");w=[`${X.host} wants you to sign in with your Solana account:`,Z.publicKey.toBase58(),...V?["",V,""]:[""],"Version: 1",`URI: ${X.href}`,`Issued At: ${(o=(r=D==null?void 0:D.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&o!==void 0?o:new Date().toISOString()}`,...!((c=D==null?void 0:D.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((d=D==null?void 0:D.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((m=D==null?void 0:D.signInWithSolana)===null||m===void 0)&&m.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((p=D==null?void 0:D.signInWithSolana)===null||p===void 0)&&p.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((g=D==null?void 0:D.signInWithSolana)===null||g===void 0)&&g.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((b=(v=D==null?void 0:D.signInWithSolana)===null||v===void 0?void 0:v.resources)===null||b===void 0)&&b.length?["Resources",...D.signInWithSolana.resources.map(J=>`- ${J}`)]:[]].join(`
`);const Q=await Z.signMessage(new TextEncoder().encode(w),"utf8");if(!Q||!(Q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");T=Q}}try{const{data:O,error:R}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:w,signature:Ji(T)},!((x=t.options)===null||x===void 0)&&x.captchaToken?{gotrue_meta_security:{captcha_token:(S=t.options)===null||S===void 0?void 0:S.captchaToken}}:null),xform:dn});if(R)throw R;if(!O||!O.session||!O.user){const V=new Hs;return this._returnResult({data:{user:null,session:null},error:V})}return O.session&&(await this._saveSession(O.session),await this._notifyAllSubscribers("SIGNED_IN",O.session)),this._returnResult({data:Object.assign({},O),error:R})}catch(O){if(re(O))return this._returnResult({data:{user:null,session:null},error:O});throw O}}async _exchangeCodeForSession(t){const s=await Ii(this.storage,`${this.storageKey}-code-verifier`),[r,o]=(s??"").split("/");try{if(!r&&this.flowType==="pkce")throw new kS;const{data:c,error:d}=await fe(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:t,code_verifier:r},xform:dn});if(await yt(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!c||!c.session||!c.user){const m=new Hs;return this._returnResult({data:{user:null,session:null,redirectType:null},error:m})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:o??null}),error:d})}catch(c){if(await yt(this.storage,`${this.storageKey}-code-verifier`),re(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(t){try{const{options:s,provider:r,token:o,access_token:c,nonce:d}=t,m=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:o,access_token:c,nonce:d,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:dn}),{data:p,error:g}=m;if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!p||!p.session||!p.user){const v=new Hs;return this._returnResult({data:{user:null,session:null},error:v})}return p.session&&(await this._saveSession(p.session),await this._notifyAllSubscribers("SIGNED_IN",p.session)),this._returnResult({data:p,error:g})}catch(s){if(re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(t){var s,r,o,c,d;try{if("email"in t){const{email:m,options:p}=t;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await Gs(this.storage,this.storageKey));const{error:b}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:m,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},create_user:(r=p==null?void 0:p.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:g,code_challenge_method:v},redirectTo:p==null?void 0:p.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:b})}if("phone"in t){const{phone:m,options:p}=t,{data:g,error:v}=await fe(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:m,data:(o=p==null?void 0:p.data)!==null&&o!==void 0?o:{},create_user:(c=p==null?void 0:p.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},channel:(d=p==null?void 0:p.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:g==null?void 0:g.message_id},error:v})}throw new ro("You must provide either an email or phone number.")}catch(m){if(await yt(this.storage,`${this.storageKey}-code-verifier`),re(m))return this._returnResult({data:{user:null,session:null},error:m});throw m}}async verifyOtp(t){var s,r;try{let o,c;"options"in t&&(o=(s=t.options)===null||s===void 0?void 0:s.redirectTo,c=(r=t.options)===null||r===void 0?void 0:r.captchaToken);const{data:d,error:m}=await fe(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},t),{gotrue_meta_security:{captcha_token:c}}),redirectTo:o,xform:dn});if(m)throw m;if(!d)throw new Error("An error occurred on token verification.");const p=d.session,g=d.user;return p!=null&&p.access_token&&(await this._saveSession(p),await this._notifyAllSubscribers(t.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",p)),this._returnResult({data:{user:g,session:p},error:null})}catch(o){if(re(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async signInWithSSO(t){var s,r,o,c,d;try{let m=null,p=null;this.flowType==="pkce"&&([m,p]=await Gs(this.storage,this.storageKey));const g=await fe(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in t?{provider_id:t.providerId}:null),"domain"in t?{domain:t.domain}:null),{redirect_to:(r=(s=t.options)===null||s===void 0?void 0:s.redirectTo)!==null&&r!==void 0?r:void 0}),!((o=t==null?void 0:t.options)===null||o===void 0)&&o.captchaToken?{gotrue_meta_security:{captcha_token:t.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:m,code_challenge_method:p}),headers:this.headers,xform:sT});return!((c=g.data)===null||c===void 0)&&c.url&&vt()&&!(!((d=t.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(g.data.url),this._returnResult(g)}catch(m){if(await yt(this.storage,`${this.storageKey}-code-verifier`),re(m))return this._returnResult({data:null,error:m});throw m}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;if(r)throw r;if(!s)throw new Gt;const{error:o}=await fe(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:o})})}catch(t){if(re(t))return this._returnResult({data:{user:null,session:null},error:t});throw t}}async resend(t){try{const s=`${this.url}/resend`;if("email"in t){const{email:r,type:o,options:c}=t,{error:d}=await fe(this.fetch,"POST",s,{headers:this.headers,body:{email:r,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}},redirectTo:c==null?void 0:c.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in t){const{phone:r,type:o,options:c}=t,{data:d,error:m}=await fe(this.fetch,"POST",s,{headers:this.headers,body:{phone:r,type:o,gotrue_meta_security:{captcha_token:c==null?void 0:c.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:m})}throw new ro("You must provide either an email or phone number and a type")}catch(s){if(re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(t,s){this._debug("#_acquireLock","begin",t);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),o=(async()=>(await r,await s()))();return this.pendingInLock.push((async()=>{try{await o}catch{}})()),o}return await this.lock(`lock:${this.storageKey}`,t,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=s();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const o=[...this.pendingInLock];await Promise.all(o),this.pendingInLock.splice(0,o.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(t){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await t(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let t=null;const s=await Ii(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?t=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!t)return{data:{session:null},error:null};const r=t.expires_at?t.expires_at*1e3-Date.now()<ud:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",t.expires_at),!r){if(this.userStorage){const d=await Ii(this.userStorage,this.storageKey+"-user");d!=null&&d.user?t.user=d.user:t.user=fd()}if(this.storage.isServer&&t.user&&!t.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};t.user=eT(t.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:t},error:null}}const{data:o,error:c}=await this._callRefreshToken(t.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:o},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(t){if(t)return await this._getUser(t);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(t){try{return t?await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:t,xform:wi}):await this._useSession(async s=>{var r,o,c;const{data:d,error:m}=s;if(m)throw m;return!(!((r=d.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Gt}:await fe(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(o=d.session)===null||o===void 0?void 0:o.access_token)!==null&&c!==void 0?c:void 0,xform:wi})})}catch(s){if(re(s))return dd(s)&&(await this._removeSession(),await yt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(t,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(t,s))}async _updateUser(t,s={}){try{return await this._useSession(async r=>{const{data:o,error:c}=r;if(c)throw c;if(!o.session)throw new Gt;const d=o.session;let m=null,p=null;this.flowType==="pkce"&&t.email!=null&&([m,p]=await Gs(this.storage,this.storageKey));const{data:g,error:v}=await fe(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},t),{code_challenge:m,code_challenge_method:p}),jwt:d.access_token,xform:wi});if(v)throw v;return d.user=g.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(r){if(await yt(this.storage,`${this.storageKey}-code-verifier`),re(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(t))}async _setSession(t){try{if(!t.access_token||!t.refresh_token)throw new Gt;const s=Date.now()/1e3;let r=s,o=!0,c=null;const{payload:d}=oo(t.access_token);if(d.exp&&(r=d.exp,o=r<=s),o){const{data:m,error:p}=await this._callRefreshToken(t.refresh_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m)return{data:{user:null,session:null},error:null};c=m}else{const{data:m,error:p}=await this._getUser(t.access_token);if(p)return this._returnResult({data:{user:null,session:null},error:p});c={access_token:t.access_token,refresh_token:t.refresh_token,user:m.user,token_type:"bearer",expires_in:r-s,expires_at:r},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(s){if(re(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(t){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(t))}async _refreshSession(t){try{return await this._useSession(async s=>{var r;if(!t){const{data:d,error:m}=s;if(m)throw m;t=(r=d.session)!==null&&r!==void 0?r:void 0}if(!(t!=null&&t.refresh_token))throw new Gt;const{data:o,error:c}=await this._callRefreshToken(t.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):o?this._returnResult({data:{user:o.user,session:o},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(re(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(t,s){try{if(!vt())throw new lo("No browser detected.");if(t.error||t.error_description||t.error_code)throw new lo(t.error_description||"Error in URL with unspecified error_description",{error:t.error||"unspecified_error",code:t.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new fg("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new lo("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!t.code)throw new fg("No code detected.");const{data:V,error:D}=await this._exchangeCodeForSession(t.code);if(D)throw D;const Z=new URL(window.location.href);return Z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Z.toString()),{data:{session:V.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:o,access_token:c,refresh_token:d,expires_in:m,expires_at:p,token_type:g}=t;if(!c||!m||!d||!g)throw new lo("No session defined in URL");const v=Math.round(Date.now()/1e3),b=parseInt(m);let x=v+b;p&&(x=parseInt(p));const S=x-v;S*1e3<=Xs&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${S}s, should have been closer to ${b}s`);const w=x-b;v-w>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",w,x,v):v-w<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",w,x,v);const{data:T,error:O}=await this._getUser(c);if(O)throw O;const R={provider_token:r,provider_refresh_token:o,access_token:c,expires_in:b,expires_at:x,refresh_token:d,token_type:g,user:T.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:R,redirectType:t.type},error:null})}catch(r){if(re(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(t){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),t):!!(t.access_token||t.error_description)}async _isPKCECallback(t){const s=await Ii(this.storage,`${this.storageKey}-code-verifier`);return!!(t.code&&s)}async signOut(t={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(t))}async _signOut({scope:t}={scope:"global"}){return await this._useSession(async s=>{var r;const{data:o,error:c}=s;if(c&&!dd(c))return this._returnResult({error:c});const d=(r=o.session)===null||r===void 0?void 0:r.access_token;if(d){const{error:m}=await this.admin.signOut(d,t);if(m&&!(RS(m)&&(m.status===404||m.status===401||m.status===403)||dd(m)))return this._returnResult({error:m})}return t!=="others"&&(await this._removeSession(),await yt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(t){const s=PS(),r={id:s,callback:t,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,r),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:r}}}async _emitInitialSession(t){return await this._useSession(async s=>{var r,o;try{const{data:{session:c},error:d}=s;if(d)throw d;await((r=this.stateChangeEmitters.get(t))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",t,"session",c)}catch(c){await((o=this.stateChangeEmitters.get(t))===null||o===void 0?void 0:o.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",t,"error",c),console.error(c)}})}async resetPasswordForEmail(t,s={}){let r=null,o=null;this.flowType==="pkce"&&([r,o]=await Gs(this.storage,this.storageKey,!0));try{return await fe(this.fetch,"POST",`${this.url}/recover`,{body:{email:t,code_challenge:r,code_challenge_method:o,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(await yt(this.storage,`${this.storageKey}-code-verifier`),re(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var t;try{const{data:s,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(t=s.user.identities)!==null&&t!==void 0?t:[]},error:null})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(t){return"token"in t?this.linkIdentityIdToken(t):this.linkIdentityOAuth(t)}async linkIdentityOAuth(t){var s;try{const{data:r,error:o}=await this._useSession(async c=>{var d,m,p,g,v;const{data:b,error:x}=c;if(x)throw x;const S=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,t.provider,{redirectTo:(d=t.options)===null||d===void 0?void 0:d.redirectTo,scopes:(m=t.options)===null||m===void 0?void 0:m.scopes,queryParams:(p=t.options)===null||p===void 0?void 0:p.queryParams,skipBrowserRedirect:!0});return await fe(this.fetch,"GET",S,{headers:this.headers,jwt:(v=(g=b.session)===null||g===void 0?void 0:g.access_token)!==null&&v!==void 0?v:void 0})});if(o)throw o;return vt()&&!(!((s=t.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:t.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(re(r))return this._returnResult({data:{provider:t.provider,url:null},error:r});throw r}}async linkIdentityIdToken(t){return await this._useSession(async s=>{var r;try{const{error:o,data:{session:c}}=s;if(o)throw o;const{options:d,provider:m,token:p,access_token:g,nonce:v}=t,b=await fe(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=c==null?void 0:c.access_token)!==null&&r!==void 0?r:void 0,body:{provider:m,id_token:p,access_token:g,nonce:v,link_identity:!0,gotrue_meta_security:{captcha_token:d==null?void 0:d.captchaToken}},xform:dn}),{data:x,error:S}=b;return S?this._returnResult({data:{user:null,session:null},error:S}):!x||!x.session||!x.user?this._returnResult({data:{user:null,session:null},error:new Hs}):(x.session&&(await this._saveSession(x.session),await this._notifyAllSubscribers("USER_UPDATED",x.session)),this._returnResult({data:x,error:S}))}catch(o){if(await yt(this.storage,`${this.storageKey}-code-verifier`),re(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}})}async unlinkIdentity(t){try{return await this._useSession(async s=>{var r,o;const{data:c,error:d}=s;if(d)throw d;return await fe(this.fetch,"DELETE",`${this.url}/user/identities/${t.identity_id}`,{headers:this.headers,jwt:(o=(r=c.session)===null||r===void 0?void 0:r.access_token)!==null&&o!==void 0?o:void 0})})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(t){const s=`#_refreshAccessToken(${t.substring(0,5)}...)`;this._debug(s,"begin");try{const r=Date.now();return await GS(async o=>(o>0&&await HS(200*Math.pow(2,o-1)),this._debug(s,"refreshing attempt",o),await fe(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:t},headers:this.headers,xform:dn})),(o,c)=>{const d=200*Math.pow(2,o);return c&&hd(c)&&Date.now()+d-r<Xs})}catch(r){if(this._debug(s,"error",r),re(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(s,"end")}}_isValidSession(t){return typeof t=="object"&&t!==null&&"access_token"in t&&"refresh_token"in t&&"expires_at"in t}async _handleProviderSignIn(t,s){const r=await this._getUrlForProvider(`${this.url}/authorize`,t,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",t,"options",s,"url",r),vt()&&!s.skipBrowserRedirect&&window.location.assign(r),{data:{provider:t,url:r},error:null}}async _recoverAndRefresh(){var t,s;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const o=await Ii(this.storage,this.storageKey);if(o&&this.userStorage){let d=await Ii(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:o.user},await Zs(this.userStorage,this.storageKey+"-user",d)),o.user=(t=d==null?void 0:d.user)!==null&&t!==void 0?t:fd()}else if(o&&!o.user&&!o.user){const d=await Ii(this.storage,this.storageKey+"-user");d&&(d!=null&&d.user)?(o.user=d.user,await yt(this.storage,this.storageKey+"-user"),await Zs(this.storage,this.storageKey,o)):o.user=fd()}if(this._debug(r,"session from storage",o),!this._isValidSession(o)){this._debug(r,"session is not valid"),o!==null&&await this._removeSession();return}const c=((s=o.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<ud;if(this._debug(r,`session has${c?"":" not"} expired with margin of ${ud}s`),c){if(this.autoRefreshToken&&o.refresh_token){const{error:d}=await this._callRefreshToken(o.refresh_token);d&&(console.error(d),hd(d)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(o.user&&o.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:m}=await this._getUser(o.access_token);!m&&(d!=null&&d.user)?(o.user=d.user,await this._saveSession(o),await this._notifyAllSubscribers("SIGNED_IN",o)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(r,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",o)}catch(o){this._debug(r,"error",o),console.error(o);return}finally{this._debug(r,"end")}}async _callRefreshToken(t){var s,r;if(!t)throw new Gt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const o=`#_callRefreshToken(${t.substring(0,5)}...)`;this._debug(o,"begin");try{this.refreshingDeferred=new Uo;const{data:c,error:d}=await this._refreshAccessToken(t);if(d)throw d;if(!c.session)throw new Gt;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const m={data:c.session,error:null};return this.refreshingDeferred.resolve(m),m}catch(c){if(this._debug(o,"error",c),re(c)){const d={data:null,error:c};return hd(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(d),d}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(c),c}finally{this.refreshingDeferred=null,this._debug(o,"end")}}async _notifyAllSubscribers(t,s,r=!0){const o=`#_notifyAllSubscribers(${t})`;this._debug(o,"begin",s,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:t,session:s});const c=[],d=Array.from(this.stateChangeEmitters.values()).map(async m=>{try{await m.callback(t,s)}catch(p){c.push(p)}});if(await Promise.all(d),c.length>0){for(let m=0;m<c.length;m+=1)console.error(c[m]);throw c[0]}}finally{this._debug(o,"end")}}async _saveSession(t){this._debug("#_saveSession()",t),this.suppressGetSessionWarning=!0,await yt(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},t),r=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&s.user&&await Zs(this.userStorage,this.storageKey+"-user",{user:s.user});const o=Object.assign({},s);delete o.user;const c=vg(o);await Zs(this.storage,this.storageKey,c)}else{const o=vg(s);await Zs(this.storage,this.storageKey,o)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await yt(this.storage,this.storageKey),await yt(this.storage,this.storageKey+"-code-verifier"),await yt(this.storage,this.storageKey+"-user"),this.userStorage&&await yt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const t=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{t&&vt()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",t)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const t=setInterval(()=>this._autoRefreshTokenTick(),Xs);this.autoRefreshTicker=t,t&&typeof t=="object"&&typeof t.unref=="function"?t.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(t);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const t=this.autoRefreshTicker;this.autoRefreshTicker=null,t&&clearInterval(t);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const t=Date.now();try{return await this._useSession(async s=>{const{data:{session:r}}=s;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const o=Math.floor((r.expires_at*1e3-t)/Xs);this._debug("#_autoRefreshTokenTick()",`access token expires in ${o} ticks, a tick lasts ${Xs}ms, refresh threshold is ${Ud} ticks`),o<=Ud&&await this._callRefreshToken(r.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(t){if(t.isAcquireTimeout||t instanceof dv)this._debug("auto refresh token tick lock not available");else throw t}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!vt()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(t){this._debug("#visibilityChangedCallback","error",t)}},window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(t){console.error("_handleVisibilityChange",t)}}async _onVisibilityChanged(t){const s=`#_onVisibilityChanged(${t})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),t||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(t,s,r){const o=[`provider=${encodeURIComponent(s)}`];if(r!=null&&r.redirectTo&&o.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&o.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[c,d]=await Gs(this.storage,this.storageKey),m=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(d)}`});o.push(m.toString())}if(r!=null&&r.queryParams){const c=new URLSearchParams(r.queryParams);o.push(c.toString())}return r!=null&&r.skipBrowserRedirect&&o.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${t}?${o.join("&")}`}async _unenroll(t){try{return await this._useSession(async s=>{var r;const{data:o,error:c}=s;return c?this._returnResult({data:null,error:c}):await fe(this.fetch,"DELETE",`${this.url}/factors/${t.factorId}`,{headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token})})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(t){try{return await this._useSession(async s=>{var r,o;const{data:c,error:d}=s;if(d)return this._returnResult({data:null,error:d});const m=Object.assign({friendly_name:t.friendlyName,factor_type:t.factorType},t.factorType==="phone"?{phone:t.phone}:t.factorType==="totp"?{issuer:t.issuer}:{}),{data:p,error:g}=await fe(this.fetch,"POST",`${this.url}/factors`,{body:m,headers:this.headers,jwt:(r=c==null?void 0:c.session)===null||r===void 0?void 0:r.access_token});return g?this._returnResult({data:null,error:g}):(t.factorType==="totp"&&p.type==="totp"&&(!((o=p==null?void 0:p.totp)===null||o===void 0)&&o.qr_code)&&(p.totp.qr_code=`data:image/svg+xml;utf-8,${p.totp.qr_code}`),this._returnResult({data:p,error:null}))})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async _verify(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var r;const{data:o,error:c}=s;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({challenge_id:t.challengeId},"webauthn"in t?{webauthn:Object.assign(Object.assign({},t.webauthn),{credential_response:t.webauthn.type==="create"?bT(t.webauthn.credential_response):xT(t.webauthn.credential_response)})}:{code:t.code}),{data:m,error:p}=await fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/verify`,{body:d,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});return p?this._returnResult({data:null,error:p}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+m.expires_in},m)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",m),this._returnResult({data:m,error:p}))})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(t){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var r;const{data:o,error:c}=s;if(c)return this._returnResult({data:null,error:c});const d=await fe(this.fetch,"POST",`${this.url}/factors/${t.factorId}/challenge`,{body:t,headers:this.headers,jwt:(r=o==null?void 0:o.session)===null||r===void 0?void 0:r.access_token});if(d.error)return d;const{data:m}=d;if(m.type!=="webauthn")return{data:m,error:null};switch(m.webauthn.type){case"create":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:yT(m.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},m),{webauthn:Object.assign(Object.assign({},m.webauthn),{credential_options:Object.assign(Object.assign({},m.webauthn.credential_options),{publicKey:vT(m.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(t){const{data:s,error:r}=await this._challenge({factorId:t.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:t.factorId,challengeId:s.id,code:t.code})}async _listFactors(){var t;const{data:{user:s},error:r}=await this.getUser();if(r)return{data:null,error:r};const o={all:[],phone:[],totp:[],webauthn:[]};for(const c of(t=s==null?void 0:s.factors)!==null&&t!==void 0?t:[])o.all.push(c),c.status==="verified"&&o[c.factor_type].push(c);return{data:o,error:null}}async _getAuthenticatorAssuranceLevel(t){var s,r,o,c;if(t)try{const{payload:S}=oo(t);let w=null;S.aal&&(w=S.aal);let T=w;const{data:{user:O},error:R}=await this.getUser(t);if(R)return this._returnResult({data:null,error:R});((r=(s=O==null?void 0:O.factors)===null||s===void 0?void 0:s.filter(Z=>Z.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(T="aal2");const D=S.amr||[];return{data:{currentLevel:w,nextLevel:T,currentAuthenticationMethods:D},error:null}}catch(S){if(re(S))return this._returnResult({data:null,error:S});throw S}const{data:{session:d},error:m}=await this.getSession();if(m)return this._returnResult({data:null,error:m});if(!d)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:p}=oo(d.access_token);let g=null;p.aal&&(g=p.aal);let v=g;((c=(o=d.user.factors)===null||o===void 0?void 0:o.filter(S=>S.status==="verified"))!==null&&c!==void 0?c:[]).length>0&&(v="aal2");const x=p.amr||[];return{data:{currentLevel:g,nextLevel:v,currentAuthenticationMethods:x},error:null}}async _getAuthorizationDetails(t){try{return await this._useSession(async s=>{const{data:{session:r},error:o}=s;return o?this._returnResult({data:null,error:o}):r?await fe(this.fetch,"GET",`${this.url}/oauth/authorizations/${t}`,{headers:this.headers,jwt:r.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Gt})})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(t,s){try{return await this._useSession(async r=>{const{data:{session:o},error:c}=r;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new Gt});const d=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"approve"},xform:m=>({data:m,error:null})});return d.data&&d.data.redirect_url&&vt()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(t,s){try{return await this._useSession(async r=>{const{data:{session:o},error:c}=r;if(c)return this._returnResult({data:null,error:c});if(!o)return this._returnResult({data:null,error:new Gt});const d=await fe(this.fetch,"POST",`${this.url}/oauth/authorizations/${t}/consent`,{headers:this.headers,jwt:o.access_token,body:{action:"deny"},xform:m=>({data:m,error:null})});return d.data&&d.data.redirect_url&&vt()&&!(s!=null&&s.skipBrowserRedirect)&&window.location.assign(d.data.redirect_url),d})}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async t=>{const{data:{session:s},error:r}=t;return r?this._returnResult({data:null,error:r}):s?await fe(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:o=>({data:o,error:null})}):this._returnResult({data:null,error:new Gt})})}catch(t){if(re(t))return this._returnResult({data:null,error:t});throw t}}async _revokeOAuthGrant(t){try{return await this._useSession(async s=>{const{data:{session:r},error:o}=s;return o?this._returnResult({data:null,error:o}):r?(await fe(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:t.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Gt})})}catch(s){if(re(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(t,s={keys:[]}){let r=s.keys.find(m=>m.kid===t);if(r)return r;const o=Date.now();if(r=this.jwks.keys.find(m=>m.kid===t),r&&this.jwks_cached_at+CS>o)return r;const{data:c,error:d}=await fe(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=o,r=c.keys.find(m=>m.kid===t),!r)?null:r}async getClaims(t,s={}){try{let r=t;if(!r){const{data:S,error:w}=await this.getSession();if(w||!S.session)return this._returnResult({data:null,error:w});r=S.session.access_token}const{header:o,payload:c,signature:d,raw:{header:m,payload:p}}=oo(r);s!=null&&s.allowExpired||QS(c.exp);const g=!o.alg||o.alg.startsWith("HS")||!o.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(o.kid,s!=null&&s.keys?{keys:s.keys}:s==null?void 0:s.jwks);if(!g){const{error:S}=await this.getUser(r);if(S)throw S;return{data:{claims:c,header:o,signature:d},error:null}}const v=JS(o.alg),b=await crypto.subtle.importKey("jwk",g,v,!0,["verify"]);if(!await crypto.subtle.verify(v,b,d,BS(`${m}.${p}`)))throw new Vd("Invalid JWT signature");return{data:{claims:c,header:o,signature:d},error:null}}catch(r){if(re(r))return this._returnResult({data:null,error:r});throw r}}}Er.nextInstanceID={};const CT=Er,OT="2.97.0";let dr="";typeof Deno<"u"?dr="deno":typeof document<"u"?dr="web":typeof navigator<"u"&&navigator.product==="ReactNative"?dr="react-native":dr="node";const RT={"X-Client-Info":`supabase-js-${dr}/${OT}`},zT={headers:RT},kT={schema:"public"},DT={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},MT={};function Ar(i){"@babel/helpers - typeof";return Ar=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Ar(i)}function UT(i,t){if(Ar(i)!="object"||!i)return i;var s=i[Symbol.toPrimitive];if(s!==void 0){var r=s.call(i,t);if(Ar(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(i)}function LT(i){var t=UT(i,"string");return Ar(t)=="symbol"?t:t+""}function BT(i,t,s){return(t=LT(t))in i?Object.defineProperty(i,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):i[t]=s,i}function Ng(i,t){var s=Object.keys(i);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(i);t&&(r=r.filter(function(o){return Object.getOwnPropertyDescriptor(i,o).enumerable})),s.push.apply(s,r)}return s}function Fe(i){for(var t=1;t<arguments.length;t++){var s=arguments[t]!=null?arguments[t]:{};t%2?Ng(Object(s),!0).forEach(function(r){BT(i,r,s[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(i,Object.getOwnPropertyDescriptors(s)):Ng(Object(s)).forEach(function(r){Object.defineProperty(i,r,Object.getOwnPropertyDescriptor(s,r))})}return i}const VT=i=>i?(...t)=>i(...t):(...t)=>fetch(...t),PT=()=>Headers,qT=(i,t,s)=>{const r=VT(s),o=PT();return async(c,d)=>{var m;const p=(m=await t())!==null&&m!==void 0?m:i;let g=new o(d==null?void 0:d.headers);return g.has("apikey")||g.set("apikey",i),g.has("Authorization")||g.set("Authorization",`Bearer ${p}`),r(c,Fe(Fe({},d),{},{headers:g}))}};function $T(i){return i.endsWith("/")?i:i+"/"}function HT(i,t){var s,r;const{db:o,auth:c,realtime:d,global:m}=i,{db:p,auth:g,realtime:v,global:b}=t,x={db:Fe(Fe({},p),o),auth:Fe(Fe({},g),c),realtime:Fe(Fe({},v),d),storage:{},global:Fe(Fe(Fe({},b),m),{},{headers:Fe(Fe({},(s=b==null?void 0:b.headers)!==null&&s!==void 0?s:{}),(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return i.accessToken?x.accessToken=i.accessToken:delete x.accessToken,x}function GT(i){const t=i==null?void 0:i.trim();if(!t)throw new Error("supabaseUrl is required.");if(!t.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL($T(t))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var IT=class extends CT{constructor(i){super(i)}},YT=class{constructor(i,t,s){var r,o;this.supabaseUrl=i,this.supabaseKey=t;const c=GT(i);if(!t)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,m={db:kT,realtime:MT,auth:Fe(Fe({},DT),{},{storageKey:d}),global:zT},p=HT(s??{},m);if(this.storageKey=(r=p.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(o=p.global.headers)!==null&&o!==void 0?o:{},p.accessToken)this.accessToken=p.accessToken,this.auth=new Proxy({},{get:(v,b)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(b)} is not possible`)}});else{var g;this.auth=this._initSupabaseAuthClient((g=p.auth)!==null&&g!==void 0?g:{},this.headers,p.global.fetch)}this.fetch=qT(t,this._getAccessToken.bind(this),p.global.fetch),this.realtime=this._initRealtimeClient(Fe({headers:this.headers,accessToken:this._getAccessToken.bind(this)},p.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(v=>this.realtime.setAuth(v)).catch(v=>console.warn("Failed to set initial Realtime auth token:",v)),this.rest=new R1(new URL("rest/v1",c).href,{headers:this.headers,schema:p.db.schema,fetch:this.fetch,timeout:p.db.timeout,urlLengthLimit:p.db.urlLengthLimit}),this.storage=new TS(this.storageUrl.href,this.headers,this.fetch,s==null?void 0:s.storage),p.accessToken||this._listenForAuthEvents()}get functions(){return new S1(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(i){return this.rest.from(i)}schema(i){return this.rest.schema(i)}rpc(i,t={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(i,t,s)}channel(i,t={config:{}}){return this.realtime.channel(i,t)}getChannels(){return this.realtime.getChannels()}removeChannel(i){return this.realtime.removeChannel(i)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var i=this,t,s;if(i.accessToken)return await i.accessToken();const{data:r}=await i.auth.getSession();return(t=(s=r.session)===null||s===void 0?void 0:s.access_token)!==null&&t!==void 0?t:i.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:i,persistSession:t,detectSessionInUrl:s,storage:r,userStorage:o,storageKey:c,flowType:d,lock:m,debug:p,throwOnError:g},v,b){const x={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new IT({url:this.authUrl.href,headers:Fe(Fe({},x),v),storageKey:c,autoRefreshToken:i,persistSession:t,detectSessionInUrl:s,storage:r,userStorage:o,flowType:d,lock:m,debug:p,throwOnError:g,fetch:b,hasCustomAuthorizationHeader:Object.keys(this.headers).some(S=>S.toLowerCase()==="authorization")})}_initRealtimeClient(i){return new F1(this.realtimeUrl.href,Fe(Fe({},i),{},{params:Fe(Fe({},{apikey:this.supabaseKey}),i==null?void 0:i.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((i,t)=>{this._handleTokenChanged(i,"CLIENT",t==null?void 0:t.access_token)})}_handleTokenChanged(i,t,s){(i==="TOKEN_REFRESHED"||i==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):i==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const KT=(i,t,s)=>new YT(i,t,s);function FT(){if(typeof window<"u")return!1;const i=globalThis.process;if(!i)return!1;const t=i.version;if(t==null)return!1;const s=t.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}FT()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const XT="https://oejmnbesyzixxwikvzeu.supabase.co",ZT="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im9lam1uYmVzeXppeHh3aWt2emV1Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NzE0ODQ1MTEsImV4cCI6MjA4NzA2MDUxMX0.-xIDTf3CynQGRNRtOQAclCU32yeIQfObDR3KsW6XH74",ie=KT(XT,ZT);function QT({children:i}){const[t,s]=$.useState(null),[r,o]=$.useState(!0);return $.useEffect(()=>{ie.auth.getSession().then(({data:{session:d}})=>{s((d==null?void 0:d.user)??null),o(!1)});const{data:{subscription:c}}=ie.auth.onAuthStateChange((d,m)=>{s((m==null?void 0:m.user)??null)});return()=>c.unsubscribe()},[]),r?f.jsx("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center text-zinc-500",children:"Loading System..."}):t?f.jsx(f.Fragment,{children:i}):f.jsx(JT,{})}function JT(){const[i,t]=$.useState(""),[s,r]=$.useState(""),[o,c]=$.useState(!1),[d,m]=$.useState("LOGIN"),[p,g]=$.useState(null),v=async b=>{b.preventDefault(),c(!0),g(null);try{if(d==="SIGNUP"){const{error:x}=await ie.auth.signUp({email:i,password:s});if(x)throw x;alert("Check your email for the confirmation link!")}else{const{error:x}=await ie.auth.signInWithPassword({email:i,password:s});if(x)throw x}}catch(x){g(x.message)}finally{c(!1)}};return f.jsx("div",{className:"min-h-screen bg-[#0a0a0a] flex items-center justify-center p-4",children:f.jsxs("div",{className:"w-full max-w-sm bg-zinc-900/50 p-8 rounded-2xl border border-zinc-800",children:[f.jsxs("h1",{className:"text-2xl font-black italic text-center mb-6 text-white",children:[f.jsx("span",{className:"text-indigo-500",children:"CLO"}),"System"]}),f.jsxs("form",{onSubmit:v,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1",children:"Email"}),f.jsx("input",{type:"email",required:!0,value:i,onChange:b=>t(b.target.value),className:"w-full bg-black border border-zinc-800 rounded-lg p-3 text-white focus:border-indigo-500 outline-none transition",placeholder:"clo@system.com"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-1",children:"Password"}),f.jsx("input",{type:"password",required:!0,value:s,onChange:b=>r(b.target.value),className:"w-full bg-black border border-zinc-800 rounded-lg p-3 text-white focus:border-indigo-500 outline-none transition",placeholder:""})]}),p&&f.jsx("div",{className:"text-red-500 text-sm bg-red-900/20 p-2 rounded",children:p}),f.jsx("button",{disabled:o,className:"w-full py-3 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded-xl transition disabled:opacity-50",children:o?"Processing...":d==="LOGIN"?"Login":"Sign Up"}),f.jsx("div",{className:"text-center",children:f.jsx("button",{type:"button",onClick:()=>m(d==="LOGIN"?"SIGNUP":"LOGIN"),className:"text-xs text-zinc-500 hover:text-zinc-300",children:d==="LOGIN"?"Need an account? Sign Up":"Have an account? Login"})})]})]})})}const ch=$.createContext({});function uh(i){const t=$.useRef(null);return t.current===null&&(t.current=i()),t.current}const Lo=$.createContext(null),dh=$.createContext({transformPagePoint:i=>i,isStatic:!1,reducedMotion:"never"});class WT extends $.Component{getSnapshotBeforeUpdate(t){const s=this.props.childRef.current;if(s&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=s.offsetHeight||0,r.width=s.offsetWidth||0,r.top=s.offsetTop,r.left=s.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function e2({children:i,isPresent:t}){const s=$.useId(),r=$.useRef(null),o=$.useRef({width:0,height:0,top:0,left:0}),{nonce:c}=$.useContext(dh);return $.useInsertionEffect(()=>{const{width:d,height:m,top:p,left:g}=o.current;if(t||!r.current||!d||!m)return;r.current.dataset.motionPopId=s;const v=document.createElement("style");return c&&(v.nonce=c),document.head.appendChild(v),v.sheet&&v.sheet.insertRule(`
          [data-motion-pop-id="${s}"] {
            position: absolute !important;
            width: ${d}px !important;
            height: ${m}px !important;
            top: ${p}px !important;
            left: ${g}px !important;
          }
        `),()=>{document.head.removeChild(v)}},[t]),f.jsx(WT,{isPresent:t,childRef:r,sizeRef:o,children:$.cloneElement(i,{ref:r})})}const t2=({children:i,initial:t,isPresent:s,onExitComplete:r,custom:o,presenceAffectsLayout:c,mode:d})=>{const m=uh(n2),p=$.useId(),g=$.useCallback(b=>{m.set(b,!0);for(const x of m.values())if(!x)return;r&&r()},[m,r]),v=$.useMemo(()=>({id:p,initial:t,isPresent:s,custom:o,onExitComplete:g,register:b=>(m.set(b,!1),()=>m.delete(b))}),c?[Math.random(),g]:[s,g]);return $.useMemo(()=>{m.forEach((b,x)=>m.set(x,!1))},[s]),$.useEffect(()=>{!s&&!m.size&&r&&r()},[s]),d==="popLayout"&&(i=f.jsx(e2,{isPresent:s,children:i})),f.jsx(Lo.Provider,{value:v,children:i})};function n2(){return new Map}function mv(i=!0){const t=$.useContext(Lo);if(t===null)return[!0,null];const{isPresent:s,onExitComplete:r,register:o}=t,c=$.useId();$.useEffect(()=>{i&&o(c)},[i]);const d=$.useCallback(()=>i&&r&&r(c),[c,r,i]);return!s&&r?[!1,d]:[!0]}const co=i=>i.key||"";function Eg(i){const t=[];return $.Children.forEach(i,s=>{$.isValidElement(s)&&t.push(s)}),t}const hh=typeof window<"u",pv=hh?$.useLayoutEffect:$.useEffect,es=({children:i,custom:t,initial:s=!0,onExitComplete:r,presenceAffectsLayout:o=!0,mode:c="sync",propagate:d=!1})=>{const[m,p]=mv(d),g=$.useMemo(()=>Eg(i),[i]),v=d&&!m?[]:g.map(co),b=$.useRef(!0),x=$.useRef(g),S=uh(()=>new Map),[w,T]=$.useState(g),[O,R]=$.useState(g);pv(()=>{b.current=!1,x.current=g;for(let Z=0;Z<O.length;Z++){const X=co(O[Z]);v.includes(X)?S.delete(X):S.get(X)!==!0&&S.set(X,!1)}},[O,v.length,v.join("-")]);const V=[];if(g!==w){let Z=[...g];for(let X=0;X<O.length;X++){const Q=O[X],J=co(Q);v.includes(J)||(Z.splice(X,0,Q),V.push(Q))}c==="wait"&&V.length&&(Z=V),R(Eg(Z)),T(g);return}const{forceRender:D}=$.useContext(ch);return f.jsx(f.Fragment,{children:O.map(Z=>{const X=co(Z),Q=d&&!m?!1:g===O||v.includes(X),J=()=>{if(S.has(X))S.set(X,!0);else return;let W=!0;S.forEach(le=>{le||(W=!1)}),W&&(D==null||D(),R(x.current),d&&(p==null||p()),r&&r())};return f.jsx(t2,{isPresent:Q,initial:!b.current||s?void 0:!1,custom:Q?void 0:t,presenceAffectsLayout:o,mode:c,onExitComplete:Q?void 0:J,children:Z},X)})})},Yt=i=>i;let gv=Yt;function fh(i){let t;return()=>(t===void 0&&(t=i()),t)}const ra=(i,t,s)=>{const r=t-i;return r===0?1:(s-i)/r},Hn=i=>i*1e3,Gn=i=>i/1e3,i2={useManualTiming:!1};function s2(i){let t=new Set,s=new Set,r=!1,o=!1;const c=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function m(g){c.has(g)&&(p.schedule(g),i()),g(d)}const p={schedule:(g,v=!1,b=!1)=>{const S=b&&r?t:s;return v&&c.add(g),S.has(g)||S.add(g),g},cancel:g=>{s.delete(g),c.delete(g)},process:g=>{if(d=g,r){o=!0;return}r=!0,[t,s]=[s,t],t.forEach(m),t.clear(),r=!1,o&&(o=!1,p.process(g))}};return p}const uo=["read","resolveKeyframes","update","preRender","render","postRender"],a2=40;function yv(i,t){let s=!1,r=!0;const o={delta:0,timestamp:0,isProcessing:!1},c=()=>s=!0,d=uo.reduce((R,V)=>(R[V]=s2(c),R),{}),{read:m,resolveKeyframes:p,update:g,preRender:v,render:b,postRender:x}=d,S=()=>{const R=performance.now();s=!1,o.delta=r?1e3/60:Math.max(Math.min(R-o.timestamp,a2),1),o.timestamp=R,o.isProcessing=!0,m.process(o),p.process(o),g.process(o),v.process(o),b.process(o),x.process(o),o.isProcessing=!1,s&&t&&(r=!1,i(S))},w=()=>{s=!0,r=!0,o.isProcessing||i(S)};return{schedule:uo.reduce((R,V)=>{const D=d[V];return R[V]=(Z,X=!1,Q=!1)=>(s||w(),D.schedule(Z,X,Q)),R},{}),cancel:R=>{for(let V=0;V<uo.length;V++)d[uo[V]].cancel(R)},state:o,steps:d}}const{schedule:qe,cancel:Si,state:bt,steps:pd}=yv(typeof requestAnimationFrame<"u"?requestAnimationFrame:Yt,!0),vv=$.createContext({strict:!1}),Ag={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},la={};for(const i in Ag)la[i]={isEnabled:t=>Ag[i].some(s=>!!t[s])};function r2(i){for(const t in i)la[t]={...la[t],...i[t]}}const l2=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function jo(i){return i.startsWith("while")||i.startsWith("drag")&&i!=="draggable"||i.startsWith("layout")||i.startsWith("onTap")||i.startsWith("onPan")||i.startsWith("onLayout")||l2.has(i)}let bv=i=>!jo(i);function o2(i){i&&(bv=t=>t.startsWith("on")?!jo(t):i(t))}try{o2(require("@emotion/is-prop-valid").default)}catch{}function c2(i,t,s){const r={};for(const o in i)o==="values"&&typeof i.values=="object"||(bv(o)||s===!0&&jo(o)||!t&&!jo(o)||i.draggable&&o.startsWith("onDrag"))&&(r[o]=i[o]);return r}function u2(i){if(typeof Proxy>"u")return i;const t=new Map,s=(...r)=>i(...r);return new Proxy(s,{get:(r,o)=>o==="create"?i:(t.has(o)||t.set(o,i(o)),t.get(o))})}const Bo=$.createContext({});function Cr(i){return typeof i=="string"||Array.isArray(i)}function Vo(i){return i!==null&&typeof i=="object"&&typeof i.start=="function"}const mh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],ph=["initial",...mh];function Po(i){return Vo(i.animate)||ph.some(t=>Cr(i[t]))}function xv(i){return!!(Po(i)||i.variants)}function d2(i,t){if(Po(i)){const{initial:s,animate:r}=i;return{initial:s===!1||Cr(s)?s:void 0,animate:Cr(r)?r:void 0}}return i.inherit!==!1?t:{}}function h2(i){const{initial:t,animate:s}=d2(i,$.useContext(Bo));return $.useMemo(()=>({initial:t,animate:s}),[Cg(t),Cg(s)])}function Cg(i){return Array.isArray(i)?i.join(" "):i}const f2=Symbol.for("motionComponentSymbol");function Js(i){return i&&typeof i=="object"&&Object.prototype.hasOwnProperty.call(i,"current")}function m2(i,t,s){return $.useCallback(r=>{r&&i.onMount&&i.onMount(r),t&&(r?t.mount(r):t.unmount()),s&&(typeof s=="function"?s(r):Js(s)&&(s.current=r))},[t])}const gh=i=>i.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),p2="framerAppearId",wv="data-"+gh(p2),{schedule:yh}=yv(queueMicrotask,!1),_v=$.createContext({});function g2(i,t,s,r,o){var c,d;const{visualElement:m}=$.useContext(Bo),p=$.useContext(vv),g=$.useContext(Lo),v=$.useContext(dh).reducedMotion,b=$.useRef(null);r=r||p.renderer,!b.current&&r&&(b.current=r(i,{visualState:t,parent:m,props:s,presenceContext:g,blockInitialAnimation:g?g.initial===!1:!1,reducedMotionConfig:v}));const x=b.current,S=$.useContext(_v);x&&!x.projection&&o&&(x.type==="html"||x.type==="svg")&&y2(b.current,s,o,S);const w=$.useRef(!1);$.useInsertionEffect(()=>{x&&w.current&&x.update(s,g)});const T=s[wv],O=$.useRef(!!T&&!(!((c=window.MotionHandoffIsComplete)===null||c===void 0)&&c.call(window,T))&&((d=window.MotionHasOptimisedAnimation)===null||d===void 0?void 0:d.call(window,T)));return pv(()=>{x&&(w.current=!0,window.MotionIsMounted=!0,x.updateFeatures(),yh.render(x.render),O.current&&x.animationState&&x.animationState.animateChanges())}),$.useEffect(()=>{x&&(!O.current&&x.animationState&&x.animationState.animateChanges(),O.current&&(queueMicrotask(()=>{var R;(R=window.MotionHandoffMarkAsComplete)===null||R===void 0||R.call(window,T)}),O.current=!1))}),x}function y2(i,t,s,r){const{layoutId:o,layout:c,drag:d,dragConstraints:m,layoutScroll:p,layoutRoot:g}=t;i.projection=new s(i.latestValues,t["data-framer-portal-id"]?void 0:Sv(i.parent)),i.projection.setOptions({layoutId:o,layout:c,alwaysMeasureLayout:!!d||m&&Js(m),visualElement:i,animationType:typeof c=="string"?c:"both",initialPromotionConfig:r,layoutScroll:p,layoutRoot:g})}function Sv(i){if(i)return i.options.allowProjection!==!1?i.projection:Sv(i.parent)}function v2({preloadedFeatures:i,createVisualElement:t,useRender:s,useVisualState:r,Component:o}){var c,d;i&&r2(i);function m(g,v){let b;const x={...$.useContext(dh),...g,layoutId:b2(g)},{isStatic:S}=x,w=h2(g),T=r(g,S);if(!S&&hh){x2();const O=w2(x);b=O.MeasureLayout,w.visualElement=g2(o,T,x,t,O.ProjectionNode)}return f.jsxs(Bo.Provider,{value:w,children:[b&&w.visualElement?f.jsx(b,{visualElement:w.visualElement,...x}):null,s(o,g,m2(T,w.visualElement,v),T,S,w.visualElement)]})}m.displayName=`motion.${typeof o=="string"?o:`create(${(d=(c=o.displayName)!==null&&c!==void 0?c:o.name)!==null&&d!==void 0?d:""})`}`;const p=$.forwardRef(m);return p[f2]=o,p}function b2({layoutId:i}){const t=$.useContext(ch).id;return t&&i!==void 0?t+"-"+i:i}function x2(i,t){$.useContext(vv).strict}function w2(i){const{drag:t,layout:s}=la;if(!t&&!s)return{};const r={...t,...s};return{MeasureLayout:t!=null&&t.isEnabled(i)||s!=null&&s.isEnabled(i)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const _2=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function vh(i){return typeof i!="string"||i.includes("-")?!1:!!(_2.indexOf(i)>-1||/[A-Z]/u.test(i))}function Og(i){const t=[{},{}];return i==null||i.values.forEach((s,r)=>{t[0][r]=s.get(),t[1][r]=s.getVelocity()}),t}function bh(i,t,s,r){if(typeof t=="function"){const[o,c]=Og(r);t=t(s!==void 0?s:i.custom,o,c)}if(typeof t=="string"&&(t=i.variants&&i.variants[t]),typeof t=="function"){const[o,c]=Og(r);t=t(s!==void 0?s:i.custom,o,c)}return t}const Pd=i=>Array.isArray(i),S2=i=>!!(i&&typeof i=="object"&&i.mix&&i.toValue),T2=i=>Pd(i)?i[i.length-1]||0:i,Tt=i=>!!(i&&i.getVelocity);function yo(i){const t=Tt(i)?i.get():i;return S2(t)?t.toValue():t}function j2({scrapeMotionValuesFromProps:i,createRenderState:t,onUpdate:s},r,o,c){const d={latestValues:N2(r,o,c,i),renderState:t()};return s&&(d.onMount=m=>s({props:r,current:m,...d}),d.onUpdate=m=>s(m)),d}const Tv=i=>(t,s)=>{const r=$.useContext(Bo),o=$.useContext(Lo),c=()=>j2(i,t,r,o);return s?c():uh(c)};function N2(i,t,s,r){const o={},c=r(i,{});for(const x in c)o[x]=yo(c[x]);let{initial:d,animate:m}=i;const p=Po(i),g=xv(i);t&&g&&!p&&i.inherit!==!1&&(d===void 0&&(d=t.initial),m===void 0&&(m=t.animate));let v=s?s.initial===!1:!1;v=v||d===!1;const b=v?m:d;if(b&&typeof b!="boolean"&&!Vo(b)){const x=Array.isArray(b)?b:[b];for(let S=0;S<x.length;S++){const w=bh(i,x[S]);if(w){const{transitionEnd:T,transition:O,...R}=w;for(const V in R){let D=R[V];if(Array.isArray(D)){const Z=v?D.length-1:0;D=D[Z]}D!==null&&(o[V]=D)}for(const V in T)o[V]=T[V]}}}return o}const da=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],is=new Set(da),jv=i=>t=>typeof t=="string"&&t.startsWith(i),Nv=jv("--"),E2=jv("var(--"),xh=i=>E2(i)?A2.test(i.split("/*")[0].trim()):!1,A2=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Ev=(i,t)=>t&&typeof i=="number"?t.transform(i):i,In=(i,t,s)=>s>t?t:s<i?i:s,ha={test:i=>typeof i=="number",parse:parseFloat,transform:i=>i},Or={...ha,transform:i=>In(0,1,i)},ho={...ha,default:1},Mr=i=>({test:t=>typeof t=="string"&&t.endsWith(i)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${i}`}),bi=Mr("deg"),bn=Mr("%"),me=Mr("px"),C2=Mr("vh"),O2=Mr("vw"),Rg={...bn,parse:i=>bn.parse(i)/100,transform:i=>bn.transform(i*100)},R2={borderWidth:me,borderTopWidth:me,borderRightWidth:me,borderBottomWidth:me,borderLeftWidth:me,borderRadius:me,radius:me,borderTopLeftRadius:me,borderTopRightRadius:me,borderBottomRightRadius:me,borderBottomLeftRadius:me,width:me,maxWidth:me,height:me,maxHeight:me,top:me,right:me,bottom:me,left:me,padding:me,paddingTop:me,paddingRight:me,paddingBottom:me,paddingLeft:me,margin:me,marginTop:me,marginRight:me,marginBottom:me,marginLeft:me,backgroundPositionX:me,backgroundPositionY:me},z2={rotate:bi,rotateX:bi,rotateY:bi,rotateZ:bi,scale:ho,scaleX:ho,scaleY:ho,scaleZ:ho,skew:bi,skewX:bi,skewY:bi,distance:me,translateX:me,translateY:me,translateZ:me,x:me,y:me,z:me,perspective:me,transformPerspective:me,opacity:Or,originX:Rg,originY:Rg,originZ:me},zg={...ha,transform:Math.round},wh={...R2,...z2,zIndex:zg,size:me,fillOpacity:Or,strokeOpacity:Or,numOctaves:zg},k2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},D2=da.length;function M2(i,t,s){let r="",o=!0;for(let c=0;c<D2;c++){const d=da[c],m=i[d];if(m===void 0)continue;let p=!0;if(typeof m=="number"?p=m===(d.startsWith("scale")?1:0):p=parseFloat(m)===0,!p||s){const g=Ev(m,wh[d]);if(!p){o=!1;const v=k2[d]||d;r+=`${v}(${g}) `}s&&(t[d]=g)}}return r=r.trim(),s?r=s(t,o?"":r):o&&(r="none"),r}function _h(i,t,s){const{style:r,vars:o,transformOrigin:c}=i;let d=!1,m=!1;for(const p in t){const g=t[p];if(is.has(p)){d=!0;continue}else if(Nv(p)){o[p]=g;continue}else{const v=Ev(g,wh[p]);p.startsWith("origin")?(m=!0,c[p]=v):r[p]=v}}if(t.transform||(d||s?r.transform=M2(t,i.transform,s):r.transform&&(r.transform="none")),m){const{originX:p="50%",originY:g="50%",originZ:v=0}=c;r.transformOrigin=`${p} ${g} ${v}`}}const U2={offset:"stroke-dashoffset",array:"stroke-dasharray"},L2={offset:"strokeDashoffset",array:"strokeDasharray"};function B2(i,t,s=1,r=0,o=!0){i.pathLength=1;const c=o?U2:L2;i[c.offset]=me.transform(-r);const d=me.transform(t),m=me.transform(s);i[c.array]=`${d} ${m}`}function kg(i,t,s){return typeof i=="string"?i:me.transform(t+s*i)}function V2(i,t,s){const r=kg(t,i.x,i.width),o=kg(s,i.y,i.height);return`${r} ${o}`}function Sh(i,{attrX:t,attrY:s,attrScale:r,originX:o,originY:c,pathLength:d,pathSpacing:m=1,pathOffset:p=0,...g},v,b){if(_h(i,g,b),v){i.style.viewBox&&(i.attrs.viewBox=i.style.viewBox);return}i.attrs=i.style,i.style={};const{attrs:x,style:S,dimensions:w}=i;x.transform&&(w&&(S.transform=x.transform),delete x.transform),w&&(o!==void 0||c!==void 0||S.transform)&&(S.transformOrigin=V2(w,o!==void 0?o:.5,c!==void 0?c:.5)),t!==void 0&&(x.x=t),s!==void 0&&(x.y=s),r!==void 0&&(x.scale=r),d!==void 0&&B2(x,d,m,p,!1)}const Th=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),Av=()=>({...Th(),attrs:{}}),jh=i=>typeof i=="string"&&i.toLowerCase()==="svg";function Cv(i,{style:t,vars:s},r,o){Object.assign(i.style,t,o&&o.getProjectionStyles(r));for(const c in s)i.style.setProperty(c,s[c])}const Ov=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Rv(i,t,s,r){Cv(i,t,void 0,r);for(const o in t.attrs)i.setAttribute(Ov.has(o)?o:gh(o),t.attrs[o])}const No={};function P2(i){Object.assign(No,i)}function zv(i,{layout:t,layoutId:s}){return is.has(i)||i.startsWith("origin")||(t||s!==void 0)&&(!!No[i]||i==="opacity")}function Nh(i,t,s){var r;const{style:o}=i,c={};for(const d in o)(Tt(o[d])||t.style&&Tt(t.style[d])||zv(d,i)||((r=s==null?void 0:s.getValue(d))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(c[d]=o[d]);return c}function kv(i,t,s){const r=Nh(i,t,s);for(const o in i)if(Tt(i[o])||Tt(t[o])){const c=da.indexOf(o)!==-1?"attr"+o.charAt(0).toUpperCase()+o.substring(1):o;r[c]=i[o]}return r}function q2(i,t){try{t.dimensions=typeof i.getBBox=="function"?i.getBBox():i.getBoundingClientRect()}catch{t.dimensions={x:0,y:0,width:0,height:0}}}const Dg=["x","y","width","height","cx","cy","r"],$2={useVisualState:Tv({scrapeMotionValuesFromProps:kv,createRenderState:Av,onUpdate:({props:i,prevProps:t,current:s,renderState:r,latestValues:o})=>{if(!s)return;let c=!!i.drag;if(!c){for(const m in o)if(is.has(m)){c=!0;break}}if(!c)return;let d=!t;if(t)for(let m=0;m<Dg.length;m++){const p=Dg[m];i[p]!==t[p]&&(d=!0)}d&&qe.read(()=>{q2(s,r),qe.render(()=>{Sh(r,o,jh(s.tagName),i.transformTemplate),Rv(s,r)})})}})},H2={useVisualState:Tv({scrapeMotionValuesFromProps:Nh,createRenderState:Th})};function Dv(i,t,s){for(const r in t)!Tt(t[r])&&!zv(r,s)&&(i[r]=t[r])}function G2({transformTemplate:i},t){return $.useMemo(()=>{const s=Th();return _h(s,t,i),Object.assign({},s.vars,s.style)},[t])}function I2(i,t){const s=i.style||{},r={};return Dv(r,s,i),Object.assign(r,G2(i,t)),r}function Y2(i,t){const s={},r=I2(i,t);return i.drag&&i.dragListener!==!1&&(s.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=i.drag===!0?"none":`pan-${i.drag==="x"?"y":"x"}`),i.tabIndex===void 0&&(i.onTap||i.onTapStart||i.whileTap)&&(s.tabIndex=0),s.style=r,s}function K2(i,t,s,r){const o=$.useMemo(()=>{const c=Av();return Sh(c,t,jh(r),i.transformTemplate),{...c.attrs,style:{...c.style}}},[t]);if(i.style){const c={};Dv(c,i.style,i),o.style={...c,...o.style}}return o}function F2(i=!1){return(s,r,o,{latestValues:c},d)=>{const p=(vh(s)?K2:Y2)(r,c,d,s),g=c2(r,typeof s=="string",i),v=s!==$.Fragment?{...g,...p,ref:o}:{},{children:b}=r,x=$.useMemo(()=>Tt(b)?b.get():b,[b]);return $.createElement(s,{...v,children:x})}}function X2(i,t){return function(r,{forwardMotionProps:o}={forwardMotionProps:!1}){const d={...vh(r)?$2:H2,preloadedFeatures:i,useRender:F2(o),createVisualElement:t,Component:r};return v2(d)}}function Mv(i,t){if(!Array.isArray(t))return!1;const s=t.length;if(s!==i.length)return!1;for(let r=0;r<s;r++)if(t[r]!==i[r])return!1;return!0}function qo(i,t,s){const r=i.getProps();return bh(r,t,s!==void 0?s:r.custom,i)}const Z2=fh(()=>window.ScrollTimeline!==void 0);class Q2{constructor(t){this.stop=()=>this.runAll("stop"),this.animations=t.filter(Boolean)}get finished(){return Promise.all(this.animations.map(t=>"finished"in t?t.finished:t))}getAll(t){return this.animations[0][t]}setAll(t,s){for(let r=0;r<this.animations.length;r++)this.animations[r][t]=s}attachTimeline(t,s){const r=this.animations.map(o=>{if(Z2()&&o.attachTimeline)return o.attachTimeline(t);if(typeof s=="function")return s(o)});return()=>{r.forEach((o,c)=>{o&&o(),this.animations[c].stop()})}}get time(){return this.getAll("time")}set time(t){this.setAll("time",t)}get speed(){return this.getAll("speed")}set speed(t){this.setAll("speed",t)}get startTime(){return this.getAll("startTime")}get duration(){let t=0;for(let s=0;s<this.animations.length;s++)t=Math.max(t,this.animations[s].duration);return t}runAll(t){this.animations.forEach(s=>s[t]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class J2 extends Q2{then(t,s){return Promise.all(this.animations).then(t).catch(s)}}function Eh(i,t){return i?i[t]||i.default||i:void 0}const qd=2e4;function Uv(i){let t=0;const s=50;let r=i.next(t);for(;!r.done&&t<qd;)t+=s,r=i.next(t);return t>=qd?1/0:t}function Ah(i){return typeof i=="function"}function Mg(i,t){i.timeline=t,i.onfinish=null}const Ch=i=>Array.isArray(i)&&typeof i[0]=="number",W2={linearEasing:void 0};function ej(i,t){const s=fh(i);return()=>{var r;return(r=W2[t])!==null&&r!==void 0?r:s()}}const Eo=ej(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Lv=(i,t,s=10)=>{let r="";const o=Math.max(Math.round(t/s),2);for(let c=0;c<o;c++)r+=i(ra(0,o-1,c))+", ";return`linear(${r.substring(0,r.length-2)})`};function Bv(i){return!!(typeof i=="function"&&Eo()||!i||typeof i=="string"&&(i in $d||Eo())||Ch(i)||Array.isArray(i)&&i.every(Bv))}const hr=([i,t,s,r])=>`cubic-bezier(${i}, ${t}, ${s}, ${r})`,$d={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:hr([0,.65,.55,1]),circOut:hr([.55,0,1,.45]),backIn:hr([.31,.01,.66,-.59]),backOut:hr([.33,1.53,.69,.99])};function Vv(i,t){if(i)return typeof i=="function"&&Eo()?Lv(i,t):Ch(i)?hr(i):Array.isArray(i)?i.map(s=>Vv(s,t)||$d.easeOut):$d[i]}const hn={x:!1,y:!1};function Pv(){return hn.x||hn.y}function tj(i,t,s){var r;if(i instanceof Element)return[i];if(typeof i=="string"){let o=document;const c=(r=void 0)!==null&&r!==void 0?r:o.querySelectorAll(i);return c?Array.from(c):[]}return Array.from(i)}function qv(i,t){const s=tj(i),r=new AbortController,o={passive:!0,...t,signal:r.signal};return[s,o,()=>r.abort()]}function Ug(i){return t=>{t.pointerType==="touch"||Pv()||i(t)}}function nj(i,t,s={}){const[r,o,c]=qv(i,s),d=Ug(m=>{const{target:p}=m,g=t(m);if(typeof g!="function"||!p)return;const v=Ug(b=>{g(b),p.removeEventListener("pointerleave",v)});p.addEventListener("pointerleave",v,o)});return r.forEach(m=>{m.addEventListener("pointerenter",d,o)}),c}const $v=(i,t)=>t?i===t?!0:$v(i,t.parentElement):!1,Oh=i=>i.pointerType==="mouse"?typeof i.button!="number"||i.button<=0:i.isPrimary!==!1,ij=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function sj(i){return ij.has(i.tagName)||i.tabIndex!==-1}const fr=new WeakSet;function Lg(i){return t=>{t.key==="Enter"&&i(t)}}function gd(i,t){i.dispatchEvent(new PointerEvent("pointer"+t,{isPrimary:!0,bubbles:!0}))}const aj=(i,t)=>{const s=i.currentTarget;if(!s)return;const r=Lg(()=>{if(fr.has(s))return;gd(s,"down");const o=Lg(()=>{gd(s,"up")}),c=()=>gd(s,"cancel");s.addEventListener("keyup",o,t),s.addEventListener("blur",c,t)});s.addEventListener("keydown",r,t),s.addEventListener("blur",()=>s.removeEventListener("keydown",r),t)};function Bg(i){return Oh(i)&&!Pv()}function rj(i,t,s={}){const[r,o,c]=qv(i,s),d=m=>{const p=m.currentTarget;if(!Bg(m)||fr.has(p))return;fr.add(p);const g=t(m),v=(S,w)=>{window.removeEventListener("pointerup",b),window.removeEventListener("pointercancel",x),!(!Bg(S)||!fr.has(p))&&(fr.delete(p),typeof g=="function"&&g(S,{success:w}))},b=S=>{v(S,s.useGlobalTarget||$v(p,S.target))},x=S=>{v(S,!1)};window.addEventListener("pointerup",b,o),window.addEventListener("pointercancel",x,o)};return r.forEach(m=>{!sj(m)&&m.getAttribute("tabindex")===null&&(m.tabIndex=0),(s.useGlobalTarget?window:m).addEventListener("pointerdown",d,o),m.addEventListener("focus",g=>aj(g,o),o)}),c}function lj(i){return i==="x"||i==="y"?hn[i]?null:(hn[i]=!0,()=>{hn[i]=!1}):hn.x||hn.y?null:(hn.x=hn.y=!0,()=>{hn.x=hn.y=!1})}const Hv=new Set(["width","height","top","left","right","bottom",...da]);let vo;function oj(){vo=void 0}const xn={now:()=>(vo===void 0&&xn.set(bt.isProcessing||i2.useManualTiming?bt.timestamp:performance.now()),vo),set:i=>{vo=i,queueMicrotask(oj)}};function Rh(i,t){i.indexOf(t)===-1&&i.push(t)}function zh(i,t){const s=i.indexOf(t);s>-1&&i.splice(s,1)}class kh{constructor(){this.subscriptions=[]}add(t){return Rh(this.subscriptions,t),()=>zh(this.subscriptions,t)}notify(t,s,r){const o=this.subscriptions.length;if(o)if(o===1)this.subscriptions[0](t,s,r);else for(let c=0;c<o;c++){const d=this.subscriptions[c];d&&d(t,s,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function Gv(i,t){return t?i*(1e3/t):0}const Vg=30,cj=i=>!isNaN(parseFloat(i));class uj{constructor(t,s={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,o=!0)=>{const c=xn.now();this.updatedAt!==c&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),o&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(t),this.owner=s.owner}setCurrent(t){this.current=t,this.updatedAt=xn.now(),this.canTrackVelocity===null&&t!==void 0&&(this.canTrackVelocity=cj(this.current))}setPrevFrameValue(t=this.current){this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt}onChange(t){return this.on("change",t)}on(t,s){this.events[t]||(this.events[t]=new kh);const r=this.events[t].add(s);return t==="change"?()=>{r(),qe.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,s){this.passiveEffect=t,this.stopPassiveEffect=s}set(t,s=!0){!s||!this.passiveEffect?this.updateAndNotify(t,s):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,s,r){this.set(s),this.prev=void 0,this.prevFrameValue=t,this.prevUpdatedAt=this.updatedAt-r}jump(t,s=!0){this.updateAndNotify(t),this.prev=t,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const t=xn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||t-this.updatedAt>Vg)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,Vg);return Gv(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(t){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=t(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Rr(i,t){return new uj(i,t)}function dj(i,t,s){i.hasValue(t)?i.getValue(t).set(s):i.addValue(t,Rr(s))}function hj(i,t){const s=qo(i,t);let{transitionEnd:r={},transition:o={},...c}=s||{};c={...c,...r};for(const d in c){const m=T2(c[d]);dj(i,d,m)}}function fj(i){return!!(Tt(i)&&i.add)}function Hd(i,t){const s=i.getValue("willChange");if(fj(s))return s.add(t)}function Iv(i){return i.props[wv]}const Yv=(i,t,s)=>(((1-3*s+3*t)*i+(3*s-6*t))*i+3*t)*i,mj=1e-7,pj=12;function gj(i,t,s,r,o){let c,d,m=0;do d=t+(s-t)/2,c=Yv(d,r,o)-i,c>0?s=d:t=d;while(Math.abs(c)>mj&&++m<pj);return d}function Ur(i,t,s,r){if(i===t&&s===r)return Yt;const o=c=>gj(c,0,1,i,s);return c=>c===0||c===1?c:Yv(o(c),t,r)}const Kv=i=>t=>t<=.5?i(2*t)/2:(2-i(2*(1-t)))/2,Fv=i=>t=>1-i(1-t),Xv=Ur(.33,1.53,.69,.99),Dh=Fv(Xv),Zv=Kv(Dh),Qv=i=>(i*=2)<1?.5*Dh(i):.5*(2-Math.pow(2,-10*(i-1))),Mh=i=>1-Math.sin(Math.acos(i)),Jv=Fv(Mh),Wv=Kv(Mh),eb=i=>/^0[^.\s]+$/u.test(i);function yj(i){return typeof i=="number"?i===0:i!==null?i==="none"||i==="0"||eb(i):!0}const yr=i=>Math.round(i*1e5)/1e5,Uh=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function vj(i){return i==null}const bj=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Lh=(i,t)=>s=>!!(typeof s=="string"&&bj.test(s)&&s.startsWith(i)||t&&!vj(s)&&Object.prototype.hasOwnProperty.call(s,t)),tb=(i,t,s)=>r=>{if(typeof r!="string")return r;const[o,c,d,m]=r.match(Uh);return{[i]:parseFloat(o),[t]:parseFloat(c),[s]:parseFloat(d),alpha:m!==void 0?parseFloat(m):1}},xj=i=>In(0,255,i),yd={...ha,transform:i=>Math.round(xj(i))},Wi={test:Lh("rgb","red"),parse:tb("red","green","blue"),transform:({red:i,green:t,blue:s,alpha:r=1})=>"rgba("+yd.transform(i)+", "+yd.transform(t)+", "+yd.transform(s)+", "+yr(Or.transform(r))+")"};function wj(i){let t="",s="",r="",o="";return i.length>5?(t=i.substring(1,3),s=i.substring(3,5),r=i.substring(5,7),o=i.substring(7,9)):(t=i.substring(1,2),s=i.substring(2,3),r=i.substring(3,4),o=i.substring(4,5),t+=t,s+=s,r+=r,o+=o),{red:parseInt(t,16),green:parseInt(s,16),blue:parseInt(r,16),alpha:o?parseInt(o,16)/255:1}}const Gd={test:Lh("#"),parse:wj,transform:Wi.transform},Ws={test:Lh("hsl","hue"),parse:tb("hue","saturation","lightness"),transform:({hue:i,saturation:t,lightness:s,alpha:r=1})=>"hsla("+Math.round(i)+", "+bn.transform(yr(t))+", "+bn.transform(yr(s))+", "+yr(Or.transform(r))+")"},St={test:i=>Wi.test(i)||Gd.test(i)||Ws.test(i),parse:i=>Wi.test(i)?Wi.parse(i):Ws.test(i)?Ws.parse(i):Gd.parse(i),transform:i=>typeof i=="string"?i:i.hasOwnProperty("red")?Wi.transform(i):Ws.transform(i)},_j=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Sj(i){var t,s;return isNaN(i)&&typeof i=="string"&&(((t=i.match(Uh))===null||t===void 0?void 0:t.length)||0)+(((s=i.match(_j))===null||s===void 0?void 0:s.length)||0)>0}const nb="number",ib="color",Tj="var",jj="var(",Pg="${}",Nj=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function zr(i){const t=i.toString(),s=[],r={color:[],number:[],var:[]},o=[];let c=0;const m=t.replace(Nj,p=>(St.test(p)?(r.color.push(c),o.push(ib),s.push(St.parse(p))):p.startsWith(jj)?(r.var.push(c),o.push(Tj),s.push(p)):(r.number.push(c),o.push(nb),s.push(parseFloat(p))),++c,Pg)).split(Pg);return{values:s,split:m,indexes:r,types:o}}function sb(i){return zr(i).values}function ab(i){const{split:t,types:s}=zr(i),r=t.length;return o=>{let c="";for(let d=0;d<r;d++)if(c+=t[d],o[d]!==void 0){const m=s[d];m===nb?c+=yr(o[d]):m===ib?c+=St.transform(o[d]):c+=o[d]}return c}}const Ej=i=>typeof i=="number"?0:i;function Aj(i){const t=sb(i);return ab(i)(t.map(Ej))}const Ti={test:Sj,parse:sb,createTransformer:ab,getAnimatableNone:Aj},Cj=new Set(["brightness","contrast","saturate","opacity"]);function Oj(i){const[t,s]=i.slice(0,-1).split("(");if(t==="drop-shadow")return i;const[r]=s.match(Uh)||[];if(!r)return i;const o=s.replace(r,"");let c=Cj.has(t)?1:0;return r!==s&&(c*=100),t+"("+c+o+")"}const Rj=/\b([a-z-]*)\(.*?\)/gu,Id={...Ti,getAnimatableNone:i=>{const t=i.match(Rj);return t?t.map(Oj).join(" "):i}},zj={...wh,color:St,backgroundColor:St,outlineColor:St,fill:St,stroke:St,borderColor:St,borderTopColor:St,borderRightColor:St,borderBottomColor:St,borderLeftColor:St,filter:Id,WebkitFilter:Id},Bh=i=>zj[i];function rb(i,t){let s=Bh(i);return s!==Id&&(s=Ti),s.getAnimatableNone?s.getAnimatableNone(t):void 0}const kj=new Set(["auto","none","0"]);function Dj(i,t,s){let r=0,o;for(;r<i.length&&!o;){const c=i[r];typeof c=="string"&&!kj.has(c)&&zr(c).values.length&&(o=i[r]),r++}if(o&&s)for(const c of t)i[c]=rb(s,o)}const qg=i=>i===ha||i===me,$g=(i,t)=>parseFloat(i.split(", ")[t]),Hg=(i,t)=>(s,{transform:r})=>{if(r==="none"||!r)return 0;const o=r.match(/^matrix3d\((.+)\)$/u);if(o)return $g(o[1],t);{const c=r.match(/^matrix\((.+)\)$/u);return c?$g(c[1],i):0}},Mj=new Set(["x","y","z"]),Uj=da.filter(i=>!Mj.has(i));function Lj(i){const t=[];return Uj.forEach(s=>{const r=i.getValue(s);r!==void 0&&(t.push([s,r.get()]),r.set(s.startsWith("scale")?1:0))}),t}const oa={width:({x:i},{paddingLeft:t="0",paddingRight:s="0"})=>i.max-i.min-parseFloat(t)-parseFloat(s),height:({y:i},{paddingTop:t="0",paddingBottom:s="0"})=>i.max-i.min-parseFloat(t)-parseFloat(s),top:(i,{top:t})=>parseFloat(t),left:(i,{left:t})=>parseFloat(t),bottom:({y:i},{top:t})=>parseFloat(t)+(i.max-i.min),right:({x:i},{left:t})=>parseFloat(t)+(i.max-i.min),x:Hg(4,13),y:Hg(5,14)};oa.translateX=oa.x;oa.translateY=oa.y;const ts=new Set;let Yd=!1,Kd=!1;function lb(){if(Kd){const i=Array.from(ts).filter(r=>r.needsMeasurement),t=new Set(i.map(r=>r.element)),s=new Map;t.forEach(r=>{const o=Lj(r);o.length&&(s.set(r,o),r.render())}),i.forEach(r=>r.measureInitialState()),t.forEach(r=>{r.render();const o=s.get(r);o&&o.forEach(([c,d])=>{var m;(m=r.getValue(c))===null||m===void 0||m.set(d)})}),i.forEach(r=>r.measureEndState()),i.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Kd=!1,Yd=!1,ts.forEach(i=>i.complete()),ts.clear()}function ob(){ts.forEach(i=>{i.readKeyframes(),i.needsMeasurement&&(Kd=!0)})}function Bj(){ob(),lb()}class Vh{constructor(t,s,r,o,c,d=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...t],this.onComplete=s,this.name=r,this.motionValue=o,this.element=c,this.isAsync=d}scheduleResolve(){this.isScheduled=!0,this.isAsync?(ts.add(this),Yd||(Yd=!0,qe.read(ob),qe.resolveKeyframes(lb))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:t,name:s,element:r,motionValue:o}=this;for(let c=0;c<t.length;c++)if(t[c]===null)if(c===0){const d=o==null?void 0:o.get(),m=t[t.length-1];if(d!==void 0)t[0]=d;else if(r&&s){const p=r.readValue(s,m);p!=null&&(t[0]=p)}t[0]===void 0&&(t[0]=m),o&&d===void 0&&o.set(t[0])}else t[c]=t[c-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),ts.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,ts.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const cb=i=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(i),Vj=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Pj(i){const t=Vj.exec(i);if(!t)return[,];const[,s,r,o]=t;return[`--${s??r}`,o]}function ub(i,t,s=1){const[r,o]=Pj(i);if(!r)return;const c=window.getComputedStyle(t).getPropertyValue(r);if(c){const d=c.trim();return cb(d)?parseFloat(d):d}return xh(o)?ub(o,t,s+1):o}const db=i=>t=>t.test(i),qj={test:i=>i==="auto",parse:i=>i},hb=[ha,me,bn,bi,O2,C2,qj],Gg=i=>hb.find(db(i));class fb extends Vh{constructor(t,s,r,o,c){super(t,s,r,o,c,!0)}readKeyframes(){const{unresolvedKeyframes:t,element:s,name:r}=this;if(!s||!s.current)return;super.readKeyframes();for(let p=0;p<t.length;p++){let g=t[p];if(typeof g=="string"&&(g=g.trim(),xh(g))){const v=ub(g,s.current);v!==void 0&&(t[p]=v),p===t.length-1&&(this.finalKeyframe=g)}}if(this.resolveNoneKeyframes(),!Hv.has(r)||t.length!==2)return;const[o,c]=t,d=Gg(o),m=Gg(c);if(d!==m)if(qg(d)&&qg(m))for(let p=0;p<t.length;p++){const g=t[p];typeof g=="string"&&(t[p]=parseFloat(g))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:t,name:s}=this,r=[];for(let o=0;o<t.length;o++)yj(t[o])&&r.push(o);r.length&&Dj(t,r,s)}measureInitialState(){const{element:t,unresolvedKeyframes:s,name:r}=this;if(!t||!t.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=oa[r](t.measureViewportBox(),window.getComputedStyle(t.current)),s[0]=this.measuredOrigin;const o=s[s.length-1];o!==void 0&&t.getValue(r,o).jump(o,!1)}measureEndState(){var t;const{element:s,name:r,unresolvedKeyframes:o}=this;if(!s||!s.current)return;const c=s.getValue(r);c&&c.jump(this.measuredOrigin,!1);const d=o.length-1,m=o[d];o[d]=oa[r](s.measureViewportBox(),window.getComputedStyle(s.current)),m!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=m),!((t=this.removedTransforms)===null||t===void 0)&&t.length&&this.removedTransforms.forEach(([p,g])=>{s.getValue(p).set(g)}),this.resolveNoneKeyframes()}}const Ig=(i,t)=>t==="zIndex"?!1:!!(typeof i=="number"||Array.isArray(i)||typeof i=="string"&&(Ti.test(i)||i==="0")&&!i.startsWith("url("));function $j(i){const t=i[0];if(i.length===1)return!0;for(let s=0;s<i.length;s++)if(i[s]!==t)return!0}function Hj(i,t,s,r){const o=i[0];if(o===null)return!1;if(t==="display"||t==="visibility")return!0;const c=i[i.length-1],d=Ig(o,t),m=Ig(c,t);return!d||!m?!1:$j(i)||(s==="spring"||Ah(s))&&r}const Gj=i=>i!==null;function $o(i,{repeat:t,repeatType:s="loop"},r){const o=i.filter(Gj),c=t&&s!=="loop"&&t%2===1?0:o.length-1;return!c||r===void 0?o[c]:r}const Ij=40;class mb{constructor({autoplay:t=!0,delay:s=0,type:r="keyframes",repeat:o=0,repeatDelay:c=0,repeatType:d="loop",...m}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=xn.now(),this.options={autoplay:t,delay:s,type:r,repeat:o,repeatDelay:c,repeatType:d,...m},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Ij?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&Bj(),this._resolved}onKeyframesResolved(t,s){this.resolvedAt=xn.now(),this.hasAttemptedResolve=!0;const{name:r,type:o,velocity:c,delay:d,onComplete:m,onUpdate:p,isGenerator:g}=this.options;if(!g&&!Hj(t,r,o,c))if(d)this.options.duration=0;else{p&&p($o(t,this.options,s)),m&&m(),this.resolveFinishedPromise();return}const v=this.initPlayback(t,s);v!==!1&&(this._resolved={keyframes:t,finalKeyframe:s,...v},this.onPostResolved())}onPostResolved(){}then(t,s){return this.currentFinishedPromise.then(t,s)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(t=>{this.resolveFinishedPromise=t})}}const Ie=(i,t,s)=>i+(t-i)*s;function vd(i,t,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?i+(t-i)*6*s:s<1/2?t:s<2/3?i+(t-i)*(2/3-s)*6:i}function Yj({hue:i,saturation:t,lightness:s,alpha:r}){i/=360,t/=100,s/=100;let o=0,c=0,d=0;if(!t)o=c=d=s;else{const m=s<.5?s*(1+t):s+t-s*t,p=2*s-m;o=vd(p,m,i+1/3),c=vd(p,m,i),d=vd(p,m,i-1/3)}return{red:Math.round(o*255),green:Math.round(c*255),blue:Math.round(d*255),alpha:r}}function Ao(i,t){return s=>s>0?t:i}const bd=(i,t,s)=>{const r=i*i,o=s*(t*t-r)+r;return o<0?0:Math.sqrt(o)},Kj=[Gd,Wi,Ws],Fj=i=>Kj.find(t=>t.test(i));function Yg(i){const t=Fj(i);if(!t)return!1;let s=t.parse(i);return t===Ws&&(s=Yj(s)),s}const Kg=(i,t)=>{const s=Yg(i),r=Yg(t);if(!s||!r)return Ao(i,t);const o={...s};return c=>(o.red=bd(s.red,r.red,c),o.green=bd(s.green,r.green,c),o.blue=bd(s.blue,r.blue,c),o.alpha=Ie(s.alpha,r.alpha,c),Wi.transform(o))},Xj=(i,t)=>s=>t(i(s)),Lr=(...i)=>i.reduce(Xj),Fd=new Set(["none","hidden"]);function Zj(i,t){return Fd.has(i)?s=>s<=0?i:t:s=>s>=1?t:i}function Qj(i,t){return s=>Ie(i,t,s)}function Ph(i){return typeof i=="number"?Qj:typeof i=="string"?xh(i)?Ao:St.test(i)?Kg:eN:Array.isArray(i)?pb:typeof i=="object"?St.test(i)?Kg:Jj:Ao}function pb(i,t){const s=[...i],r=s.length,o=i.map((c,d)=>Ph(c)(c,t[d]));return c=>{for(let d=0;d<r;d++)s[d]=o[d](c);return s}}function Jj(i,t){const s={...i,...t},r={};for(const o in s)i[o]!==void 0&&t[o]!==void 0&&(r[o]=Ph(i[o])(i[o],t[o]));return o=>{for(const c in r)s[c]=r[c](o);return s}}function Wj(i,t){var s;const r=[],o={color:0,var:0,number:0};for(let c=0;c<t.values.length;c++){const d=t.types[c],m=i.indexes[d][o[d]],p=(s=i.values[m])!==null&&s!==void 0?s:0;r[c]=p,o[d]++}return r}const eN=(i,t)=>{const s=Ti.createTransformer(t),r=zr(i),o=zr(t);return r.indexes.var.length===o.indexes.var.length&&r.indexes.color.length===o.indexes.color.length&&r.indexes.number.length>=o.indexes.number.length?Fd.has(i)&&!o.values.length||Fd.has(t)&&!r.values.length?Zj(i,t):Lr(pb(Wj(r,o),o.values),s):Ao(i,t)};function gb(i,t,s){return typeof i=="number"&&typeof t=="number"&&typeof s=="number"?Ie(i,t,s):Ph(i)(i,t)}const tN=5;function yb(i,t,s){const r=Math.max(t-tN,0);return Gv(s-i(r),t-r)}const Xe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},xd=.001;function nN({duration:i=Xe.duration,bounce:t=Xe.bounce,velocity:s=Xe.velocity,mass:r=Xe.mass}){let o,c,d=1-t;d=In(Xe.minDamping,Xe.maxDamping,d),i=In(Xe.minDuration,Xe.maxDuration,Gn(i)),d<1?(o=g=>{const v=g*d,b=v*i,x=v-s,S=Xd(g,d),w=Math.exp(-b);return xd-x/S*w},c=g=>{const b=g*d*i,x=b*s+s,S=Math.pow(d,2)*Math.pow(g,2)*i,w=Math.exp(-b),T=Xd(Math.pow(g,2),d);return(-o(g)+xd>0?-1:1)*((x-S)*w)/T}):(o=g=>{const v=Math.exp(-g*i),b=(g-s)*i+1;return-xd+v*b},c=g=>{const v=Math.exp(-g*i),b=(s-g)*(i*i);return v*b});const m=5/i,p=sN(o,c,m);if(i=Hn(i),isNaN(p))return{stiffness:Xe.stiffness,damping:Xe.damping,duration:i};{const g=Math.pow(p,2)*r;return{stiffness:g,damping:d*2*Math.sqrt(r*g),duration:i}}}const iN=12;function sN(i,t,s){let r=s;for(let o=1;o<iN;o++)r=r-i(r)/t(r);return r}function Xd(i,t){return i*Math.sqrt(1-t*t)}const aN=["duration","bounce"],rN=["stiffness","damping","mass"];function Fg(i,t){return t.some(s=>i[s]!==void 0)}function lN(i){let t={velocity:Xe.velocity,stiffness:Xe.stiffness,damping:Xe.damping,mass:Xe.mass,isResolvedFromDuration:!1,...i};if(!Fg(i,rN)&&Fg(i,aN))if(i.visualDuration){const s=i.visualDuration,r=2*Math.PI/(s*1.2),o=r*r,c=2*In(.05,1,1-(i.bounce||0))*Math.sqrt(o);t={...t,mass:Xe.mass,stiffness:o,damping:c}}else{const s=nN(i);t={...t,...s,mass:Xe.mass},t.isResolvedFromDuration=!0}return t}function vb(i=Xe.visualDuration,t=Xe.bounce){const s=typeof i!="object"?{visualDuration:i,keyframes:[0,1],bounce:t}:i;let{restSpeed:r,restDelta:o}=s;const c=s.keyframes[0],d=s.keyframes[s.keyframes.length-1],m={done:!1,value:c},{stiffness:p,damping:g,mass:v,duration:b,velocity:x,isResolvedFromDuration:S}=lN({...s,velocity:-Gn(s.velocity||0)}),w=x||0,T=g/(2*Math.sqrt(p*v)),O=d-c,R=Gn(Math.sqrt(p/v)),V=Math.abs(O)<5;r||(r=V?Xe.restSpeed.granular:Xe.restSpeed.default),o||(o=V?Xe.restDelta.granular:Xe.restDelta.default);let D;if(T<1){const X=Xd(R,T);D=Q=>{const J=Math.exp(-T*R*Q);return d-J*((w+T*R*O)/X*Math.sin(X*Q)+O*Math.cos(X*Q))}}else if(T===1)D=X=>d-Math.exp(-R*X)*(O+(w+R*O)*X);else{const X=R*Math.sqrt(T*T-1);D=Q=>{const J=Math.exp(-T*R*Q),W=Math.min(X*Q,300);return d-J*((w+T*R*O)*Math.sinh(W)+X*O*Math.cosh(W))/X}}const Z={calculatedDuration:S&&b||null,next:X=>{const Q=D(X);if(S)m.done=X>=b;else{let J=0;T<1&&(J=X===0?Hn(w):yb(D,X,Q));const W=Math.abs(J)<=r,le=Math.abs(d-Q)<=o;m.done=W&&le}return m.value=m.done?d:Q,m},toString:()=>{const X=Math.min(Uv(Z),qd),Q=Lv(J=>Z.next(X*J).value,X,30);return X+"ms "+Q}};return Z}function Xg({keyframes:i,velocity:t=0,power:s=.8,timeConstant:r=325,bounceDamping:o=10,bounceStiffness:c=500,modifyTarget:d,min:m,max:p,restDelta:g=.5,restSpeed:v}){const b=i[0],x={done:!1,value:b},S=W=>m!==void 0&&W<m||p!==void 0&&W>p,w=W=>m===void 0?p:p===void 0||Math.abs(m-W)<Math.abs(p-W)?m:p;let T=s*t;const O=b+T,R=d===void 0?O:d(O);R!==O&&(T=R-b);const V=W=>-T*Math.exp(-W/r),D=W=>R+V(W),Z=W=>{const le=V(W),Oe=D(W);x.done=Math.abs(le)<=g,x.value=x.done?R:Oe};let X,Q;const J=W=>{S(x.value)&&(X=W,Q=vb({keyframes:[x.value,w(x.value)],velocity:yb(D,W,x.value),damping:o,stiffness:c,restDelta:g,restSpeed:v}))};return J(0),{calculatedDuration:null,next:W=>{let le=!1;return!Q&&X===void 0&&(le=!0,Z(W),J(W)),X!==void 0&&W>=X?Q.next(W-X):(!le&&Z(W),x)}}}const oN=Ur(.42,0,1,1),cN=Ur(0,0,.58,1),bb=Ur(.42,0,.58,1),uN=i=>Array.isArray(i)&&typeof i[0]!="number",dN={linear:Yt,easeIn:oN,easeInOut:bb,easeOut:cN,circIn:Mh,circInOut:Wv,circOut:Jv,backIn:Dh,backInOut:Zv,backOut:Xv,anticipate:Qv},Zg=i=>{if(Ch(i)){gv(i.length===4);const[t,s,r,o]=i;return Ur(t,s,r,o)}else if(typeof i=="string")return dN[i];return i};function hN(i,t,s){const r=[],o=s||gb,c=i.length-1;for(let d=0;d<c;d++){let m=o(i[d],i[d+1]);if(t){const p=Array.isArray(t)?t[d]||Yt:t;m=Lr(p,m)}r.push(m)}return r}function fN(i,t,{clamp:s=!0,ease:r,mixer:o}={}){const c=i.length;if(gv(c===t.length),c===1)return()=>t[0];if(c===2&&t[0]===t[1])return()=>t[1];const d=i[0]===i[1];i[0]>i[c-1]&&(i=[...i].reverse(),t=[...t].reverse());const m=hN(t,r,o),p=m.length,g=v=>{if(d&&v<i[0])return t[0];let b=0;if(p>1)for(;b<i.length-2&&!(v<i[b+1]);b++);const x=ra(i[b],i[b+1],v);return m[b](x)};return s?v=>g(In(i[0],i[c-1],v)):g}function mN(i,t){const s=i[i.length-1];for(let r=1;r<=t;r++){const o=ra(0,t,r);i.push(Ie(s,1,o))}}function pN(i){const t=[0];return mN(t,i.length-1),t}function gN(i,t){return i.map(s=>s*t)}function yN(i,t){return i.map(()=>t||bb).splice(0,i.length-1)}function Co({duration:i=300,keyframes:t,times:s,ease:r="easeInOut"}){const o=uN(r)?r.map(Zg):Zg(r),c={done:!1,value:t[0]},d=gN(s&&s.length===t.length?s:pN(t),i),m=fN(d,t,{ease:Array.isArray(o)?o:yN(t,o)});return{calculatedDuration:i,next:p=>(c.value=m(p),c.done=p>=i,c)}}const vN=i=>{const t=({timestamp:s})=>i(s);return{start:()=>qe.update(t,!0),stop:()=>Si(t),now:()=>bt.isProcessing?bt.timestamp:xn.now()}},bN={decay:Xg,inertia:Xg,tween:Co,keyframes:Co,spring:vb},xN=i=>i/100;class qh extends mb{constructor(t){super(t),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:p}=this.options;p&&p()};const{name:s,motionValue:r,element:o,keyframes:c}=this.options,d=(o==null?void 0:o.KeyframeResolver)||Vh,m=(p,g)=>this.onKeyframesResolved(p,g);this.resolver=new d(c,m,s,r,o),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(t){const{type:s="keyframes",repeat:r=0,repeatDelay:o=0,repeatType:c,velocity:d=0}=this.options,m=Ah(s)?s:bN[s]||Co;let p,g;m!==Co&&typeof t[0]!="number"&&(p=Lr(xN,gb(t[0],t[1])),t=[0,100]);const v=m({...this.options,keyframes:t});c==="mirror"&&(g=m({...this.options,keyframes:[...t].reverse(),velocity:-d})),v.calculatedDuration===null&&(v.calculatedDuration=Uv(v));const{calculatedDuration:b}=v,x=b+o,S=x*(r+1)-o;return{generator:v,mirroredGenerator:g,mapPercentToKeyframes:p,calculatedDuration:b,resolvedDuration:x,totalDuration:S}}onPostResolved(){const{autoplay:t=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!t?this.pause():this.state=this.pendingPlayState}tick(t,s=!1){const{resolved:r}=this;if(!r){const{keyframes:W}=this.options;return{done:!0,value:W[W.length-1]}}const{finalKeyframe:o,generator:c,mirroredGenerator:d,mapPercentToKeyframes:m,keyframes:p,calculatedDuration:g,totalDuration:v,resolvedDuration:b}=r;if(this.startTime===null)return c.next(0);const{delay:x,repeat:S,repeatType:w,repeatDelay:T,onUpdate:O}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,t):this.speed<0&&(this.startTime=Math.min(t-v/this.speed,this.startTime)),s?this.currentTime=t:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(t-this.startTime)*this.speed;const R=this.currentTime-x*(this.speed>=0?1:-1),V=this.speed>=0?R<0:R>v;this.currentTime=Math.max(R,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=v);let D=this.currentTime,Z=c;if(S){const W=Math.min(this.currentTime,v)/b;let le=Math.floor(W),Oe=W%1;!Oe&&W>=1&&(Oe=1),Oe===1&&le--,le=Math.min(le,S+1),!!(le%2)&&(w==="reverse"?(Oe=1-Oe,T&&(Oe-=T/b)):w==="mirror"&&(Z=d)),D=In(0,1,Oe)*b}const X=V?{done:!1,value:p[0]}:Z.next(D);m&&(X.value=m(X.value));let{done:Q}=X;!V&&g!==null&&(Q=this.speed>=0?this.currentTime>=v:this.currentTime<=0);const J=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&Q);return J&&o!==void 0&&(X.value=$o(p,this.options,o)),O&&O(X.value),J&&this.finish(),X}get duration(){const{resolved:t}=this;return t?Gn(t.calculatedDuration):0}get time(){return Gn(this.currentTime)}set time(t){t=Hn(t),this.currentTime=t,this.holdTime!==null||this.speed===0?this.holdTime=t:this.driver&&(this.startTime=this.driver.now()-t/this.speed)}get speed(){return this.playbackSpeed}set speed(t){const s=this.playbackSpeed!==t;this.playbackSpeed=t,s&&(this.time=Gn(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:t=vN,onPlay:s,startTime:r}=this.options;this.driver||(this.driver=t(c=>this.tick(c))),s&&s();const o=this.driver.now();this.holdTime!==null?this.startTime=o-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=o):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var t;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(t=this.currentTime)!==null&&t!==void 0?t:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:t}=this.options;t&&t()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(t){return this.startTime=0,this.tick(t,!0)}}const wN=new Set(["opacity","clipPath","filter","transform"]);function _N(i,t,s,{delay:r=0,duration:o=300,repeat:c=0,repeatType:d="loop",ease:m="easeInOut",times:p}={}){const g={[t]:s};p&&(g.offset=p);const v=Vv(m,o);return Array.isArray(v)&&(g.easing=v),i.animate(g,{delay:r,duration:o,easing:Array.isArray(v)?"linear":v,fill:"both",iterations:c+1,direction:d==="reverse"?"alternate":"normal"})}const SN=fh(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Oo=10,TN=2e4;function jN(i){return Ah(i.type)||i.type==="spring"||!Bv(i.ease)}function NN(i,t){const s=new qh({...t,keyframes:i,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:i[0]};const o=[];let c=0;for(;!r.done&&c<TN;)r=s.sample(c),o.push(r.value),c+=Oo;return{times:void 0,keyframes:o,duration:c-Oo,ease:"linear"}}const xb={anticipate:Qv,backInOut:Zv,circInOut:Wv};function EN(i){return i in xb}class Qg extends mb{constructor(t){super(t);const{name:s,motionValue:r,element:o,keyframes:c}=this.options;this.resolver=new fb(c,(d,m)=>this.onKeyframesResolved(d,m),s,r,o),this.resolver.scheduleResolve()}initPlayback(t,s){let{duration:r=300,times:o,ease:c,type:d,motionValue:m,name:p,startTime:g}=this.options;if(!m.owner||!m.owner.current)return!1;if(typeof c=="string"&&Eo()&&EN(c)&&(c=xb[c]),jN(this.options)){const{onComplete:b,onUpdate:x,motionValue:S,element:w,...T}=this.options,O=NN(t,T);t=O.keyframes,t.length===1&&(t[1]=t[0]),r=O.duration,o=O.times,c=O.ease,d="keyframes"}const v=_N(m.owner.current,p,t,{...this.options,duration:r,times:o,ease:c});return v.startTime=g??this.calcStartTime(),this.pendingTimeline?(Mg(v,this.pendingTimeline),this.pendingTimeline=void 0):v.onfinish=()=>{const{onComplete:b}=this.options;m.set($o(t,this.options,s)),b&&b(),this.cancel(),this.resolveFinishedPromise()},{animation:v,duration:r,times:o,type:d,ease:c,keyframes:t}}get duration(){const{resolved:t}=this;if(!t)return 0;const{duration:s}=t;return Gn(s)}get time(){const{resolved:t}=this;if(!t)return 0;const{animation:s}=t;return Gn(s.currentTime||0)}set time(t){const{resolved:s}=this;if(!s)return;const{animation:r}=s;r.currentTime=Hn(t)}get speed(){const{resolved:t}=this;if(!t)return 1;const{animation:s}=t;return s.playbackRate}set speed(t){const{resolved:s}=this;if(!s)return;const{animation:r}=s;r.playbackRate=t}get state(){const{resolved:t}=this;if(!t)return"idle";const{animation:s}=t;return s.playState}get startTime(){const{resolved:t}=this;if(!t)return null;const{animation:s}=t;return s.startTime}attachTimeline(t){if(!this._resolved)this.pendingTimeline=t;else{const{resolved:s}=this;if(!s)return Yt;const{animation:r}=s;Mg(r,t)}return Yt}play(){if(this.isStopped)return;const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.playState==="finished"&&this.updateFinishedPromise(),s.play()}pause(){const{resolved:t}=this;if(!t)return;const{animation:s}=t;s.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:t}=this;if(!t)return;const{animation:s,keyframes:r,duration:o,type:c,ease:d,times:m}=t;if(s.playState==="idle"||s.playState==="finished")return;if(this.time){const{motionValue:g,onUpdate:v,onComplete:b,element:x,...S}=this.options,w=new qh({...S,keyframes:r,duration:o,type:c,ease:d,times:m,isGenerator:!0}),T=Hn(this.time);g.setWithVelocity(w.sample(T-Oo).value,w.sample(T).value,Oo)}const{onStop:p}=this.options;p&&p(),this.cancel()}complete(){const{resolved:t}=this;t&&t.animation.finish()}cancel(){const{resolved:t}=this;t&&t.animation.cancel()}static supports(t){const{motionValue:s,name:r,repeatDelay:o,repeatType:c,damping:d,type:m}=t;if(!s||!s.owner||!(s.owner.current instanceof HTMLElement))return!1;const{onUpdate:p,transformTemplate:g}=s.owner.getProps();return SN()&&r&&wN.has(r)&&!p&&!g&&!o&&c!=="mirror"&&d!==0&&m!=="inertia"}}const AN={type:"spring",stiffness:500,damping:25,restSpeed:10},CN=i=>({type:"spring",stiffness:550,damping:i===0?2*Math.sqrt(550):30,restSpeed:10}),ON={type:"keyframes",duration:.8},RN={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},zN=(i,{keyframes:t})=>t.length>2?ON:is.has(i)?i.startsWith("scale")?CN(t[1]):AN:RN;function kN({when:i,delay:t,delayChildren:s,staggerChildren:r,staggerDirection:o,repeat:c,repeatType:d,repeatDelay:m,from:p,elapsed:g,...v}){return!!Object.keys(v).length}const $h=(i,t,s,r={},o,c)=>d=>{const m=Eh(r,i)||{},p=m.delay||r.delay||0;let{elapsed:g=0}=r;g=g-Hn(p);let v={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:t.getVelocity(),...m,delay:-g,onUpdate:x=>{t.set(x),m.onUpdate&&m.onUpdate(x)},onComplete:()=>{d(),m.onComplete&&m.onComplete()},name:i,motionValue:t,element:c?void 0:o};kN(m)||(v={...v,...zN(i,v)}),v.duration&&(v.duration=Hn(v.duration)),v.repeatDelay&&(v.repeatDelay=Hn(v.repeatDelay)),v.from!==void 0&&(v.keyframes[0]=v.from);let b=!1;if((v.type===!1||v.duration===0&&!v.repeatDelay)&&(v.duration=0,v.delay===0&&(b=!0)),b&&!c&&t.get()!==void 0){const x=$o(v.keyframes,m);if(x!==void 0)return qe.update(()=>{v.onUpdate(x),v.onComplete()}),new J2([])}return!c&&Qg.supports(v)?new Qg(v):new qh(v)};function DN({protectedKeys:i,needsAnimating:t},s){const r=i.hasOwnProperty(s)&&t[s]!==!0;return t[s]=!1,r}function wb(i,t,{delay:s=0,transitionOverride:r,type:o}={}){var c;let{transition:d=i.getDefaultTransition(),transitionEnd:m,...p}=t;r&&(d=r);const g=[],v=o&&i.animationState&&i.animationState.getState()[o];for(const b in p){const x=i.getValue(b,(c=i.latestValues[b])!==null&&c!==void 0?c:null),S=p[b];if(S===void 0||v&&DN(v,b))continue;const w={delay:s,...Eh(d||{},b)};let T=!1;if(window.MotionHandoffAnimation){const R=Iv(i);if(R){const V=window.MotionHandoffAnimation(R,b,qe);V!==null&&(w.startTime=V,T=!0)}}Hd(i,b),x.start($h(b,x,S,i.shouldReduceMotion&&Hv.has(b)?{type:!1}:w,i,T));const O=x.animation;O&&g.push(O)}return m&&Promise.all(g).then(()=>{qe.update(()=>{m&&hj(i,m)})}),g}function Zd(i,t,s={}){var r;const o=qo(i,t,s.type==="exit"?(r=i.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:c=i.getDefaultTransition()||{}}=o||{};s.transitionOverride&&(c=s.transitionOverride);const d=o?()=>Promise.all(wb(i,o,s)):()=>Promise.resolve(),m=i.variantChildren&&i.variantChildren.size?(g=0)=>{const{delayChildren:v=0,staggerChildren:b,staggerDirection:x}=c;return MN(i,t,v+g,b,x,s)}:()=>Promise.resolve(),{when:p}=c;if(p){const[g,v]=p==="beforeChildren"?[d,m]:[m,d];return g().then(()=>v())}else return Promise.all([d(),m(s.delay)])}function MN(i,t,s=0,r=0,o=1,c){const d=[],m=(i.variantChildren.size-1)*r,p=o===1?(g=0)=>g*r:(g=0)=>m-g*r;return Array.from(i.variantChildren).sort(UN).forEach((g,v)=>{g.notify("AnimationStart",t),d.push(Zd(g,t,{...c,delay:s+p(v)}).then(()=>g.notify("AnimationComplete",t)))}),Promise.all(d)}function UN(i,t){return i.sortNodePosition(t)}function LN(i,t,s={}){i.notify("AnimationStart",t);let r;if(Array.isArray(t)){const o=t.map(c=>Zd(i,c,s));r=Promise.all(o)}else if(typeof t=="string")r=Zd(i,t,s);else{const o=typeof t=="function"?qo(i,t,s.custom):t;r=Promise.all(wb(i,o,s))}return r.then(()=>{i.notify("AnimationComplete",t)})}const BN=ph.length;function _b(i){if(!i)return;if(!i.isControllingVariants){const s=i.parent?_b(i.parent)||{}:{};return i.props.initial!==void 0&&(s.initial=i.props.initial),s}const t={};for(let s=0;s<BN;s++){const r=ph[s],o=i.props[r];(Cr(o)||o===!1)&&(t[r]=o)}return t}const VN=[...mh].reverse(),PN=mh.length;function qN(i){return t=>Promise.all(t.map(({animation:s,options:r})=>LN(i,s,r)))}function $N(i){let t=qN(i),s=Jg(),r=!0;const o=p=>(g,v)=>{var b;const x=qo(i,v,p==="exit"?(b=i.presenceContext)===null||b===void 0?void 0:b.custom:void 0);if(x){const{transition:S,transitionEnd:w,...T}=x;g={...g,...T,...w}}return g};function c(p){t=p(i)}function d(p){const{props:g}=i,v=_b(i.parent)||{},b=[],x=new Set;let S={},w=1/0;for(let O=0;O<PN;O++){const R=VN[O],V=s[R],D=g[R]!==void 0?g[R]:v[R],Z=Cr(D),X=R===p?V.isActive:null;X===!1&&(w=O);let Q=D===v[R]&&D!==g[R]&&Z;if(Q&&r&&i.manuallyAnimateOnMount&&(Q=!1),V.protectedKeys={...S},!V.isActive&&X===null||!D&&!V.prevProp||Vo(D)||typeof D=="boolean")continue;const J=HN(V.prevProp,D);let W=J||R===p&&V.isActive&&!Q&&Z||O>w&&Z,le=!1;const Oe=Array.isArray(D)?D:[D];let Ge=Oe.reduce(o(R),{});X===!1&&(Ge={});const{prevResolvedValues:$e={}}=V,We={...$e,...Ge},et=U=>{W=!0,x.has(U)&&(le=!0,x.delete(U)),V.needsAnimating[U]=!0;const H=i.getValue(U);H&&(H.liveStyle=!1)};for(const U in We){const H=Ge[U],te=$e[U];if(S.hasOwnProperty(U))continue;let ne=!1;Pd(H)&&Pd(te)?ne=!Mv(H,te):ne=H!==te,ne?H!=null?et(U):x.add(U):H!==void 0&&x.has(U)?et(U):V.protectedKeys[U]=!0}V.prevProp=D,V.prevResolvedValues=Ge,V.isActive&&(S={...S,...Ge}),r&&i.blockInitialAnimation&&(W=!1),W&&(!(Q&&J)||le)&&b.push(...Oe.map(U=>({animation:U,options:{type:R}})))}if(x.size){const O={};x.forEach(R=>{const V=i.getBaseTarget(R),D=i.getValue(R);D&&(D.liveStyle=!0),O[R]=V??null}),b.push({animation:O})}let T=!!b.length;return r&&(g.initial===!1||g.initial===g.animate)&&!i.manuallyAnimateOnMount&&(T=!1),r=!1,T?t(b):Promise.resolve()}function m(p,g){var v;if(s[p].isActive===g)return Promise.resolve();(v=i.variantChildren)===null||v===void 0||v.forEach(x=>{var S;return(S=x.animationState)===null||S===void 0?void 0:S.setActive(p,g)}),s[p].isActive=g;const b=d(p);for(const x in s)s[x].protectedKeys={};return b}return{animateChanges:d,setActive:m,setAnimateFunction:c,getState:()=>s,reset:()=>{s=Jg(),r=!0}}}function HN(i,t){return typeof t=="string"?t!==i:Array.isArray(t)?!Mv(t,i):!1}function Yi(i=!1){return{isActive:i,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function Jg(){return{animate:Yi(!0),whileInView:Yi(),whileHover:Yi(),whileTap:Yi(),whileDrag:Yi(),whileFocus:Yi(),exit:Yi()}}class ji{constructor(t){this.isMounted=!1,this.node=t}update(){}}class GN extends ji{constructor(t){super(t),t.animationState||(t.animationState=$N(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();Vo(t)&&(this.unmountControls=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:s}=this.node.prevProps||{};t!==s&&this.updateAnimationControlsSubscription()}unmount(){var t;this.node.animationState.reset(),(t=this.unmountControls)===null||t===void 0||t.call(this)}}let IN=0;class YN extends ji{constructor(){super(...arguments),this.id=IN++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:s}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===r)return;const o=this.node.animationState.setActive("exit",!t);s&&!t&&o.then(()=>s(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const KN={animation:{Feature:GN},exit:{Feature:YN}};function kr(i,t,s,r={passive:!0}){return i.addEventListener(t,s,r),()=>i.removeEventListener(t,s)}function Br(i){return{point:{x:i.pageX,y:i.pageY}}}const FN=i=>t=>Oh(t)&&i(t,Br(t));function vr(i,t,s,r){return kr(i,t,FN(s),r)}const Wg=(i,t)=>Math.abs(i-t);function XN(i,t){const s=Wg(i.x,t.x),r=Wg(i.y,t.y);return Math.sqrt(s**2+r**2)}class Sb{constructor(t,s,{transformPagePoint:r,contextWindow:o,dragSnapToOrigin:c=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=_d(this.lastMoveEventInfo,this.history),x=this.startEvent!==null,S=XN(b.offset,{x:0,y:0})>=3;if(!x&&!S)return;const{point:w}=b,{timestamp:T}=bt;this.history.push({...w,timestamp:T});const{onStart:O,onMove:R}=this.handlers;x||(O&&O(this.lastMoveEvent,b),this.startEvent=this.lastMoveEvent),R&&R(this.lastMoveEvent,b)},this.handlePointerMove=(b,x)=>{this.lastMoveEvent=b,this.lastMoveEventInfo=wd(x,this.transformPagePoint),qe.update(this.updatePoint,!0)},this.handlePointerUp=(b,x)=>{this.end();const{onEnd:S,onSessionEnd:w,resumeAnimation:T}=this.handlers;if(this.dragSnapToOrigin&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const O=_d(b.type==="pointercancel"?this.lastMoveEventInfo:wd(x,this.transformPagePoint),this.history);this.startEvent&&S&&S(b,O),w&&w(b,O)},!Oh(t))return;this.dragSnapToOrigin=c,this.handlers=s,this.transformPagePoint=r,this.contextWindow=o||window;const d=Br(t),m=wd(d,this.transformPagePoint),{point:p}=m,{timestamp:g}=bt;this.history=[{...p,timestamp:g}];const{onSessionStart:v}=s;v&&v(t,_d(m,this.history)),this.removeListeners=Lr(vr(this.contextWindow,"pointermove",this.handlePointerMove),vr(this.contextWindow,"pointerup",this.handlePointerUp),vr(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),Si(this.updatePoint)}}function wd(i,t){return t?{point:t(i.point)}:i}function ey(i,t){return{x:i.x-t.x,y:i.y-t.y}}function _d({point:i},t){return{point:i,delta:ey(i,Tb(t)),offset:ey(i,ZN(t)),velocity:QN(t,.1)}}function ZN(i){return i[0]}function Tb(i){return i[i.length-1]}function QN(i,t){if(i.length<2)return{x:0,y:0};let s=i.length-1,r=null;const o=Tb(i);for(;s>=0&&(r=i[s],!(o.timestamp-r.timestamp>Hn(t)));)s--;if(!r)return{x:0,y:0};const c=Gn(o.timestamp-r.timestamp);if(c===0)return{x:0,y:0};const d={x:(o.x-r.x)/c,y:(o.y-r.y)/c};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}const jb=1e-4,JN=1-jb,WN=1+jb,Nb=.01,eE=0-Nb,tE=0+Nb;function Kt(i){return i.max-i.min}function nE(i,t,s){return Math.abs(i-t)<=s}function ty(i,t,s,r=.5){i.origin=r,i.originPoint=Ie(t.min,t.max,i.origin),i.scale=Kt(s)/Kt(t),i.translate=Ie(s.min,s.max,i.origin)-i.originPoint,(i.scale>=JN&&i.scale<=WN||isNaN(i.scale))&&(i.scale=1),(i.translate>=eE&&i.translate<=tE||isNaN(i.translate))&&(i.translate=0)}function br(i,t,s,r){ty(i.x,t.x,s.x,r?r.originX:void 0),ty(i.y,t.y,s.y,r?r.originY:void 0)}function ny(i,t,s){i.min=s.min+t.min,i.max=i.min+Kt(t)}function iE(i,t,s){ny(i.x,t.x,s.x),ny(i.y,t.y,s.y)}function iy(i,t,s){i.min=t.min-s.min,i.max=i.min+Kt(t)}function xr(i,t,s){iy(i.x,t.x,s.x),iy(i.y,t.y,s.y)}function sE(i,{min:t,max:s},r){return t!==void 0&&i<t?i=r?Ie(t,i,r.min):Math.max(i,t):s!==void 0&&i>s&&(i=r?Ie(s,i,r.max):Math.min(i,s)),i}function sy(i,t,s){return{min:t!==void 0?i.min+t:void 0,max:s!==void 0?i.max+s-(i.max-i.min):void 0}}function aE(i,{top:t,left:s,bottom:r,right:o}){return{x:sy(i.x,s,o),y:sy(i.y,t,r)}}function ay(i,t){let s=t.min-i.min,r=t.max-i.max;return t.max-t.min<i.max-i.min&&([s,r]=[r,s]),{min:s,max:r}}function rE(i,t){return{x:ay(i.x,t.x),y:ay(i.y,t.y)}}function lE(i,t){let s=.5;const r=Kt(i),o=Kt(t);return o>r?s=ra(t.min,t.max-r,i.min):r>o&&(s=ra(i.min,i.max-o,t.min)),In(0,1,s)}function oE(i,t){const s={};return t.min!==void 0&&(s.min=t.min-i.min),t.max!==void 0&&(s.max=t.max-i.min),s}const Qd=.35;function cE(i=Qd){return i===!1?i=0:i===!0&&(i=Qd),{x:ry(i,"left","right"),y:ry(i,"top","bottom")}}function ry(i,t,s){return{min:ly(i,t),max:ly(i,s)}}function ly(i,t){return typeof i=="number"?i:i[t]||0}const oy=()=>({translate:0,scale:1,origin:0,originPoint:0}),ea=()=>({x:oy(),y:oy()}),cy=()=>({min:0,max:0}),Je=()=>({x:cy(),y:cy()});function rn(i){return[i("x"),i("y")]}function Eb({top:i,left:t,right:s,bottom:r}){return{x:{min:t,max:s},y:{min:i,max:r}}}function uE({x:i,y:t}){return{top:t.min,right:i.max,bottom:t.max,left:i.min}}function dE(i,t){if(!t)return i;const s=t({x:i.left,y:i.top}),r=t({x:i.right,y:i.bottom});return{top:s.y,left:s.x,bottom:r.y,right:r.x}}function Sd(i){return i===void 0||i===1}function Jd({scale:i,scaleX:t,scaleY:s}){return!Sd(i)||!Sd(t)||!Sd(s)}function Fi(i){return Jd(i)||Ab(i)||i.z||i.rotate||i.rotateX||i.rotateY||i.skewX||i.skewY}function Ab(i){return uy(i.x)||uy(i.y)}function uy(i){return i&&i!=="0%"}function Ro(i,t,s){const r=i-s,o=t*r;return s+o}function dy(i,t,s,r,o){return o!==void 0&&(i=Ro(i,o,r)),Ro(i,s,r)+t}function Wd(i,t=0,s=1,r,o){i.min=dy(i.min,t,s,r,o),i.max=dy(i.max,t,s,r,o)}function Cb(i,{x:t,y:s}){Wd(i.x,t.translate,t.scale,t.originPoint),Wd(i.y,s.translate,s.scale,s.originPoint)}const hy=.999999999999,fy=1.0000000000001;function hE(i,t,s,r=!1){const o=s.length;if(!o)return;t.x=t.y=1;let c,d;for(let m=0;m<o;m++){c=s[m],d=c.projectionDelta;const{visualElement:p}=c.options;p&&p.props.style&&p.props.style.display==="contents"||(r&&c.options.layoutScroll&&c.scroll&&c!==c.root&&na(i,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),d&&(t.x*=d.x.scale,t.y*=d.y.scale,Cb(i,d)),r&&Fi(c.latestValues)&&na(i,c.latestValues))}t.x<fy&&t.x>hy&&(t.x=1),t.y<fy&&t.y>hy&&(t.y=1)}function ta(i,t){i.min=i.min+t,i.max=i.max+t}function my(i,t,s,r,o=.5){const c=Ie(i.min,i.max,o);Wd(i,t,s,c,r)}function na(i,t){my(i.x,t.x,t.scaleX,t.scale,t.originX),my(i.y,t.y,t.scaleY,t.scale,t.originY)}function Ob(i,t){return Eb(dE(i.getBoundingClientRect(),t))}function fE(i,t,s){const r=Ob(i,s),{scroll:o}=t;return o&&(ta(r.x,o.offset.x),ta(r.y,o.offset.y)),r}const Rb=({current:i})=>i?i.ownerDocument.defaultView:null,mE=new WeakMap;class pE{constructor(t){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Je(),this.visualElement=t}start(t,{snapToCursor:s=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const o=v=>{const{dragSnapToOrigin:b}=this.getProps();b?this.pauseAnimation():this.stopAnimation(),s&&this.snapToCursor(Br(v).point)},c=(v,b)=>{const{drag:x,dragPropagation:S,onDragStart:w}=this.getProps();if(x&&!S&&(this.openDragLock&&this.openDragLock(),this.openDragLock=lj(x),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),rn(O=>{let R=this.getAxisMotionValue(O).get()||0;if(bn.test(R)){const{projection:V}=this.visualElement;if(V&&V.layout){const D=V.layout.layoutBox[O];D&&(R=Kt(D)*(parseFloat(R)/100))}}this.originPoint[O]=R}),w&&qe.postRender(()=>w(v,b)),Hd(this.visualElement,"transform");const{animationState:T}=this.visualElement;T&&T.setActive("whileDrag",!0)},d=(v,b)=>{const{dragPropagation:x,dragDirectionLock:S,onDirectionLock:w,onDrag:T}=this.getProps();if(!x&&!this.openDragLock)return;const{offset:O}=b;if(S&&this.currentDirection===null){this.currentDirection=gE(O),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",b.point,O),this.updateAxis("y",b.point,O),this.visualElement.render(),T&&T(v,b)},m=(v,b)=>this.stop(v,b),p=()=>rn(v=>{var b;return this.getAnimationState(v)==="paused"&&((b=this.getAxisMotionValue(v).animation)===null||b===void 0?void 0:b.play())}),{dragSnapToOrigin:g}=this.getProps();this.panSession=new Sb(t,{onSessionStart:o,onStart:c,onMove:d,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,contextWindow:Rb(this.visualElement)})}stop(t,s){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:o}=s;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&qe.postRender(()=>c(t,s))}cancel(){this.isDragging=!1;const{projection:t,animationState:s}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}updateAxis(t,s,r){const{drag:o}=this.getProps();if(!r||!fo(t,o,this.currentDirection))return;const c=this.getAxisMotionValue(t);let d=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(d=sE(d,this.constraints[t],this.elastic[t])),c.set(d)}resolveConstraints(){var t;const{dragConstraints:s,dragElastic:r}=this.getProps(),o=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,c=this.constraints;s&&Js(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&o?this.constraints=aE(o.layoutBox,s):this.constraints=!1,this.elastic=cE(r),c!==this.constraints&&o&&this.constraints&&!this.hasMutatedConstraints&&rn(d=>{this.constraints!==!1&&this.getAxisMotionValue(d)&&(this.constraints[d]=oE(o.layoutBox[d],this.constraints[d]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:s}=this.getProps();if(!t||!Js(t))return!1;const r=t.current,{projection:o}=this.visualElement;if(!o||!o.layout)return!1;const c=fE(r,o.root,this.visualElement.getTransformPagePoint());let d=rE(o.layout.layoutBox,c);if(s){const m=s(uE(d));this.hasMutatedConstraints=!!m,m&&(d=Eb(m))}return d}startAnimation(t){const{drag:s,dragMomentum:r,dragElastic:o,dragTransition:c,dragSnapToOrigin:d,onDragTransitionEnd:m}=this.getProps(),p=this.constraints||{},g=rn(v=>{if(!fo(v,s,this.currentDirection))return;let b=p&&p[v]||{};d&&(b={min:0,max:0});const x=o?200:1e6,S=o?40:1e7,w={type:"inertia",velocity:r?t[v]:0,bounceStiffness:x,bounceDamping:S,timeConstant:750,restDelta:1,restSpeed:10,...c,...b};return this.startAxisValueAnimation(v,w)});return Promise.all(g).then(m)}startAxisValueAnimation(t,s){const r=this.getAxisMotionValue(t);return Hd(this.visualElement,t),r.start($h(t,r,0,s,this.visualElement,!1))}stopAnimation(){rn(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){rn(t=>{var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.pause()})}getAnimationState(t){var s;return(s=this.getAxisMotionValue(t).animation)===null||s===void 0?void 0:s.state}getAxisMotionValue(t){const s=`_drag${t.toUpperCase()}`,r=this.visualElement.getProps(),o=r[s];return o||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){rn(s=>{const{drag:r}=this.getProps();if(!fo(s,r,this.currentDirection))return;const{projection:o}=this.visualElement,c=this.getAxisMotionValue(s);if(o&&o.layout){const{min:d,max:m}=o.layout.layoutBox[s];c.set(t[s]-Ie(d,m,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:s}=this.getProps(),{projection:r}=this.visualElement;if(!Js(s)||!r||!this.constraints)return;this.stopAnimation();const o={x:0,y:0};rn(d=>{const m=this.getAxisMotionValue(d);if(m&&this.constraints!==!1){const p=m.get();o[d]=lE({min:p,max:p},this.constraints[d])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),rn(d=>{if(!fo(d,t,null))return;const m=this.getAxisMotionValue(d),{min:p,max:g}=this.constraints[d];m.set(Ie(p,g,o[d]))})}addListeners(){if(!this.visualElement.current)return;mE.set(this.visualElement,this);const t=this.visualElement.current,s=vr(t,"pointerdown",p=>{const{drag:g,dragListener:v=!0}=this.getProps();g&&v&&this.start(p)}),r=()=>{const{dragConstraints:p}=this.getProps();Js(p)&&p.current&&(this.constraints=this.resolveRefConstraints())},{projection:o}=this.visualElement,c=o.addEventListener("measure",r);o&&!o.layout&&(o.root&&o.root.updateScroll(),o.updateLayout()),qe.read(r);const d=kr(window,"resize",()=>this.scalePositionWithinConstraints()),m=o.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(rn(v=>{const b=this.getAxisMotionValue(v);b&&(this.originPoint[v]+=p[v].translate,b.set(b.get()+p[v].translate))}),this.visualElement.render())}));return()=>{d(),s(),c(),m&&m()}}getProps(){const t=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:r=!1,dragPropagation:o=!1,dragConstraints:c=!1,dragElastic:d=Qd,dragMomentum:m=!0}=t;return{...t,drag:s,dragDirectionLock:r,dragPropagation:o,dragConstraints:c,dragElastic:d,dragMomentum:m}}}function fo(i,t,s){return(t===!0||t===i)&&(s===null||s===i)}function gE(i,t=10){let s=null;return Math.abs(i.y)>t?s="y":Math.abs(i.x)>t&&(s="x"),s}class yE extends ji{constructor(t){super(t),this.removeGroupControls=Yt,this.removeListeners=Yt,this.controls=new pE(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Yt}unmount(){this.removeGroupControls(),this.removeListeners()}}const py=i=>(t,s)=>{i&&qe.postRender(()=>i(t,s))};class vE extends ji{constructor(){super(...arguments),this.removePointerDownListener=Yt}onPointerDown(t){this.session=new Sb(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Rb(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:s,onPan:r,onPanEnd:o}=this.node.getProps();return{onSessionStart:py(t),onStart:py(s),onMove:r,onEnd:(c,d)=>{delete this.session,o&&qe.postRender(()=>o(c,d))}}}mount(){this.removePointerDownListener=vr(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const bo={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function gy(i,t){return t.max===t.min?0:i/(t.max-t.min)*100}const ur={correct:(i,t)=>{if(!t.target)return i;if(typeof i=="string")if(me.test(i))i=parseFloat(i);else return i;const s=gy(i,t.target.x),r=gy(i,t.target.y);return`${s}% ${r}%`}},bE={correct:(i,{treeScale:t,projectionDelta:s})=>{const r=i,o=Ti.parse(i);if(o.length>5)return r;const c=Ti.createTransformer(i),d=typeof o[0]!="number"?1:0,m=s.x.scale*t.x,p=s.y.scale*t.y;o[0+d]/=m,o[1+d]/=p;const g=Ie(m,p,.5);return typeof o[2+d]=="number"&&(o[2+d]/=g),typeof o[3+d]=="number"&&(o[3+d]/=g),c(o)}};class xE extends $.Component{componentDidMount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r,layoutId:o}=this.props,{projection:c}=t;P2(wE),c&&(s.group&&s.group.add(c),r&&r.register&&o&&r.register(c),c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,onExitComplete:()=>this.safeToRemove()})),bo.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:s,visualElement:r,drag:o,isPresent:c}=this.props,d=r.projection;return d&&(d.isPresent=c,o||t.layoutDependency!==s||s===void 0?d.willUpdate():this.safeToRemove(),t.isPresent!==c&&(c?d.promote():d.relegate()||qe.postRender(()=>{const m=d.getStack();(!m||!m.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),yh.postRender(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:s,switchLayoutGroup:r}=this.props,{projection:o}=t;o&&(o.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(o),r&&r.deregister&&r.deregister(o))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function zb(i){const[t,s]=mv(),r=$.useContext(ch);return f.jsx(xE,{...i,layoutGroup:r,switchLayoutGroup:$.useContext(_v),isPresent:t,safeToRemove:s})}const wE={borderRadius:{...ur,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ur,borderTopRightRadius:ur,borderBottomLeftRadius:ur,borderBottomRightRadius:ur,boxShadow:bE};function _E(i,t,s){const r=Tt(i)?i:Rr(i);return r.start($h("",r,t,s)),r.animation}function SE(i){return i instanceof SVGElement&&i.tagName!=="svg"}const TE=(i,t)=>i.depth-t.depth;class jE{constructor(){this.children=[],this.isDirty=!1}add(t){Rh(this.children,t),this.isDirty=!0}remove(t){zh(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(TE),this.isDirty=!1,this.children.forEach(t)}}function NE(i,t){const s=xn.now(),r=({timestamp:o})=>{const c=o-s;c>=t&&(Si(r),i(c-t))};return qe.read(r,!0),()=>Si(r)}const kb=["TopLeft","TopRight","BottomLeft","BottomRight"],EE=kb.length,yy=i=>typeof i=="string"?parseFloat(i):i,vy=i=>typeof i=="number"||me.test(i);function AE(i,t,s,r,o,c){o?(i.opacity=Ie(0,s.opacity!==void 0?s.opacity:1,CE(r)),i.opacityExit=Ie(t.opacity!==void 0?t.opacity:1,0,OE(r))):c&&(i.opacity=Ie(t.opacity!==void 0?t.opacity:1,s.opacity!==void 0?s.opacity:1,r));for(let d=0;d<EE;d++){const m=`border${kb[d]}Radius`;let p=by(t,m),g=by(s,m);if(p===void 0&&g===void 0)continue;p||(p=0),g||(g=0),p===0||g===0||vy(p)===vy(g)?(i[m]=Math.max(Ie(yy(p),yy(g),r),0),(bn.test(g)||bn.test(p))&&(i[m]+="%")):i[m]=g}(t.rotate||s.rotate)&&(i.rotate=Ie(t.rotate||0,s.rotate||0,r))}function by(i,t){return i[t]!==void 0?i[t]:i.borderRadius}const CE=Db(0,.5,Jv),OE=Db(.5,.95,Yt);function Db(i,t,s){return r=>r<i?0:r>t?1:s(ra(i,t,r))}function xy(i,t){i.min=t.min,i.max=t.max}function an(i,t){xy(i.x,t.x),xy(i.y,t.y)}function wy(i,t){i.translate=t.translate,i.scale=t.scale,i.originPoint=t.originPoint,i.origin=t.origin}function _y(i,t,s,r,o){return i-=t,i=Ro(i,1/s,r),o!==void 0&&(i=Ro(i,1/o,r)),i}function RE(i,t=0,s=1,r=.5,o,c=i,d=i){if(bn.test(t)&&(t=parseFloat(t),t=Ie(d.min,d.max,t/100)-d.min),typeof t!="number")return;let m=Ie(c.min,c.max,r);i===c&&(m-=t),i.min=_y(i.min,t,s,m,o),i.max=_y(i.max,t,s,m,o)}function Sy(i,t,[s,r,o],c,d){RE(i,t[s],t[r],t[o],t.scale,c,d)}const zE=["x","scaleX","originX"],kE=["y","scaleY","originY"];function Ty(i,t,s,r){Sy(i.x,t,zE,s?s.x:void 0,r?r.x:void 0),Sy(i.y,t,kE,s?s.y:void 0,r?r.y:void 0)}function jy(i){return i.translate===0&&i.scale===1}function Mb(i){return jy(i.x)&&jy(i.y)}function Ny(i,t){return i.min===t.min&&i.max===t.max}function DE(i,t){return Ny(i.x,t.x)&&Ny(i.y,t.y)}function Ey(i,t){return Math.round(i.min)===Math.round(t.min)&&Math.round(i.max)===Math.round(t.max)}function Ub(i,t){return Ey(i.x,t.x)&&Ey(i.y,t.y)}function Ay(i){return Kt(i.x)/Kt(i.y)}function Cy(i,t){return i.translate===t.translate&&i.scale===t.scale&&i.originPoint===t.originPoint}class ME{constructor(){this.members=[]}add(t){Rh(this.members,t),t.scheduleRender()}remove(t){if(zh(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(t){const s=this.members.findIndex(o=>t===o);if(s===0)return!1;let r;for(let o=s;o>=0;o--){const c=this.members[o];if(c.isPresent!==!1){r=c;break}}return r?(this.promote(r),!0):!1}promote(t,s){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,s&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:o}=t.options;o===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:s,resumingFrom:r}=t;s.onExitComplete&&s.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function UE(i,t,s){let r="";const o=i.x.translate/t.x,c=i.y.translate/t.y,d=(s==null?void 0:s.z)||0;if((o||c||d)&&(r=`translate3d(${o}px, ${c}px, ${d}px) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),s){const{transformPerspective:g,rotate:v,rotateX:b,rotateY:x,skewX:S,skewY:w}=s;g&&(r=`perspective(${g}px) ${r}`),v&&(r+=`rotate(${v}deg) `),b&&(r+=`rotateX(${b}deg) `),x&&(r+=`rotateY(${x}deg) `),S&&(r+=`skewX(${S}deg) `),w&&(r+=`skewY(${w}deg) `)}const m=i.x.scale*t.x,p=i.y.scale*t.y;return(m!==1||p!==1)&&(r+=`scale(${m}, ${p})`),r||"none"}const Xi={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},mr=typeof window<"u"&&window.MotionDebug!==void 0,Td=["","X","Y","Z"],LE={visibility:"hidden"},Oy=1e3;let BE=0;function jd(i,t,s,r){const{latestValues:o}=t;o[i]&&(s[i]=o[i],t.setStaticValue(i,0),r&&(r[i]=0))}function Lb(i){if(i.hasCheckedOptimisedAppear=!0,i.root===i)return;const{visualElement:t}=i.options;if(!t)return;const s=Iv(t);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:o,layoutId:c}=i.options;window.MotionCancelOptimisedAnimation(s,"transform",qe,!(o||c))}const{parent:r}=i;r&&!r.hasCheckedOptimisedAppear&&Lb(r)}function Bb({attachResizeListener:i,defaultParent:t,measureScroll:s,checkIsScrollRoot:r,resetTransform:o}){return class{constructor(d={},m=t==null?void 0:t()){this.id=BE++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,mr&&(Xi.totalNodes=Xi.resolvedTargetDeltas=Xi.recalculatedProjection=0),this.nodes.forEach(qE),this.nodes.forEach(YE),this.nodes.forEach(KE),this.nodes.forEach($E),mr&&window.MotionDebug.record(Xi)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=m?m.root||m:this,this.path=m?[...m.path,m]:[],this.parent=m,this.depth=m?m.depth+1:0;for(let p=0;p<this.path.length;p++)this.path[p].shouldResetTransform=!0;this.root===this&&(this.nodes=new jE)}addEventListener(d,m){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new kh),this.eventHandlers.get(d).add(m)}notifyListeners(d,...m){const p=this.eventHandlers.get(d);p&&p.notify(...m)}hasListeners(d){return this.eventHandlers.has(d)}mount(d,m=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=SE(d),this.instance=d;const{layoutId:p,layout:g,visualElement:v}=this.options;if(v&&!v.current&&v.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),m&&(g||p)&&(this.isLayoutDirty=!0),i){let b;const x=()=>this.root.updateBlockedByResize=!1;i(d,()=>{this.root.updateBlockedByResize=!0,b&&b(),b=NE(x,250),bo.hasAnimatedSinceResize&&(bo.hasAnimatedSinceResize=!1,this.nodes.forEach(zy))})}p&&this.root.registerSharedNode(p,this),this.options.animate!==!1&&v&&(p||g)&&this.addEventListener("didUpdate",({delta:b,hasLayoutChanged:x,hasRelativeTargetChanged:S,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const T=this.options.transition||v.getDefaultTransition()||JE,{onLayoutAnimationStart:O,onLayoutAnimationComplete:R}=v.getProps(),V=!this.targetLayout||!Ub(this.targetLayout,w)||S,D=!x&&S;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||D||x&&(V||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(b,D);const Z={...Eh(T,"layout"),onPlay:O,onComplete:R};(v.shouldReduceMotion||this.options.layoutRoot)&&(Z.delay=0,Z.type=!1),this.startAnimation(Z)}else x||zy(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Si(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(FE),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&Lb(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let v=0;v<this.path.length;v++){const b=this.path[v];b.shouldResetTransform=!0,b.updateScroll("snapshot"),b.options.layoutRoot&&b.willUpdate(!1)}const{layoutId:m,layout:p}=this.options;if(m===void 0&&!p)return;const g=this.getTransformTemplate();this.prevTransformTemplateValue=g?g(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(Ry);return}this.isUpdating||this.nodes.forEach(GE),this.isUpdating=!1,this.nodes.forEach(IE),this.nodes.forEach(VE),this.nodes.forEach(PE),this.clearAllSnapshots();const m=xn.now();bt.delta=In(0,1e3/60,m-bt.timestamp),bt.timestamp=m,bt.isProcessing=!0,pd.update.process(bt),pd.preRender.process(bt),pd.render.process(bt),bt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,yh.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(HE),this.sharedNodes.forEach(XE)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,qe.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){qe.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let p=0;p<this.path.length;p++)this.path[p].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Je(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:m}=this.options;m&&m.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let m=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(m=!1),m){const p=r(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:p,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:p}}}resetTransform(){if(!o)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,m=this.projectionDelta&&!Mb(this.projectionDelta),p=this.getTransformTemplate(),g=p?p(this.latestValues,""):void 0,v=g!==this.prevTransformTemplateValue;d&&(m||Fi(this.latestValues)||v)&&(o(this.instance,g),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const m=this.measurePageBox();let p=this.removeElementScroll(m);return d&&(p=this.removeTransform(p)),WE(p),{animationId:this.root.animationId,measuredBox:m,layoutBox:p,latestValues:{},source:this.id}}measurePageBox(){var d;const{visualElement:m}=this.options;if(!m)return Je();const p=m.measureViewportBox();if(!(((d=this.scroll)===null||d===void 0?void 0:d.wasRoot)||this.path.some(eA))){const{scroll:v}=this.root;v&&(ta(p.x,v.offset.x),ta(p.y,v.offset.y))}return p}removeElementScroll(d){var m;const p=Je();if(an(p,d),!((m=this.scroll)===null||m===void 0)&&m.wasRoot)return p;for(let g=0;g<this.path.length;g++){const v=this.path[g],{scroll:b,options:x}=v;v!==this.root&&b&&x.layoutScroll&&(b.wasRoot&&an(p,d),ta(p.x,b.offset.x),ta(p.y,b.offset.y))}return p}applyTransform(d,m=!1){const p=Je();an(p,d);for(let g=0;g<this.path.length;g++){const v=this.path[g];!m&&v.options.layoutScroll&&v.scroll&&v!==v.root&&na(p,{x:-v.scroll.offset.x,y:-v.scroll.offset.y}),Fi(v.latestValues)&&na(p,v.latestValues)}return Fi(this.latestValues)&&na(p,this.latestValues),p}removeTransform(d){const m=Je();an(m,d);for(let p=0;p<this.path.length;p++){const g=this.path[p];if(!g.instance||!Fi(g.latestValues))continue;Jd(g.latestValues)&&g.updateSnapshot();const v=Je(),b=g.measurePageBox();an(v,b),Ty(m,g.latestValues,g.snapshot?g.snapshot.layoutBox:void 0,v)}return Fi(this.latestValues)&&Ty(m,this.latestValues),m}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==bt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){var m;const p=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=p.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=p.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=p.isSharedProjectionDirty);const g=!!this.resumingFrom||this!==p;if(!(d||g&&this.isSharedProjectionDirty||this.isProjectionDirty||!((m=this.parent)===null||m===void 0)&&m.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:b,layoutId:x}=this.options;if(!(!this.layout||!(b||x))){if(this.resolvedRelativeTargetAt=bt.timestamp,!this.targetDelta&&!this.relativeTarget){const S=this.getClosestProjectingParent();S&&S.layout&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Je(),this.relativeTargetOrigin=Je(),xr(this.relativeTargetOrigin,this.layout.layoutBox,S.layout.layoutBox),an(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Je(),this.targetWithTransforms=Je()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),iE(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):an(this.target,this.layout.layoutBox),Cb(this.target,this.targetDelta)):an(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const S=this.getClosestProjectingParent();S&&!!S.resumingFrom==!!this.resumingFrom&&!S.options.layoutScroll&&S.target&&this.animationProgress!==1?(this.relativeParent=S,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Je(),this.relativeTargetOrigin=Je(),xr(this.relativeTargetOrigin,this.target,S.target),an(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}mr&&Xi.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||Jd(this.parent.latestValues)||Ab(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var d;const m=this.getLead(),p=!!this.resumingFrom||this!==m;let g=!0;if((this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty)&&(g=!1),p&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(g=!1),this.resolvedRelativeTargetAt===bt.timestamp&&(g=!1),g)return;const{layout:v,layoutId:b}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(v||b))return;an(this.layoutCorrected,this.layout.layoutBox);const x=this.treeScale.x,S=this.treeScale.y;hE(this.layoutCorrected,this.treeScale,this.path,p),m.layout&&!m.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(m.target=m.layout.layoutBox,m.targetWithTransforms=Je());const{target:w}=m;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(wy(this.prevProjectionDelta.x,this.projectionDelta.x),wy(this.prevProjectionDelta.y,this.projectionDelta.y)),br(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==x||this.treeScale.y!==S||!Cy(this.projectionDelta.x,this.prevProjectionDelta.x)||!Cy(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w)),mr&&Xi.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){var m;if((m=this.options.visualElement)===null||m===void 0||m.scheduleRender(),d){const p=this.getStack();p&&p.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=ea(),this.projectionDelta=ea(),this.projectionDeltaWithTransform=ea()}setAnimationOrigin(d,m=!1){const p=this.snapshot,g=p?p.latestValues:{},v={...this.latestValues},b=ea();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!m;const x=Je(),S=p?p.source:void 0,w=this.layout?this.layout.source:void 0,T=S!==w,O=this.getStack(),R=!O||O.members.length<=1,V=!!(T&&!R&&this.options.crossfade===!0&&!this.path.some(QE));this.animationProgress=0;let D;this.mixTargetDelta=Z=>{const X=Z/1e3;ky(b.x,d.x,X),ky(b.y,d.y,X),this.setTargetDelta(b),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(xr(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),ZE(this.relativeTarget,this.relativeTargetOrigin,x,X),D&&DE(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=Je()),an(D,this.relativeTarget)),T&&(this.animationValues=v,AE(v,g,this.latestValues,X,V,R)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=X},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Si(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=qe.update(()=>{bo.hasAnimatedSinceResize=!0,this.currentAnimation=_E(0,Oy,{...d,onUpdate:m=>{this.mixTargetDelta(m),d.onUpdate&&d.onUpdate(m)},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Oy),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:m,target:p,layout:g,latestValues:v}=d;if(!(!m||!p||!g)){if(this!==d&&this.layout&&g&&Vb(this.options.animationType,this.layout.layoutBox,g.layoutBox)){p=this.target||Je();const b=Kt(this.layout.layoutBox.x);p.x.min=d.target.x.min,p.x.max=p.x.min+b;const x=Kt(this.layout.layoutBox.y);p.y.min=d.target.y.min,p.y.max=p.y.min+x}an(m,p),na(m,v),br(this.projectionDeltaWithTransform,this.layoutCorrected,m,v)}}registerSharedNode(d,m){this.sharedNodes.has(d)||this.sharedNodes.set(d,new ME),this.sharedNodes.get(d).add(m);const g=m.options.initialPromotionConfig;m.promote({transition:g?g.transition:void 0,preserveFollowOpacity:g&&g.shouldPreserveFollowOpacity?g.shouldPreserveFollowOpacity(m):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){var d;const{layoutId:m}=this.options;return m?((d=this.getStack())===null||d===void 0?void 0:d.lead)||this:this}getPrevLead(){var d;const{layoutId:m}=this.options;return m?(d=this.getStack())===null||d===void 0?void 0:d.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:m,preserveFollowOpacity:p}={}){const g=this.getStack();g&&g.promote(this,p),d&&(this.projectionDelta=void 0,this.needsReset=!0),m&&this.setOptions({transition:m})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let m=!1;const{latestValues:p}=d;if((p.z||p.rotate||p.rotateX||p.rotateY||p.rotateZ||p.skewX||p.skewY)&&(m=!0),!m)return;const g={};p.z&&jd("z",d,g,this.animationValues);for(let v=0;v<Td.length;v++)jd(`rotate${Td[v]}`,d,g,this.animationValues),jd(`skew${Td[v]}`,d,g,this.animationValues);d.render();for(const v in g)d.setStaticValue(v,g[v]),this.animationValues&&(this.animationValues[v]=g[v]);d.scheduleRender()}getProjectionStyles(d){var m,p;if(!this.instance||this.isSVG)return;if(!this.isVisible)return LE;const g={visibility:""},v=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,g.opacity="",g.pointerEvents=yo(d==null?void 0:d.pointerEvents)||"",g.transform=v?v(this.latestValues,""):"none",g;const b=this.getLead();if(!this.projectionDelta||!this.layout||!b.target){const T={};return this.options.layoutId&&(T.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,T.pointerEvents=yo(d==null?void 0:d.pointerEvents)||""),this.hasProjected&&!Fi(this.latestValues)&&(T.transform=v?v({},""):"none",this.hasProjected=!1),T}const x=b.animationValues||b.latestValues;this.applyTransformsToTarget(),g.transform=UE(this.projectionDeltaWithTransform,this.treeScale,x),v&&(g.transform=v(x,g.transform));const{x:S,y:w}=this.projectionDelta;g.transformOrigin=`${S.origin*100}% ${w.origin*100}% 0`,b.animationValues?g.opacity=b===this?(p=(m=x.opacity)!==null&&m!==void 0?m:this.latestValues.opacity)!==null&&p!==void 0?p:1:this.preserveOpacity?this.latestValues.opacity:x.opacityExit:g.opacity=b===this?x.opacity!==void 0?x.opacity:"":x.opacityExit!==void 0?x.opacityExit:0;for(const T in No){if(x[T]===void 0)continue;const{correct:O,applyTo:R}=No[T],V=g.transform==="none"?x[T]:O(x[T],b);if(R){const D=R.length;for(let Z=0;Z<D;Z++)g[R[Z]]=V}else g[T]=V}return this.options.layoutId&&(g.pointerEvents=b===this?yo(d==null?void 0:d.pointerEvents)||"":"none"),g}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>{var m;return(m=d.currentAnimation)===null||m===void 0?void 0:m.stop()}),this.root.nodes.forEach(Ry),this.root.sharedNodes.clear()}}}function VE(i){i.updateLayout()}function PE(i){var t;const s=((t=i.resumeFrom)===null||t===void 0?void 0:t.snapshot)||i.snapshot;if(i.isLead()&&i.layout&&s&&i.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:o}=i.layout,{animationType:c}=i.options,d=s.source!==i.layout.source;c==="size"?rn(b=>{const x=d?s.measuredBox[b]:s.layoutBox[b],S=Kt(x);x.min=r[b].min,x.max=x.min+S}):Vb(c,s.layoutBox,r)&&rn(b=>{const x=d?s.measuredBox[b]:s.layoutBox[b],S=Kt(r[b]);x.max=x.min+S,i.relativeTarget&&!i.currentAnimation&&(i.isProjectionDirty=!0,i.relativeTarget[b].max=i.relativeTarget[b].min+S)});const m=ea();br(m,r,s.layoutBox);const p=ea();d?br(p,i.applyTransform(o,!0),s.measuredBox):br(p,r,s.layoutBox);const g=!Mb(m);let v=!1;if(!i.resumeFrom){const b=i.getClosestProjectingParent();if(b&&!b.resumeFrom){const{snapshot:x,layout:S}=b;if(x&&S){const w=Je();xr(w,s.layoutBox,x.layoutBox);const T=Je();xr(T,r,S.layoutBox),Ub(w,T)||(v=!0),b.options.layoutRoot&&(i.relativeTarget=T,i.relativeTargetOrigin=w,i.relativeParent=b)}}}i.notifyListeners("didUpdate",{layout:r,snapshot:s,delta:p,layoutDelta:m,hasLayoutChanged:g,hasRelativeTargetChanged:v})}else if(i.isLead()){const{onExitComplete:r}=i.options;r&&r()}i.options.transition=void 0}function qE(i){mr&&Xi.totalNodes++,i.parent&&(i.isProjecting()||(i.isProjectionDirty=i.parent.isProjectionDirty),i.isSharedProjectionDirty||(i.isSharedProjectionDirty=!!(i.isProjectionDirty||i.parent.isProjectionDirty||i.parent.isSharedProjectionDirty)),i.isTransformDirty||(i.isTransformDirty=i.parent.isTransformDirty))}function $E(i){i.isProjectionDirty=i.isSharedProjectionDirty=i.isTransformDirty=!1}function HE(i){i.clearSnapshot()}function Ry(i){i.clearMeasurements()}function GE(i){i.isLayoutDirty=!1}function IE(i){const{visualElement:t}=i.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),i.resetTransform()}function zy(i){i.finishAnimation(),i.targetDelta=i.relativeTarget=i.target=void 0,i.isProjectionDirty=!0}function YE(i){i.resolveTargetDelta()}function KE(i){i.calcProjection()}function FE(i){i.resetSkewAndRotation()}function XE(i){i.removeLeadSnapshot()}function ky(i,t,s){i.translate=Ie(t.translate,0,s),i.scale=Ie(t.scale,1,s),i.origin=t.origin,i.originPoint=t.originPoint}function Dy(i,t,s,r){i.min=Ie(t.min,s.min,r),i.max=Ie(t.max,s.max,r)}function ZE(i,t,s,r){Dy(i.x,t.x,s.x,r),Dy(i.y,t.y,s.y,r)}function QE(i){return i.animationValues&&i.animationValues.opacityExit!==void 0}const JE={duration:.45,ease:[.4,0,.1,1]},My=i=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(i),Uy=My("applewebkit/")&&!My("chrome/")?Math.round:Yt;function Ly(i){i.min=Uy(i.min),i.max=Uy(i.max)}function WE(i){Ly(i.x),Ly(i.y)}function Vb(i,t,s){return i==="position"||i==="preserve-aspect"&&!nE(Ay(t),Ay(s),.2)}function eA(i){var t;return i!==i.root&&((t=i.scroll)===null||t===void 0?void 0:t.wasRoot)}const tA=Bb({attachResizeListener:(i,t)=>kr(i,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Nd={current:void 0},Pb=Bb({measureScroll:i=>({x:i.scrollLeft,y:i.scrollTop}),defaultParent:()=>{if(!Nd.current){const i=new tA({});i.mount(window),i.setOptions({layoutScroll:!0}),Nd.current=i}return Nd.current},resetTransform:(i,t)=>{i.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:i=>window.getComputedStyle(i).position==="fixed"}),nA={pan:{Feature:vE},drag:{Feature:yE,ProjectionNode:Pb,MeasureLayout:zb}};function By(i,t,s){const{props:r}=i;i.animationState&&r.whileHover&&i.animationState.setActive("whileHover",s==="Start");const o="onHover"+s,c=r[o];c&&qe.postRender(()=>c(t,Br(t)))}class iA extends ji{mount(){const{current:t}=this.node;t&&(this.unmount=nj(t,s=>(By(this.node,s,"Start"),r=>By(this.node,r,"End"))))}unmount(){}}class sA extends ji{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Lr(kr(this.node.current,"focus",()=>this.onFocus()),kr(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Vy(i,t,s){const{props:r}=i;i.animationState&&r.whileTap&&i.animationState.setActive("whileTap",s==="Start");const o="onTap"+(s==="End"?"":s),c=r[o];c&&qe.postRender(()=>c(t,Br(t)))}class aA extends ji{mount(){const{current:t}=this.node;t&&(this.unmount=rj(t,s=>(Vy(this.node,s,"Start"),(r,{success:o})=>Vy(this.node,r,o?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const eh=new WeakMap,Ed=new WeakMap,rA=i=>{const t=eh.get(i.target);t&&t(i)},lA=i=>{i.forEach(rA)};function oA({root:i,...t}){const s=i||document;Ed.has(s)||Ed.set(s,{});const r=Ed.get(s),o=JSON.stringify(t);return r[o]||(r[o]=new IntersectionObserver(lA,{root:i,...t})),r[o]}function cA(i,t,s){const r=oA(t);return eh.set(i,s),r.observe(i),()=>{eh.delete(i),r.unobserve(i)}}const uA={some:0,all:1};class dA extends ji{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:s,margin:r,amount:o="some",once:c}=t,d={root:s?s.current:void 0,rootMargin:r,threshold:typeof o=="number"?o:uA[o]},m=p=>{const{isIntersecting:g}=p;if(this.isInView===g||(this.isInView=g,c&&!g&&this.hasEnteredView))return;g&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",g);const{onViewportEnter:v,onViewportLeave:b}=this.node.getProps(),x=g?v:b;x&&x(p)};return cA(this.node.current,d,m)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:s}=this.node;["amount","margin","root"].some(hA(t,s))&&this.startObserver()}unmount(){}}function hA({viewport:i={}},{viewport:t={}}={}){return s=>i[s]!==t[s]}const fA={inView:{Feature:dA},tap:{Feature:aA},focus:{Feature:sA},hover:{Feature:iA}},mA={layout:{ProjectionNode:Pb,MeasureLayout:zb}},th={current:null},qb={current:!1};function pA(){if(qb.current=!0,!!hh)if(window.matchMedia){const i=window.matchMedia("(prefers-reduced-motion)"),t=()=>th.current=i.matches;i.addListener(t),t()}else th.current=!1}const gA=[...hb,St,Ti],yA=i=>gA.find(db(i)),Py=new WeakMap;function vA(i,t,s){for(const r in t){const o=t[r],c=s[r];if(Tt(o))i.addValue(r,o);else if(Tt(c))i.addValue(r,Rr(o,{owner:i}));else if(c!==o)if(i.hasValue(r)){const d=i.getValue(r);d.liveStyle===!0?d.jump(o):d.hasAnimated||d.set(o)}else{const d=i.getStaticValue(r);i.addValue(r,Rr(d!==void 0?d:o,{owner:i}))}}for(const r in s)t[r]===void 0&&i.removeValue(r);return t}const qy=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class bA{scrapeMotionValuesFromProps(t,s,r){return{}}constructor({parent:t,props:s,presenceContext:r,reducedMotionConfig:o,blockInitialAnimation:c,visualState:d},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Vh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const S=xn.now();this.renderScheduledAt<S&&(this.renderScheduledAt=S,qe.render(this.render,!1,!0))};const{latestValues:p,renderState:g,onUpdate:v}=d;this.onUpdate=v,this.latestValues=p,this.baseTarget={...p},this.initialValues=s.initial?{...p}:{},this.renderState=g,this.parent=t,this.props=s,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=o,this.options=m,this.blockInitialAnimation=!!c,this.isControllingVariants=Po(s),this.isVariantNode=xv(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:b,...x}=this.scrapeMotionValuesFromProps(s,{},this);for(const S in x){const w=x[S];p[S]!==void 0&&Tt(w)&&w.set(p[S],!1)}}mount(t){this.current=t,Py.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,r)=>this.bindToMotionValue(r,s)),qb.current||pA(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:th.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){Py.delete(this.current),this.projection&&this.projection.unmount(),Si(this.notifyUpdate),Si(this.render),this.valueSubscriptions.forEach(t=>t()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features){const s=this.features[t];s&&(s.unmount(),s.isMounted=!1)}this.current=null}bindToMotionValue(t,s){this.valueSubscriptions.has(t)&&this.valueSubscriptions.get(t)();const r=is.has(t),o=s.on("change",m=>{this.latestValues[t]=m,this.props.onUpdate&&qe.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),c=s.on("renderRequest",this.scheduleRender);let d;window.MotionCheckAppearSync&&(d=window.MotionCheckAppearSync(this,t,s)),this.valueSubscriptions.set(t,()=>{o(),c(),d&&d(),s.owner&&s.stop()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}updateFeatures(){let t="animation";for(t in la){const s=la[t];if(!s)continue;const{isEnabled:r,Feature:o}=s;if(!this.features[t]&&o&&r(this.props)&&(this.features[t]=new o(this)),this.features[t]){const c=this.features[t];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Je()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,s){this.latestValues[t]=s}update(t,s){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let r=0;r<qy.length;r++){const o=qy[r];this.propEventSubscriptions[o]&&(this.propEventSubscriptions[o](),delete this.propEventSubscriptions[o]);const c="on"+o,d=t[c];d&&(this.propEventSubscriptions[o]=this.on(o,d))}this.prevMotionValues=vA(this,this.scrapeMotionValuesFromProps(t,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(t){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(t),()=>s.variantChildren.delete(t)}addValue(t,s){const r=this.values.get(t);s!==r&&(r&&this.removeValue(t),this.bindToMotionValue(t,s),this.values.set(t,s),this.latestValues[t]=s.get())}removeValue(t){this.values.delete(t);const s=this.valueSubscriptions.get(t);s&&(s(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,s){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&s!==void 0&&(r=Rr(s===null?void 0:s,{owner:this}),this.addValue(t,r)),r}readValue(t,s){var r;let o=this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(r=this.getBaseTargetFromProps(this.props,t))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,t,this.options);return o!=null&&(typeof o=="string"&&(cb(o)||eb(o))?o=parseFloat(o):!yA(o)&&Ti.test(s)&&(o=rb(t,s)),this.setBaseTarget(t,Tt(o)?o.get():o)),Tt(o)?o.get():o}setBaseTarget(t,s){this.baseTarget[t]=s}getBaseTarget(t){var s;const{initial:r}=this.props;let o;if(typeof r=="string"||typeof r=="object"){const d=bh(this.props,r,(s=this.presenceContext)===null||s===void 0?void 0:s.custom);d&&(o=d[t])}if(r&&o!==void 0)return o;const c=this.getBaseTargetFromProps(this.props,t);return c!==void 0&&!Tt(c)?c:this.initialValues[t]!==void 0&&o===void 0?void 0:this.baseTarget[t]}on(t,s){return this.events[t]||(this.events[t]=new kh),this.events[t].add(s)}notify(t,...s){this.events[t]&&this.events[t].notify(...s)}}class $b extends bA{constructor(){super(...arguments),this.KeyframeResolver=fb}sortInstanceNodePosition(t,s){return t.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(t,s){return t.style?t.style[s]:void 0}removeValueFromRenderState(t,{vars:s,style:r}){delete s[t],delete r[t]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Tt(t)&&(this.childSubscription=t.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}function xA(i){return window.getComputedStyle(i)}class wA extends $b{constructor(){super(...arguments),this.type="html",this.renderInstance=Cv}readValueFromInstance(t,s){if(is.has(s)){const r=Bh(s);return r&&r.default||0}else{const r=xA(t),o=(Nv(s)?r.getPropertyValue(s):r[s])||0;return typeof o=="string"?o.trim():o}}measureInstanceViewportBox(t,{transformPagePoint:s}){return Ob(t,s)}build(t,s,r){_h(t,s,r.transformTemplate)}scrapeMotionValuesFromProps(t,s,r){return Nh(t,s,r)}}class _A extends $b{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Je}getBaseTargetFromProps(t,s){return t[s]}readValueFromInstance(t,s){if(is.has(s)){const r=Bh(s);return r&&r.default||0}return s=Ov.has(s)?s:gh(s),t.getAttribute(s)}scrapeMotionValuesFromProps(t,s,r){return kv(t,s,r)}build(t,s,r){Sh(t,s,this.isSVGTag,r.transformTemplate)}renderInstance(t,s,r,o){Rv(t,s,r,o)}mount(t){this.isSVGTag=jh(t.tagName),super.mount(t)}}const SA=(i,t)=>vh(i)?new _A(t):new wA(t,{allowProjection:i!==$.Fragment}),TA=X2({...KN,...fA,...nA,...mA},SA),Nt=u2(TA),jA=i=>new Date(i).toLocaleDateString("en-US",{weekday:"long"}),lt=i=>{const t=i.getFullYear(),s=String(i.getMonth()+1).padStart(2,"0"),r=String(i.getDate()).padStart(2,"0");return`${t}-${s}-${r}`},NA=i=>new Date(i.getFullYear(),i.getMonth()+1,0).getDate(),EA=i=>new Date(i.getFullYear(),i.getMonth(),1).getDay(),Hh=i=>{if(!i)return"border-zinc-700 bg-zinc-900/50 text-zinc-300";switch(i.toUpperCase()){case"GENERAL":case"WORK":case"STUDY":case"TRANSIT":case"REST":case"OTHER":return"border-zinc-500 bg-zinc-900/50 text-zinc-100";case"RELIGIOUS":case"SPIRITUAL":return"border-indigo-500 bg-indigo-900/30 text-indigo-100";case"FITNESS":case"PHYSICAL":return"border-emerald-500 bg-emerald-900/30 text-emerald-100";case"COACHING":return"border-amber-500 bg-amber-900/30 text-amber-100";case"CHAOS":return"border-rose-600 bg-rose-900/40 text-rose-100 animate-pulse-slow";default:return"border-zinc-700 bg-zinc-900/50 text-zinc-300"}},AA=(i,t,s,r,o,c=[])=>{const d=[];let m=new Date(i.date),p=o?new Date(o):new Date(new Date(i.date).setMonth(m.getMonth()+12));const g=crypto.randomUUID();for(;m<=p;)if((s!=="CUSTOM_DAYS"||c.includes(m.getDay()))&&d.push({user_id:t,series_id:g,date:lt(m),activity:i.activity,time_range:i.time_range,location:i.location,type:i.type,is_priority:i.is_priority,is_goal:i.is_goal,end_date:i.endDate||null,meta:i.meta||{},completed:!1}),s==="DAILY"||s==="CUSTOM_DAYS")m.setDate(m.getDate()+1);else if(s==="WEEKLY")m.setDate(m.getDate()+7);else if(s==="MONTHLY")m.setMonth(m.getMonth()+1);else if(s==="CUSTOM")m.setDate(m.getDate()+(r||1));else break;return s==="NONE"&&d.length>0&&(d[0].series_id=null),d},CA=[{id:"FITNESS",label:"Fitness",icon:aa,color:"text-emerald-400",bg:"bg-emerald-500/10",border:"border-emerald-500/20"},{id:"COACHING",label:"Coaching",icon:wr,color:"text-amber-400",bg:"bg-amber-500/10",border:"border-amber-500/20"},{id:"STUDIES",label:"Studies",icon:O_,color:"text-blue-400",bg:"bg-blue-500/10",border:"border-blue-500/20"},{id:"RELIGION",label:"Religion",icon:zo,color:"text-purple-400",bg:"bg-purple-500/10",border:"border-purple-500/20"},{id:"GENERAL",label:"General",icon:z_,color:"text-zinc-400",bg:"bg-zinc-500/10",border:"border-zinc-500/20"}],OA=["RUN","GYM","CYCLE","SWIM"];function RA({isOpen:i,onClose:t,onSave:s,initialDate:r,initialData:o}){const[c,d]=$.useState("TYPE"),[m,p]=$.useState({type:"",subType:"",activity:"",location:"",date:r||new Date().toISOString().split("T")[0],startTime:`${String(new Date().getHours()).padStart(2,"0")}:${String(new Date().getMinutes()).padStart(2,"0")}`,endTime:"",is_priority:!1,is_goal:!1,recurrence:"NONE",recurrenceInterval:1,customDays:[],endDate:"",clientName:"",clientDuration:"3",runType:"Easy",zone:"Zone 2",distance_cmd:"",comments:""});if($.useEffect(()=>{var w,T,O,R,V;i&&(o?(p({type:o.type||"GENERAL",subType:o.activity_name||"",activity:o.activity||"",location:o.location||"",date:o.date||r,startTime:o.time_range?o.time_range.split("-")[0]:`${String(new Date().getHours()).padStart(2,"0")}:${String(new Date().getMinutes()).padStart(2,"0")}`,endTime:o.time_range&&o.time_range.includes("-")?o.time_range.split("-")[1]:"",is_priority:o.is_priority||!1,is_goal:o.is_goal||!1,recurrence:"NONE",recurrenceInterval:1,customDays:[],endDate:o.end_date||"",clientName:((w=o.meta)==null?void 0:w.client)||"",clientDuration:"3",runType:((T=o.meta)==null?void 0:T.run_type)||"Easy",zone:((O=o.meta)==null?void 0:O.zone)||"Zone 2",distance_cmd:((R=o.meta)==null?void 0:R.distance_cmd)||"",comments:((V=o.meta)==null?void 0:V.comments)||""}),d("DETAILS")):(p({type:"",subType:"",activity:"",location:"",date:r||new Date().toISOString().split("T")[0],startTime:`${String(new Date().getHours()).padStart(2,"0")}:${String(new Date().getMinutes()).padStart(2,"0")}`,endTime:"",is_priority:!1,is_goal:!1,recurrence:"NONE",recurrenceInterval:1,customDays:[],endDate:"",clientName:"",clientDuration:"3",runType:"Easy",zone:"Zone 2",distance_cmd:"",comments:""}),d("TYPE")))},[i,r,o]),!i)return null;const g=()=>{const w={...m};w.time_range=w.endTime?`${w.startTime}-${w.endTime}`:w.startTime||"00:00",w.type==="FITNESS"&&(w.activity=w.activity||w.subType,w.meta={distance_cmd:w.distance_cmd,zone:w.subType==="RUN"?w.zone:null,run_type:w.subType==="RUN"?w.runType:null,comments:w.comments}),w.type==="COACHING"&&w.clientName&&(w.activity=`Coaching: ${w.clientName}`,w.time_range||(w.time_range="10:00-13:00")),s(w),t()},v=()=>f.jsxs(Nt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[f.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"What are we executing?"}),f.jsx("div",{className:"grid grid-cols-2 gap-3",children:CA.map(w=>{const T=w.icon;return f.jsxs("button",{onClick:()=>{p({...m,type:w.id}),w.id==="FITNESS"?d("SUBTYPE"):(w.id,d("DETAILS"))},className:`p-4 rounded-2xl border ${w.border} ${w.bg} flex flex-col items-center justify-center gap-3 hover:scale-[1.02] active:scale-95 transition-all text-left`,children:[f.jsx(T,{className:`w-8 h-8 ${w.color}`}),f.jsx("span",{className:`font-bold text-sm ${w.color}`,children:w.label})]},w.id)})})]}),b=()=>f.jsxs(Nt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-4",children:[f.jsxs("button",{onClick:()=>d("TYPE"),className:"flex items-center text-zinc-400 hover:text-white mb-4",children:[f.jsx(po,{className:"w-5 h-5 mr-1"})," Back"]}),f.jsx("h2",{className:"text-2xl font-bold text-white mb-6",children:"Select Protocol"}),f.jsx("div",{className:"grid grid-cols-2 gap-3",children:OA.map(w=>f.jsx("button",{onClick:()=>{p({...m,subType:w,activity:w==="RUN"?"Run":w==="GYM"?"Gym Session":w==="CYCLE"?"Cycle":"Swim",is_priority:!0}),d("DETAILS")},className:"p-4 rounded-xl border border-emerald-500/20 bg-emerald-500/10 flex items-center justify-center hover:bg-emerald-500/20 transition-all font-bold text-emerald-400",children:w},w))})]}),x=()=>f.jsxs(Nt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("button",{onClick:()=>d(m.type==="FITNESS"?"SUBTYPE":"TYPE"),className:"flex items-center text-zinc-400 hover:text-white",children:[f.jsx(po,{className:"w-5 h-5 mr-1"})," Back"]}),f.jsxs("div",{className:"text-xs font-bold text-zinc-500 uppercase flex gap-2",children:[m.type," ",m.subType&&`> ${m.subType}`]})]}),f.jsx("h2",{className:"text-2xl font-bold text-white",children:"Core Information"}),m.type==="COACHING"?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-amber-500 uppercase mb-2",children:"Client Name"}),f.jsxs("select",{required:!0,value:m.clientName,onChange:w=>p({...m,clientName:w.target.value}),className:"w-full bg-black/50 border border-amber-900/50 rounded-xl p-4 text-amber-100 focus:border-amber-500 outline-none transition appearance-none",children:[f.jsx("option",{value:"",children:"Select a Client..."}),f.jsx("option",{value:"Umar",children:"Umar"}),f.jsx("option",{value:"Shamil",children:"Shamil"}),f.jsx("option",{value:"Irfan",children:"Irfan"}),f.jsx("option",{value:"Ranjeev",children:"Ranjeev"}),f.jsx("option",{value:"Online Client",children:"Online Client"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:"Location Facility"}),f.jsxs("select",{value:m.location,onChange:w=>p({...m,location:w.target.value}),className:"w-full bg-black/50 border border-zinc-800 rounded-xl p-4 text-white focus:border-indigo-500 outline-none transition appearance-none",children:[f.jsx("option",{value:"",children:"Select Location..."}),f.jsx("option",{value:"Bandaragama",children:"Bandaragama (10am - 6pm)"}),f.jsx("option",{value:"Port City",children:"Port City (2pm - 10pm)"}),f.jsx("option",{value:"Online",children:"Online / Zoom"})]})]})]}):m.type==="FITNESS"?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:"Activity Name"}),f.jsx("input",{required:!0,value:m.activity,onChange:w=>p({...m,activity:w.target.value}),className:"w-full bg-black/50 border border-zinc-800 rounded-xl p-4 text-white focus:border-emerald-500 outline-none transition",placeholder:"e.g. Run"})]}),m.subType==="RUN"&&f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:"Run Type"}),f.jsx("select",{value:m.runType,onChange:w=>p({...m,runType:w.target.value}),className:"w-full bg-black/50 border border-zinc-800 rounded-xl p-4 text-white focus:border-emerald-500 outline-none transition appearance-none",children:["Easy","Moderate","Long","Recovery Walk","Surge","Taper","Shakeout","Race","Custom"].map(w=>f.jsx("option",{value:w,children:w},w))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:"Target Zone"}),f.jsx("select",{value:m.zone,onChange:w=>p({...m,zone:w.target.value}),className:"w-full bg-black/50 border border-zinc-800 rounded-xl p-4 text-white focus:border-emerald-500 outline-none transition appearance-none",children:["Zone 1","Zone 2","Zone 3","Zone 4","Zone 5"].map(w=>f.jsx("option",{value:w,children:w},w))})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:"Distance / Duration"}),f.jsx("input",{type:"text",value:m.distance_cmd,onChange:w=>p({...m,distance_cmd:w.target.value}),placeholder:m.subType==="GYM"?"e.g. 60 min":"e.g. 5 km or 30 min",required:!0,className:"w-full bg-black/50 border border-zinc-800 rounded-xl p-4 text-white focus:border-emerald-500 outline-none transition"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:"Remarks / Comments"}),f.jsx("textarea",{value:m.comments,onChange:w=>p({...m,comments:w.target.value}),placeholder:"Enter any specific instructions...",className:"w-full bg-black/50 border border-zinc-800 rounded-xl p-4 text-white focus:border-emerald-500 outline-none transition min-h-[80px]"})]})]}):f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:"Activity Name"}),f.jsx("input",{required:!0,value:m.activity,onChange:w=>p({...m,activity:w.target.value}),className:"w-full bg-black/50 border border-zinc-800 rounded-xl p-4 text-white focus:border-indigo-500 outline-none transition",placeholder:"e.g. Deep Work Session"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:"Location (Optional)"}),f.jsxs("div",{className:"relative",children:[f.jsx(Xy,{className:"w-5 h-5 absolute left-4 top-1/2 -translate-y-1/2 text-zinc-500"}),f.jsx("input",{value:m.location,onChange:w=>p({...m,location:w.target.value}),className:"w-full bg-black/50 border border-zinc-800 rounded-xl p-4 pl-12 text-white focus:border-indigo-500 outline-none transition",placeholder:"e.g. CR&FC"})]})]})]}),f.jsxs("div",{className:"p-4 rounded-xl border border-zinc-800 bg-zinc-900/30 space-y-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 text-white font-bold",children:[f.jsx(I_,{className:"w-4 h-4 text-rose-400"})," Priority Status"]}),f.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Injects to Today's Focus"})]}),f.jsx("button",{onClick:()=>p(w=>({...w,is_priority:!w.is_priority})),className:`w-12 h-6 rounded-full transition-colors relative ${m.is_priority?"bg-rose-500":"bg-zinc-700"}`,children:f.jsx("div",{className:`w-4 h-4 rounded-full bg-white absolute top-1 transition-all ${m.is_priority?"left-7":"left-1"}`})})]}),f.jsx("div",{className:"h-px w-full bg-zinc-800/50"}),f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 text-white font-bold",children:[f.jsx(zo,{className:"w-4 h-4 text-indigo-400"})," Mark as Goal/Deadline"]}),f.jsx("p",{className:"text-xs text-zinc-500 mt-1",children:"Highlights vividly on the calendar Grid"})]}),f.jsx("button",{onClick:()=>p(w=>({...w,is_goal:!w.is_goal})),className:`w-12 h-6 rounded-full transition-colors relative ${m.is_goal?"bg-indigo-500":"bg-zinc-700"}`,children:f.jsx("div",{className:`w-4 h-4 rounded-full bg-white absolute top-1 transition-all ${m.is_goal?"left-7":"left-1"}`})})]})]}),f.jsxs("button",{onClick:()=>d("TIMING"),disabled:m.type==="COACHING"?!m.clientName:!m.activity,className:"w-full py-4 bg-zinc-100 hover:bg-white text-black font-bold rounded-xl transition disabled:opacity-50 disabled:cursor-not-allowed flex justify-center items-center",children:["Next Step ",f.jsx(wo,{className:"w-5 h-5 ml-2"})]})]}),S=()=>f.jsxs(Nt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"space-y-6",children:[f.jsx("div",{className:"flex items-center mb-6",children:f.jsxs("button",{onClick:()=>d("DETAILS"),className:"flex items-center text-zinc-400 hover:text-white",children:[f.jsx(po,{className:"w-5 h-5 mr-1"})," Back"]})}),f.jsx("h2",{className:"text-2xl font-bold text-white",children:"When & How Often?"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:"Start Date"}),f.jsxs("div",{className:"relative",children:[f.jsx(xo,{className:"w-5 h-5 absolute left-3 top-1/2 -translate-y-1/2 text-zinc-500 pointer-events-none"}),f.jsx("input",{type:"date",value:m.date,onClick:w=>{try{"showPicker"in HTMLInputElement.prototype&&w.currentTarget.showPicker()}catch{}},onChange:w=>p({...m,date:w.target.value}),className:"w-full bg-black/50 border border-zinc-800 rounded-xl p-4 pl-10 text-white focus:border-indigo-500 outline-none transition cursor-pointer [color-scheme:dark]"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:"Start Time"}),f.jsx("input",{type:"time",value:m.startTime,onClick:w=>{try{"showPicker"in HTMLInputElement.prototype&&w.currentTarget.showPicker()}catch{}},onChange:w=>p({...m,startTime:w.target.value}),className:"w-full bg-black/50 border border-zinc-800 rounded-xl p-4 text-white focus:border-indigo-500 outline-none transition font-mono cursor-pointer [color-scheme:dark]"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:"End Time (Optional)"}),f.jsx("input",{type:"time",value:m.endTime,onClick:w=>{try{"showPicker"in HTMLInputElement.prototype&&w.currentTarget.showPicker()}catch{}},onChange:w=>p({...m,endTime:w.target.value}),className:"w-full bg-black/50 border border-zinc-800 rounded-xl p-4 text-white focus:border-indigo-500 outline-none transition font-mono cursor-pointer [color-scheme:dark]"})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold text-emerald-500 uppercase mb-2",children:"Recurrence"}),f.jsxs("select",{value:m.recurrence,onChange:w=>p({...m,recurrence:w.target.value}),className:"w-full bg-emerald-950/20 border border-emerald-900/50 rounded-xl p-4 text-emerald-100 focus:border-emerald-500 outline-none transition appearance-none font-bold tracking-wide",children:[f.jsx("option",{value:"NONE",children:"Does not repeat"}),f.jsx("option",{value:"DAILY",children:"Every Day"}),f.jsx("option",{value:"WEEKLY",children:"Every Week"}),f.jsx("option",{value:"MONTHLY",children:"Every Month"}),f.jsx("option",{value:"CUSTOM",children:"Custom Interval..."}),f.jsx("option",{value:"CUSTOM_DAYS",children:"Specific Days..."})]})]}),m.recurrence==="CUSTOM"&&f.jsxs(Nt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"flex items-center gap-3",children:[f.jsx("span",{className:"text-zinc-400",children:"Repeat every"}),f.jsx("input",{type:"number",min:"1",value:m.recurrenceInterval,onChange:w=>p({...m,recurrenceInterval:parseInt(w.target.value)||1}),className:"w-20 bg-black border border-zinc-800 rounded-lg p-2 text-center text-white outline-none focus:border-indigo-500"}),f.jsx("span",{className:"text-zinc-400",children:"days"})]}),m.recurrence==="CUSTOM_DAYS"&&f.jsxs(Nt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},className:"space-y-3",children:[f.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase",children:"Select Days"}),f.jsx("div",{className:"flex gap-2 justify-between",children:[{label:"M",value:1},{label:"T",value:2},{label:"W",value:3},{label:"T",value:4},{label:"F",value:5},{label:"S",value:6},{label:"S",value:0}].map(w=>{const T=m.customDays.includes(w.value);return f.jsx("button",{onClick:()=>{p(O=>({...O,customDays:T?O.customDays.filter(R=>R!==w.value):[...O.customDays,w.value]}))},className:`w-10 h-10 rounded-full flex items-center justify-center font-bold text-sm transition-all
                                        ${T?"bg-indigo-500 text-white shadow-lg shadow-indigo-500/20":"bg-zinc-800/50 text-zinc-400 hover:bg-zinc-700 hover:text-white"}`,children:w.label},w.value)})})]}),m.recurrence!=="NONE"&&f.jsxs(Nt.div,{initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},children:[f.jsx("label",{className:"block text-xs font-bold text-zinc-500 uppercase mb-2",children:"End Date (Optional)"}),f.jsx("input",{type:"date",value:m.endDate,onClick:w=>{try{"showPicker"in HTMLInputElement.prototype&&w.currentTarget.showPicker()}catch{}},onChange:w=>p({...m,endDate:w.target.value}),className:"w-full bg-black/50 border border-zinc-800 rounded-xl p-4 text-white focus:border-indigo-500 outline-none transition cursor-pointer [color-scheme:dark]",placeholder:"Never"}),f.jsx("p",{className:"text-[10px] text-zinc-500 mt-2 ml-1",children:"* If left blank, will generate events for the next 12 months."})]}),f.jsx("div",{className:"pt-6",children:f.jsx("button",{onClick:g,className:"w-full py-4 bg-indigo-600 hover:bg-indigo-500 text-white font-bold rounded-xl transition shadow-[0_0_20px_rgba(79,70,229,0.3)] shadow-indigo-600/20 flex py-4 justify-center",children:"Commit to Database"})})]});return f.jsx("div",{className:"fixed inset-0 z-[60] flex items-end justify-center bg-black/95 backdrop-blur-xl sm:p-4 animate-in fade-in duration-200",children:f.jsxs("div",{className:"w-full h-full pb-20 sm:pb-0 sm:h-auto sm:max-h-[90vh] sm:max-w-md bg-zinc-950 sm:rounded-3xl sm:border border-zinc-800 shadow-2xl overflow-y-auto overflow-x-hidden flex flex-col relative animate-in slide-in-from-bottom-full sm:slide-in-from-bottom-10 sm:zoom-in-95 duration-500 cubic-bezier(0.16, 1, 0.3, 1)",children:[f.jsx("div",{className:"flex justify-end p-4 sticky top-0 bg-gradient-to-b from-zinc-950 to-transparent z-10",children:f.jsx("button",{onClick:t,className:"w-10 h-10 rounded-full bg-zinc-900 border border-zinc-800 flex items-center justify-center hover:bg-zinc-800 text-zinc-400 transition-colors",children:f.jsx(ca,{className:"w-5 h-5"})})}),f.jsx("div",{className:"px-6 pb-10 flex-1 flex flex-col justify-center min-h-[500px]",children:f.jsxs(es,{mode:"wait",children:[c==="TYPE"&&f.jsx(Nt.div,{children:v()},"TYPE"),c==="SUBTYPE"&&f.jsx(Nt.div,{children:b()},"SUBTYPE"),c==="DETAILS"&&f.jsx(Nt.div,{children:x()},"DETAILS"),c==="TIMING"&&f.jsx(Nt.div,{children:S()},"TIMING")]})})]})})}function zA({isOpen:i,onClose:t,activity:s,onEdit:r,onDelete:o}){const[c,d]=$.useState(null);if(!i||!s)return null;const m=s.completed,p=Hh(s.type),g=p.replace("border-","").replace("-500","");return f.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-in fade-in duration-200",children:f.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-2xl w-full max-w-md shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[f.jsxs("div",{className:`p-6 border-b border-zinc-800/50 ${m?`bg-${g}-900/10`:"bg-zinc-900"}`,children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{className:"flex items-center gap-2 pr-4",children:[m?f.jsx(ns,{className:`w-5 h-5 text-${g}-500 shrink-0`}):f.jsx("div",{className:`w-5 h-5 rounded-full border-2 ${p} flex items-center justify-center shrink-0`}),f.jsx("h3",{className:"text-xl font-bold text-white tracking-tight leading-none break-words",children:s.activity})]}),f.jsx("button",{onClick:t,className:"p-1 hover:bg-zinc-800 rounded-full transition-colors shrink-0",children:f.jsx(ca,{className:"w-5 h-5 text-zinc-400"})})]}),f.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[f.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-zinc-300 font-mono bg-zinc-800/50 px-2 py-1 rounded-md border border-zinc-700/50",children:[f.jsx(Fy,{className:"w-4 h-4 text-zinc-400"}),s.time_range]}),f.jsx("span",{className:`text-[10px] font-bold uppercase tracking-wider px-2 py-1 rounded border bg-${g}-900/20 text-${g}-400 ${p}/30`,children:s.type})]})]}),f.jsx("div",{className:"p-6 space-y-6 overflow-y-auto",children:s.meta&&Object.keys(s.meta).length>0?f.jsxs("div",{className:"space-y-4",children:[f.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-zinc-500",children:"Additional Details"}),f.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[s.meta.client&&f.jsxs("div",{className:"bg-zinc-800/30 p-3 rounded-xl border border-zinc-800/50 flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 rounded-full bg-zinc-800 flex items-center justify-center shrink-0",children:f.jsx(p1,{className:"w-4 h-4 text-zinc-400"})}),f.jsxs("div",{children:[f.jsx("div",{className:"text-zinc-500 text-[10px] uppercase font-bold mb-0.5",children:"Client"}),f.jsx("div",{className:"text-sm font-bold text-zinc-200",children:s.meta.client})]})]}),s.meta.url&&f.jsxs("div",{className:"bg-zinc-800/30 p-3 rounded-xl border border-zinc-800/50 flex items-center gap-3",children:[f.jsx("div",{className:"w-8 h-8 rounded-full bg-zinc-800 flex items-center justify-center shrink-0",children:f.jsx(J_,{className:"w-4 h-4 text-zinc-400"})}),f.jsxs("div",{className:"overflow-hidden",children:[f.jsx("div",{className:"text-zinc-500 text-[10px] uppercase font-bold mb-0.5",children:"Link"}),f.jsx("a",{href:s.meta.url,target:"_blank",rel:"noopener noreferrer",className:"text-sm font-bold text-indigo-400 truncate block hover:underline",children:s.meta.url})]})]}),Object.entries(s.meta).map(([v,b])=>v==="client"||v==="url"?null:f.jsxs("div",{className:"bg-zinc-800/30 p-3 rounded-xl border border-zinc-800/50",children:[f.jsx("div",{className:"text-zinc-500 text-[10px] uppercase font-bold mb-0.5",children:v}),f.jsx("div",{className:"text-sm text-zinc-300 break-words",children:String(b)})]},v))]})]}):f.jsx("div",{className:"text-center py-6 text-zinc-500 text-sm",children:"No additional metadata for this activity."})}),f.jsx("div",{className:"p-4 border-t border-zinc-800 min-h-[72px] bg-zinc-950 flex flex-col justify-end gap-2 shrink-0 mt-auto",children:c?f.jsxs("div",{className:"bg-zinc-900 border border-zinc-700/50 p-3 rounded-xl mb-2 flex flex-col justify-center animate-in fade-in slide-in-from-bottom-2 duration-200",children:[f.jsx("h5",{className:"text-sm font-bold text-white mb-2 text-center",children:c==="edit"?"Edit Recurring Event":"Delete Recurring Event"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>{c==="edit"?r(s,"single"):o(s.id,"single"),d(null)},className:"flex-1 py-2 rounded-lg bg-zinc-800 hover:bg-zinc-700 text-white transition-colors text-xs font-bold whitespace-nowrap",children:"Only This Event"}),f.jsxs("button",{onClick:()=>{c==="edit"?r(s,"future"):o(s.id,"future"),d(null)},className:`flex-1 flex items-center justify-center gap-1.5 py-2 rounded-lg text-white transition-colors text-xs font-bold whitespace-nowrap 
                                        ${c==="delete"?"bg-rose-600 hover:bg-rose-500":"bg-indigo-600 hover:bg-indigo-500"}`,children:[f.jsx(D_,{className:"w-3.5 h-3.5"})," This & Future"]})]}),f.jsx("button",{onClick:()=>d(null),className:"mt-2 text-xs text-zinc-500 hover:text-white transition-colors",children:"Cancel"})]}):f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsxs("button",{onClick:()=>s.series_id?d("delete"):o(s.id,"single"),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-rose-500 hover:bg-rose-500/10 transition-colors text-sm font-bold",children:[f.jsx(Qy,{className:"w-4 h-4"})," Delete"]}),f.jsxs("button",{onClick:()=>{s.series_id?d("edit"):(t(),r(s,"single"))},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-zinc-800 hover:bg-zinc-700 text-white transition-colors text-sm font-bold border border-zinc-700",children:[f.jsx(Zy,{className:"w-4 h-4"})," Edit"]})]})})]})})}function Hb({isOpen:i,onClose:t,onSave:s,plannedDistance:r}){const[o,c]=$.useState(""),[d,m]=$.useState(""),[p,g]=$.useState("");if($.useEffect(()=>{if(i){const x=r.match(/(\d+\.?\d*)/);x&&c(x[1]),m(""),g("")}},[i,r]),$.useEffect(()=>{const x=parseFloat(o);if(!x||x<=0||!d||!d.includes(":"))return;const S=d.split(":").map(Number).reverse();let w=0;if(S[0]!==void 0&&!isNaN(S[0])&&(w+=S[0]/60),S[1]!==void 0&&!isNaN(S[1])&&(w+=S[1]),S[2]!==void 0&&!isNaN(S[2])&&(w+=S[2]*60),w>0){const T=w/x,O=Math.floor(T),R=Math.round((T-O)*60);O>=0&&R>=0&&R<60&&g(`${O}:${R.toString().padStart(2,"0")}`)}},[o,d]),!i)return null;const v=x=>{x.preventDefault(),s({actual_distance:parseFloat(o)||0,time_taken:d,avg_pace:p})},b=(x,S)=>{let w=x.target.value.replace(/\D/g,"");w.length>6&&(w=w.slice(0,6));let T="";w.length>4?T=`${w.slice(0,w.length-4)}:${w.slice(w.length-4,w.length-2)}:${w.slice(w.length-2)}`:w.length>2?T=`${w.slice(0,w.length-2)}:${w.slice(w.length-2)}`:T=w,S(T)};return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/80 backdrop-blur-sm animate-in fade-in duration-200",children:f.jsxs("div",{className:"bg-zinc-900 border border-emerald-500/30 rounded-2xl w-full max-w-sm shadow-2xl p-6 relative",children:[f.jsx("button",{onClick:t,className:"absolute top-4 right-4 text-zinc-500 hover:text-white transition-colors",children:f.jsx(ca,{className:"w-5 h-5"})}),f.jsxs("div",{className:"mb-6",children:[f.jsxs("h2",{className:"text-xl font-bold text-white flex items-center gap-2",children:[f.jsx(_i,{className:"w-5 h-5 text-emerald-500"}),"Run Complete!"]}),f.jsxs("p",{className:"text-sm text-zinc-400 mt-1",children:["Excellent work. Log your actual stats to track progress against the plan (",r,")."]})]}),f.jsxs("form",{onSubmit:v,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-xs font-bold uppercase text-zinc-500 mb-1.5 ml-1",children:"Actual Distance (km)"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"number",step:"0.01",inputMode:"decimal",value:o,onChange:x=>c(x.target.value),className:"w-full bg-zinc-950 border border-zinc-800 rounded-xl p-3 text-white focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 outline-none transition-all font-mono text-lg",placeholder:"0.00",required:!0}),f.jsx("span",{className:"absolute right-4 top-1/2 -translate-y-1/2 text-zinc-600 font-bold text-sm",children:"KM"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"block text-xs font-bold uppercase text-zinc-500 mb-1.5 ml-1 flex items-center gap-1",children:[f.jsx(Fy,{className:"w-3 h-3"})," Time"]}),f.jsx("input",{type:"text",inputMode:"numeric",value:d,onChange:x=>b(x,m),className:"w-full bg-zinc-950 border border-zinc-800 rounded-xl p-3 text-white focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 outline-none transition-all font-mono text-lg",placeholder:"00:00"})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-xs font-bold uppercase text-zinc-500 mb-1.5 ml-1 flex items-center gap-1",children:[f.jsx(l1,{className:"w-3 h-3"})," Pace"]}),f.jsx("input",{type:"text",inputMode:"numeric",value:p,onChange:x=>b(x,g),className:"w-full bg-zinc-950 border border-zinc-800 rounded-xl p-3 text-white focus:border-emerald-500 focus:ring-1 focus:ring-emerald-500 outline-none transition-all font-mono text-lg",placeholder:"/km"})]})]}),f.jsx("div",{className:"pt-2",children:f.jsxs("button",{type:"submit",className:"w-full bg-emerald-600 hover:bg-emerald-500 text-white font-bold py-3.5 rounded-xl shadow-lg shadow-emerald-900/20 active:scale-95 transition-all flex items-center justify-center gap-2",children:[f.jsx(s1,{className:"w-4 h-4"}),"Save Run"]})})]})]})})}function kA(){const[i,t]=$.useState(new Date),[s,r]=$.useState([]),[o,c]=$.useState([]),[d,m]=$.useState(!0),[p,g]=$.useState("month"),[v,b]=$.useState(!1),[x,S]=$.useState(null),[w,T]=$.useState(null),[O,R]=$.useState(!1),[V,D]=$.useState(null),[Z,X]=$.useState(!1),[Q,J]=$.useState(null),W=async()=>{m(!0);const E=lt(i),{data:{user:A}}=await ie.auth.getUser();if(!A)return;const{data:U,error:H}=await ie.from("events").select("*").eq("user_id",A.id).eq("date",E).order("time_range",{ascending:!0});H&&console.error("Error fetching day schedule:",H);const te=new Date(i.getFullYear(),i.getMonth(),1).toISOString().split("T")[0],ne=new Date(i.getFullYear(),i.getMonth()+1,0).toISOString().split("T")[0],{data:j,error:k}=await ie.from("events").select("id, date, type, activity, is_goal").eq("user_id",A.id).gte("date",te).lte("date",ne);k&&console.error("Error fetching month data:",k),c(j||[]),r((U||[]).sort((M,I)=>M.time_range==="Anytime"?1:I.time_range==="Anytime"?-1:M.time_range.localeCompare(I.time_range))),m(!1)};$.useEffect(()=>{W()},[i,p]),$.useEffect(()=>{const E=()=>g("month");return window.addEventListener("resetCalendarView",E),()=>window.removeEventListener("resetCalendarView",E)},[]);const le=async E=>{var H,te;if(E.type!=="COACHING"&&E.type!=="FITNESS")return;if(!E.completed&&E.type==="FITNESS"&&E.activity.toUpperCase().includes("RUN")){J(E),X(!0);return}const A=!E.completed;r(ne=>ne.map(j=>j.id===E.id?{...j,completed:A}:j)),await ie.from("events").update({completed:A}).eq("id",E.id);const{data:{user:U}}=await ie.auth.getUser();if(A){if(E.type==="COACHING"){const ne=((H=E.meta)==null?void 0:H.client)||"Unknown Client";await ie.from("coaching_sessions").insert({user_id:U==null?void 0:U.id,date:lt(i),client_name:ne,amount:6e3,location:E.location||"Port City",paid:!1})}}else{if(E.type==="COACHING"){const ne=((te=E.meta)==null?void 0:te.client)||"Unknown Client",{data:j}=await ie.from("coaching_sessions").select("id, amount").eq("user_id",U==null?void 0:U.id).eq("date",lt(i)).eq("client_name",ne).order("created_at",{ascending:!1}).limit(1).single();j&&await ie.from("coaching_sessions").delete().eq("id",j.id)}E.type==="FITNESS"&&E.activity.toUpperCase().includes("RUN")&&await ie.from("fitness_logs").update({actual_distance:null,time_taken:null,avg_pace:null}).eq("event_id",E.id).eq("user_id",U==null?void 0:U.id)}},Oe=async E=>{if(!Q)return;r(U=>U.map(H=>H.id===Q.id?{...H,completed:!0}:H)),await ie.from("events").update({completed:!0}).eq("id",Q.id);const{data:{user:A}}=await ie.auth.getUser();await ie.from("fitness_logs").update({actual_distance:E.actual_distance,time_taken:E.time_taken,avg_pace:E.avg_pace}).eq("event_id",Q.id).eq("user_id",A==null?void 0:A.id),X(!1),J(null)},Ge=async E=>{const{data:{user:A}}=await ie.auth.getUser();if(A){if(E.time_range&&E.time_range!=="Anytime"&&E.time_range.includes("-")){const[U,H]=E.time_range.split("-");if(U&&H){const{data:te}=await ie.from("events").select("id, time_range").eq("user_id",A.id).eq("date",E.date);if(te&&te.length>0){const ne=I=>{const[F,ee]=I.split(":").map(Number);return F*60+(ee||0)},j=ne(U),k=ne(H);if(te.some(I=>{if(x&&I.id===x.id||!I.time_range||I.time_range==="Anytime")return!1;const[F,ee]=I.time_range.split("-");if(!F||!ee)return!1;const oe=ne(F),pe=ne(ee);return Math.max(j,oe)<Math.min(k,pe)})&&!window.confirm("This event overlaps with an existing event. Are you sure you want to schedule it?"))return}}}if(x)w==="future"&&x.series_id?await ie.from("events").update({activity:E.activity,time_range:E.time_range,location:E.location,type:E.type,is_priority:E.is_priority,is_goal:E.is_goal,meta:E.meta||{}}).eq("series_id",x.series_id).gte("date",x.date):await ie.from("events").update({activity:E.activity,time_range:E.time_range,location:E.location,type:E.type,is_priority:E.is_priority,is_goal:E.is_goal,meta:E.meta||{}}).eq("id",x.id);else{E.type==="COACHING"&&E.clientName&&(E.meta={client:E.clientName});const U=AA(E,A.id,E.recurrence,E.recurrenceInterval,E.endDate,E.customDays),{data:H,error:te}=await ie.from("events").insert(U).select();if(!te&&H){if(E.type==="FITNESS"){const ne=E.subType||"RUN";if(ne==="RUN"){const j=H.map(k=>{var M,I,F,ee;return{user_id:A.id,event_id:k.id,run_type:((M=E.meta)==null?void 0:M.run_type)||"Easy",zone:((I=E.meta)==null?void 0:I.zone)||"Zone 2",distance_cmd:((F=E.meta)==null?void 0:F.distance_cmd)||null,comments:((ee=E.meta)==null?void 0:ee.comments)||"None"}});await ie.from("fitness_logs").insert(j)}else if(ne==="GYM"){const j=H.map(k=>{var M;return{user_id:A.id,event_id:k.id,workout_type:"Session",comments:((M=E.meta)==null?void 0:M.comments)||"None"}});await ie.from("gym_logs").insert(j)}else if(ne==="CYCLE"){const j=H.map(k=>{var M,I;return{user_id:A.id,event_id:k.id,distance_cmd:((M=E.meta)==null?void 0:M.distance_cmd)||null,comments:((I=E.meta)==null?void 0:I.comments)||"None"}});await ie.from("cycle_logs").insert(j)}else if(ne==="SWIM"){const j=H.map(k=>{var M,I;return{user_id:A.id,event_id:k.id,distance_cmd:((M=E.meta)==null?void 0:M.distance_cmd)||null,comments:((I=E.meta)==null?void 0:I.comments)||"None"}});await ie.from("swim_logs").insert(j)}}if(E.type==="COACHING"&&E.clientName){const ne=H.map(j=>({user_id:A.id,event_id:j.id,client_name:E.clientName,amount:6e3,paid:!1}));await ie.from("coaching_sessions").insert(ne)}}}b(!1),S(null),T(null),W()}},$e=async(E,A="single")=>{if(!confirm(`Are you sure you want to delete this event${A==="future"?" and all future occurrences":""}?`))return;const U=s.find(H=>H.id===E)||o.find(H=>H.id===E);A==="future"&&(U!=null&&U.series_id)?(await ie.from("events").delete().eq("series_id",U.series_id).gte("date",U.date),W()):(await ie.from("events").delete().eq("id",E),r(H=>H.filter(te=>te.id!==E)),c(H=>H.filter(te=>te.id!==E))),R(!1),D(null)},We=E=>{const A=new Date(i);p==="day"?A.setDate(A.getDate()+(E==="next"?1:-1)):A.setMonth(A.getMonth()+(E==="next"?1:-1)),t(A)},et=(E,A)=>{A.offset.x<-100||A.velocity.x<-400?We("next"):(A.offset.x>100||A.velocity.x>400)&&We("prev")};return f.jsxs("div",{className:"pb-48 space-y-4 relative min-h-screen",children:[f.jsx(RA,{isOpen:v,onClose:()=>{b(!1),S(null)},onSave:Ge,initialDate:lt(i),initialData:x}),f.jsx(Hb,{isOpen:Z,onClose:()=>{X(!1),J(null)},onSave:Oe,plannedDistance:(Q==null?void 0:Q.activity)||""}),f.jsxs("div",{className:"sticky top-[60px] md:static md:top-auto z-40 -mx-4 -mt-4 mb-4 md:-mx-0 md:-mt-0 md:mb-6 py-4 px-4 md:p-0 bg-[#0a0a0a]/95 md:bg-transparent backdrop-blur-xl md:backdrop-blur-none border-b border-zinc-800/50 md:border-none shadow-2xl md:shadow-none flex items-center justify-between gap-2",children:[f.jsx("div",{className:"w-10 h-10 shrink-0"}),f.jsxs("div",{className:"flex items-center gap-2 bg-zinc-900/80 border border-zinc-700/50 rounded-full p-1.5 shadow-inner",children:[f.jsx("button",{onClick:()=>We("prev"),className:"p-2 rounded-full hover:bg-zinc-700 text-zinc-400 hover:text-white transition",children:f.jsx(po,{className:"w-5 h-5"})}),f.jsxs("button",{onClick:()=>p==="day"&&g("month"),className:"px-4 text-center min-w-[120px] transition-opacity hover:opacity-80 active:scale-95 cursor-pointer",children:[f.jsx("span",{className:`text-sm font-bold uppercase tracking-wider block leading-none mb-0.5
                            ${lt(i)===lt(new Date)?"text-indigo-400":"text-zinc-200"} `,children:p==="day"?jA(lt(i)):i.toLocaleString("default",{month:"long"})}),f.jsx("span",{className:"text-xs text-zinc-400 font-mono leading-none",children:p==="day"?`${i.getDate()}/${i.getMonth()+1}`:i.getFullYear()})]}),f.jsx("button",{onClick:()=>We("next"),className:"p-2 rounded-full hover:bg-zinc-700 text-zinc-400 hover:text-white transition",children:f.jsx(wo,{className:"w-5 h-5"})})]}),f.jsx("div",{className:"w-10 h-10 shrink-0"})]}),f.jsx("div",{className:"md:hidden",children:p==="day"?f.jsx("div",{className:"overflow-hidden min-h-[50vh]",children:f.jsx(es,{mode:"popLayout",initial:!1,children:f.jsxs(Nt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.15,ease:"easeOut"},drag:"x",dragConstraints:{left:0,right:0},dragElastic:.2,onDragEnd:et,className:`space-y-3 px-1 w-full transition-opacity duration-300 ${d?"opacity-50 pointer-events-none":""}`,children:[s.map(E=>f.jsx(Hy,{block:E,onCheck:le,onClick:()=>{D(E),R(!0)},isOverlapping:(()=>{if(E.time_range==="Anytime")return!1;const[A,U]=E.time_range.split("-");if(!A||!U)return!1;const H=j=>{const[k,M]=j.split(":").map(Number);return k*60+(M||0)},te=H(A),ne=H(U);return s.some(j=>{if(j.id===E.id||j.time_range==="Anytime")return!1;const[k,M]=j.time_range.split("-");if(!k||!M)return!1;const I=H(k),F=H(M);return Math.max(te,I)<Math.min(ne,F)})})()},E.id)),s.length===0&&f.jsx("div",{className:"text-center py-10 text-zinc-500 bg-zinc-900/20 rounded-xl border border-zinc-800 border-dashed m-1",children:"No scheduled blocks."})]},i.toISOString())})}):f.jsx("div",{className:"overflow-hidden min-h-[60vh] flex flex-col",children:f.jsx(es,{mode:"popLayout",initial:!1,children:f.jsxs(Nt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.15,ease:"easeOut"},drag:"x",dragConstraints:{left:0,right:0},dragElastic:.2,onDragEnd:et,className:"space-y-6 flex-1 flex flex-col",children:[f.jsx($y,{currentDate:i,monthData:o,onDateClick:E=>{t(E),g("day")}}),f.jsxs("div",{className:"px-3 pb-8 flex-1 group",children:[f.jsxs("div",{className:"flex items-center justify-between mb-3 pl-2 cursor-pointer transition-colors hover:bg-zinc-900/40 p-1.5 rounded-lg -ml-1.5",onClick:()=>g("day"),children:[f.jsx("h3",{className:"text-zinc-400 font-bold text-[10px] uppercase tracking-widest",children:lt(i)===lt(new Date)?"Today's Focus":"Day Focus"}),f.jsxs("span",{className:"text-[10px] text-zinc-600 group-hover:text-indigo-400 transition-colors flex items-center gap-1",children:["Enter Daily View ",f.jsx(wo,{className:"w-3 h-3"})]})]}),f.jsxs("div",{className:"space-y-2",children:[s.filter(E=>E.is_priority||E.type==="FITNESS").length>0?s.filter(E=>E.is_priority||E.type==="FITNESS").slice(0,3).map(E=>{var A,U;return f.jsxs("div",{onClick:()=>g("day"),className:"flex items-center gap-3 p-2.5 rounded-xl border border-zinc-800/30 bg-zinc-900/30 cursor-pointer hover:bg-zinc-800/50 transition-colors",children:[f.jsx("div",{className:`w-8 h-8 rounded-lg bg-zinc-800/80 flex items-center justify-center shrink-0 shadow-inner ${E.type==="FITNESS"?E.activity.toUpperCase().includes("SWIM")?"text-cyan-400":E.activity.toUpperCase().includes("CYCLE")?"text-orange-400":E.activity.toUpperCase().includes("GYM")?"text-indigo-400":"text-emerald-400":Hh(E.type).replace("border-","text-").replace("-500","-400")}`,children:E.type==="FITNESS"?E.activity.toUpperCase().includes("SWIM")?f.jsx(rh,{className:"w-4 h-4"}):E.activity.toUpperCase().includes("CYCLE")?f.jsx(sh,{className:"w-4 h-4"}):E.activity.toUpperCase().includes("GYM")?f.jsx(aa,{className:"w-4 h-4"}):f.jsx(ah,{className:"w-4 h-4"}):E.type==="COACHING"?f.jsx(wr,{className:"w-4 h-4"}):f.jsx("div",{className:"w-2.5 h-2.5 rounded-full bg-current opacity-50"})}),f.jsx("div",{className:"flex-[0.3] min-w-[50px]",children:f.jsx("span",{className:"text-[11px] font-mono text-zinc-500 block leading-tight",children:E.time_range==="Anytime"?"--:--":E.time_range.split("-")[0]||E.time_range})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h3",{className:"font-bold text-sm text-zinc-300 truncate",children:E.activity}),E.type==="FITNESS"&&(((A=E.meta)==null?void 0:A.run_type)||((U=E.meta)==null?void 0:U.distance_cmd))&&f.jsx("span",{className:"text-[10px] text-zinc-500 block truncate mt-0.5",children:[E.meta.run_type,E.meta.distance_cmd].filter(Boolean).join("  ")}),E.type==="COACHING"&&E.location&&f.jsx("span",{className:"text-[10px] text-zinc-500 block truncate mt-0.5",children:E.location})]})]},E.id+"-mini")}):f.jsxs("div",{onClick:E=>{E.stopPropagation(),S(null),b(!0)},className:"flex flex-col items-center justify-center py-6 bg-zinc-900/20 rounded-xl border border-zinc-800/30 border-dashed gap-3 cursor-pointer hover:bg-zinc-800/40 transition-colors",children:[f.jsx("span",{className:"text-xs text-zinc-600 font-medium",children:s.length>0?"No Priority Focus":"Free Day"}),f.jsxs("button",{className:"px-4 py-2 rounded-lg bg-indigo-500/10 text-indigo-400 border border-indigo-500/20 hover:bg-indigo-500/20 transition-all flex items-center gap-2 text-xs font-bold",children:[f.jsx(ia,{className:"w-3.5 h-3.5"})," Quick Add"]})]}),s.filter(E=>E.is_priority||E.type==="FITNESS").length>0&&s.length>Math.min(s.filter(E=>E.is_priority||E.type==="FITNESS").length,3)?f.jsxs("div",{onClick:()=>g("day"),className:"text-center text-xs text-zinc-500 pt-1 font-medium cursor-pointer hover:text-indigo-400 transition-colors",children:["+",s.length-Math.min(s.filter(E=>E.is_priority||E.type==="FITNESS").length,3)," more scheduled block",s.length-Math.min(s.filter(E=>E.is_priority||E.type==="FITNESS").length,3)>1?"s":""]}):null]})]})]},i.getMonth()+"-"+i.getFullYear())})})}),f.jsxs("div",{className:"hidden md:grid md:grid-cols-12 md:gap-10 items-start",children:[f.jsxs("div",{className:"col-span-7 xl:col-span-7 sticky top-24 space-y-8",children:[f.jsx("div",{className:"bg-zinc-900/50 p-6 rounded-3xl border border-zinc-800/80 shadow-2xl",children:f.jsx($y,{currentDate:i,monthData:o,onDateClick:E=>{t(E)}})}),f.jsxs("button",{onClick:()=>{S(null),b(!0)},className:"w-full py-4 bg-indigo-600 hover:bg-indigo-500 text-white shadow-[0_0_20px_rgba(79,70,229,0.3)] shadow-indigo-600/30 flex items-center justify-center gap-2 transition-all active:scale-95 border border-indigo-500/50 rounded-2xl font-bold",children:[f.jsx(ia,{className:"w-5 h-5"})," Schedule Activity"]})]}),f.jsxs("div",{className:"col-span-5 xl:col-span-5",children:[f.jsx("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-zinc-800/50",children:f.jsx("h2",{className:"text-2xl font-black text-white px-2",children:lt(i)===lt(new Date)?"Today's Objective":i.toLocaleDateString("default",{weekday:"long",month:"long",day:"numeric"})})}),f.jsxs("div",{className:`space-y-3 px-1 w-full transition-opacity duration-300 ${d?"opacity-50 pointer-events-none":""}`,children:[s.map(E=>f.jsx(Hy,{block:E,onCheck:le,onClick:()=>{D(E),R(!0)},isOverlapping:(()=>{if(E.time_range==="Anytime")return!1;const[A,U]=E.time_range.split("-");if(!A||!U)return!1;const H=j=>{const[k,M]=j.split(":").map(Number);return k*60+(M||0)},te=H(A),ne=H(U);return s.some(j=>{if(j.id===E.id||j.time_range==="Anytime")return!1;const[k,M]=j.time_range.split("-");if(!k||!M)return!1;const I=H(k),F=H(M);return Math.max(te,I)<Math.min(ne,F)})})()},E.id+"-desktop")),s.length===0&&f.jsxs("div",{className:"text-center py-16 text-zinc-500 bg-zinc-900/10 rounded-2xl border border-zinc-800/50 border-dashed m-1 flex flex-col items-center justify-center gap-2",children:[f.jsx("span",{className:"text-sm font-medium",children:"Free Slot Horizon"}),f.jsx("span",{className:"text-xs",children:"No scheduled blocks for this day."})]})]})]})]}),(()=>{const E=o.filter(A=>A.is_goal&&new Date(A.date)>=new Date(new Date().setHours(0,0,0,0))).sort((A,U)=>new Date(A.date).getTime()-new Date(U.date).getTime()).filter((A,U,H)=>H.findIndex(te=>te.activity===A.activity)===U).slice(0,2);return E.length===0?null:f.jsxs("div",{className:"fixed bottom-[90px] left-0 right-0 mx-auto max-w-md p-4 bg-zinc-950/95 backdrop-blur-xl border-t border-zinc-900 z-40 shadow-[0_-4px_30px_rgba(0,0,0,0.8)]",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[f.jsx(go,{className:"w-3 h-3 text-rose-500 animate-pulse"}),f.jsx("span",{className:"text-[10px] font-bold text-rose-500 uppercase tracking-widest",children:"Critical Horizon"})]}),f.jsx("div",{className:"grid grid-cols-2 gap-3",children:E.map((A,U)=>f.jsxs("div",{className:"p-2.5 rounded-lg bg-zinc-900/80 border border-zinc-800",children:[f.jsx("span",{className:"text-[10px] text-zinc-400 block mb-0.5 truncate",children:A.activity}),f.jsx("span",{className:`text-sm font-bold block ${U===0?"text-rose-400":"text-amber-400"}`,children:new Date(A.date).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"2-digit"})})]},A.id))})]})})(),p==="day"&&f.jsx("div",{className:"fixed bottom-[100px] left-0 right-0 mx-auto max-w-md pointer-events-none z-50 md:hidden",children:f.jsx("button",{onClick:()=>{S(null),b(!0)},className:"absolute bottom-0 right-6 w-14 h-14 rounded-full bg-indigo-600 hover:bg-indigo-500 text-white shadow-[0_0_20px_rgba(79,70,229,0.3)] shadow-indigo-600/30 flex items-center justify-center transition-all active:scale-95 border border-indigo-500/50 pointer-events-auto",children:f.jsx(ia,{className:"w-6 h-6"})})}),f.jsx(zA,{isOpen:O,onClose:()=>{R(!1),D(null)},activity:V,onEdit:(E,A)=>{R(!1),S(E),T(A),b(!0)},onDelete:$e})]})}function $y({currentDate:i,monthData:t,onDateClick:s}){const r=NA(i),o=EA(i),c=new Date,d=i.getMonth(),m=i.getFullYear(),p=[];for(let g=0;g<o;g++)p.push(f.jsx("div",{className:"h-14"},`empty-${g}`));for(let g=1;g<=r;g++){const v=new Date(m,d,g),b=lt(v),x=t.some(V=>V.date===b&&V.is_goal),S=v.toLocaleDateString()===c.toLocaleDateString(),w=v.toLocaleDateString()===i.toLocaleDateString(),T=t.filter(V=>V.date===b),O=T.some(V=>V.type==="FITNESS"),R=T.some(V=>V.type==="COACHING");p.push(f.jsxs("button",{onClick:()=>s(v),className:`h-14 rounded-lg relative flex flex-col items-center justify-start pt-1 transition-all border
                ${x?"bg-rose-900/20 border-rose-500/50 shadow-[0_0_10px_rgba(244,63,94,0.3)]":S?"bg-indigo-600/20 border-indigo-500":w?"bg-zinc-800 border-zinc-600":"bg-zinc-900/50 border-zinc-800 hover:bg-zinc-800"}`,children:[f.jsx("span",{className:`text-sm font-medium ${x?"text-rose-400 font-bold":S?"text-indigo-400":w?"text-white":"text-zinc-400"}`,children:g}),f.jsxs("div",{className:"flex gap-1 mt-1",children:[x&&f.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-rose-500 animate-pulse shadow-[0_0_5px_rose]"}),O&&f.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500"}),R&&f.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-amber-500"})]})]},g))}return f.jsxs("div",{className:"grid grid-cols-7 gap-2 px-2",children:[["S","M","T","W","T","F","S"].map(g=>f.jsx("div",{className:"text-center text-xs font-bold text-zinc-600 mb-2",children:g},g)),p]})}function Hy({block:i,onCheck:t,onClick:s,isOverlapping:r=!1}){var d,m;const o=i.type==="COACHING"||i.type==="FITNESS";let c="border-l-zinc-500";if(i.type==="FITNESS"){const p=i.activity.toUpperCase();p.includes("SWIM")?c="border-l-cyan-500":p.includes("CYCLE")?c="border-l-orange-500":p.includes("GYM")?c="border-l-indigo-500":c="border-l-emerald-500"}else i.type==="COACHING"?c="border-l-amber-500":i.type==="STUDIES"?c="border-l-blue-500":i.type==="RELIGION"&&(c="border-l-purple-500");return f.jsxs("div",{onClick:s,className:`flex items-center gap-4 p-4 rounded-xl border-y border-r border-zinc-800/50 border-l-[6px] transition-all duration-300 cursor-pointer hover:bg-zinc-800/80 bg-zinc-900/40 
            ${c} ${i.completed?"opacity-40 grayscale":""}`,children:[f.jsx("div",{className:`w-10 h-10 rounded-xl bg-zinc-800 flex items-center justify-center shrink-0 shadow-inner ${i.type==="FITNESS"?i.activity.toUpperCase().includes("SWIM")?"text-cyan-400":i.activity.toUpperCase().includes("CYCLE")?"text-orange-400":i.activity.toUpperCase().includes("GYM")?"text-indigo-400":"text-emerald-400":Hh(i.type).replace("border-","text-").replace("-500","-400")}`,children:i.type==="FITNESS"?i.activity.toUpperCase().includes("SWIM")?f.jsx(rh,{className:"w-5 h-5"}):i.activity.toUpperCase().includes("CYCLE")?f.jsx(sh,{className:"w-5 h-5"}):i.activity.toUpperCase().includes("GYM")?f.jsx(aa,{className:"w-5 h-5"}):f.jsx(ah,{className:"w-5 h-5"}):i.type==="COACHING"?f.jsx(wr,{className:"w-5 h-5"}):f.jsx("div",{className:"w-3 h-3 rounded-full bg-current opacity-50"})}),f.jsx("div",{className:"flex flex-col justify-center min-w-[55px] shrink-0",children:i.time_range==="Anytime"?f.jsx("span",{className:"text-[11px] font-bold tracking-widest text-zinc-400 uppercase",children:"Anytime"}):f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"text-[16px] font-bold text-zinc-100 leading-none",children:i.time_range.split("-")[0]}),i.time_range.includes("-")?f.jsxs("div",{className:"flex items-center gap-1.5 mt-1",children:[f.jsx("span",{className:"text-[12px] font-medium text-zinc-400 leading-none",children:i.time_range.split("-")[1]}),r&&f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-rose-500",title:"Scheduling Conflict"})]}):f.jsx("span",{className:"text-[12px] font-medium text-zinc-400 leading-none mt-1",children:i.type==="FITNESS"?"1h 00m":"30m"})]})}),f.jsxs("div",{className:"flex-1 min-w-0 py-1 pl-2",children:[f.jsx("div",{className:"flex items-center gap-2 mb-0.5",children:f.jsx("h3",{className:"font-bold text-base text-zinc-100 truncate",children:i.activity})}),i.type==="FITNESS"&&(((d=i.meta)==null?void 0:d.run_type)||((m=i.meta)==null?void 0:m.distance_cmd))&&f.jsxs("div",{className:"text-xs font-medium text-zinc-300 flex items-center gap-1.5 truncate",children:[i.meta.run_type&&f.jsx("span",{className:i.activity.toUpperCase().includes("SWIM")?"text-cyan-400":i.activity.toUpperCase().includes("CYCLE")?"text-orange-400":i.activity.toUpperCase().includes("GYM")?"text-indigo-400":"text-emerald-400",children:i.meta.run_type}),i.meta.run_type&&i.meta.distance_cmd&&f.jsx("span",{className:"opacity-40 text-zinc-500",children:""}),i.meta.distance_cmd&&f.jsx("span",{className:"text-zinc-400",children:i.meta.distance_cmd})]}),i.type==="COACHING"&&i.location&&f.jsx("div",{className:"text-xs font-medium text-zinc-400 flex items-center gap-1.5 truncate",children:i.location})]}),o&&f.jsx("button",{onClick:p=>{p.stopPropagation(),t(i)},className:`w-8 h-8 rounded-full border-[2.5px] flex items-center justify-center transition-all z-20 shrink-0 shadow-inner
                    ${i.completed?"bg-green-500 border-green-500 text-white":"border-zinc-500 bg-white/5 hover:border-zinc-300 hover:bg-white/10"}`,children:f.jsx(Ky,{className:`w-5 h-5 text-white ${i.completed?"opacity-100":"opacity-0"}`})})]})}const DA=["Easy","Moderate","Long","Recovery Walk","Surge","Taper","Shakeout","Race","Custom"],MA=["Zone 1","Zone 2","Zone 3","Zone 4","Zone 5"];function UA({isOpen:i,onClose:t,onSave:s,initialData:r}){const[o,c]=$.useState(new Date().toISOString().split("T")[0]),[d,m]=$.useState("Easy"),[p,g]=$.useState("Zone 2"),[v,b]=$.useState(""),[x,S]=$.useState("");if(Iy.useEffect(()=>{i&&r?(c(r.date||new Date().toISOString().split("T")[0]),m(r.run_type||"Easy"),g(r.zone||"Zone 2"),b(r.distance_cmd||""),S(r.comments&&r.comments!=="None"?r.comments:"")):i&&(c(new Date().toISOString().split("T")[0]),m("Easy"),g("Zone 2"),b(""),S(""))},[i,r]),!i)return null;const w=T=>{T.preventDefault();const O={date:o,run_type:d,zone:p,distance_cmd:v,comments:x.trim()||"None"};r!=null&&r.id&&(O.id=r.id),s(O)};return f.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:f.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-2xl p-6 w-full max-w-md shadow-2xl",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h3",{className:"text-xl font-bold text-white tracking-tight",children:"Add Custom Run"}),f.jsx("button",{onClick:t,className:"p-2 hover:bg-zinc-800 rounded-full transition-colors",children:f.jsx(ca,{className:"w-5 h-5 text-zinc-400"})})]}),f.jsxs("form",{onSubmit:w,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Date"}),f.jsx("input",{type:"date",value:o,onChange:T=>c(T.target.value),required:!0,className:"w-full bg-zinc-800 border border-zinc-700 rounded-xl p-3 text-white placeholder-zinc-500 focus:outline-none focus:border-emerald-500 transition-colors"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Run Type"}),f.jsx("select",{value:d,onChange:T=>m(T.target.value),className:"w-full bg-zinc-800 border border-zinc-700 rounded-xl p-3 text-white focus:outline-none focus:border-emerald-500 transition-colors appearance-none",children:DA.map(T=>f.jsx("option",{value:T,children:T},T))})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Target Zone"}),f.jsx("select",{value:p,onChange:T=>g(T.target.value),className:"w-full bg-zinc-800 border border-zinc-700 rounded-xl p-3 text-white focus:outline-none focus:border-emerald-500 transition-colors appearance-none",children:MA.map(T=>f.jsx("option",{value:T,children:T},T))})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Distance / Duration"}),f.jsx("input",{type:"text",value:v,onChange:T=>b(T.target.value),placeholder:"e.g. 5 km or 30 min",required:!0,className:"w-full bg-zinc-800 border border-zinc-700 rounded-xl p-3 text-white placeholder-zinc-500 focus:outline-none focus:border-emerald-500 transition-colors"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-zinc-400 mb-1",children:"Remarks / Comments"}),f.jsx("textarea",{value:x,onChange:T=>S(T.target.value),placeholder:"Enter any specific instructions...",className:"w-full bg-zinc-800 border border-zinc-700 rounded-xl p-3 text-white placeholder-zinc-500 focus:outline-none focus:border-emerald-500 transition-colors min-h-[80px]"})]}),f.jsx("button",{type:"submit",className:"w-full py-4 bg-emerald-600 hover:bg-emerald-500 text-white font-bold rounded-xl shadow-lg transition-colors mt-4",children:"Save Run"})]})]})})}function nh({zone:i}){const[t,s]=$.useState(!1),o={"Zone 1":{desc:"Very Light / Recovery (50-60%)",hr:"93 - 112 bpm",color:"text-blue-400 bg-blue-900/20",border:"border-blue-500/30"},"Zone 2":{desc:"Light / Aerobic Base (60-70%)",hr:"112 - 130 bpm",color:"text-emerald-400 bg-emerald-900/20",border:"border-emerald-500/30"},"Zone 3":{desc:"Moderate / Tempo (70-80%)",hr:"130 - 149 bpm",color:"text-amber-400 bg-amber-900/20",border:"border-amber-500/30"},"Zone 4":{desc:"Hard / Maximum (80-100%)",hr:"149 - 187 bpm",color:"text-rose-400 bg-rose-900/20",border:"border-rose-500/30"},"Zone 5":{desc:"Hard / Maximum (80-100%)",hr:"149 - 187 bpm",color:"text-rose-400 bg-rose-900/20",border:"border-rose-500/30"}}[i]||{desc:"Unknown Zone",hr:"N/A",color:"text-zinc-400 bg-zinc-800",border:"border-zinc-700"};return f.jsxs("div",{className:"relative inline-block",onMouseEnter:()=>s(!0),onMouseLeave:()=>s(!1),children:[f.jsxs("button",{onClick:c=>{c.stopPropagation(),s(!t)},className:`flex items-center gap-1 px-2 py-0.5 rounded-md border text-[10px] font-bold uppercase tracking-wider transition-colors cursor-help ${o.color} ${o.border}`,children:[i,f.jsx(F_,{className:"w-3 h-3 opacity-70"})]}),t&&f.jsxs("div",{className:"absolute z-50 bottom-full left-1/2 -translate-x-1/2 mb-2 w-48 bg-zinc-900 border border-zinc-700 p-3 rounded-xl shadow-2xl pointer-events-none animate-in fade-in zoom-in-95 duration-200",children:[f.jsxs("div",{className:"text-zinc-100 text-xs font-bold mb-1",children:[i," Profile"]}),f.jsx("div",{className:"text-zinc-400 text-[10px] leading-relaxed mb-2",children:o.desc}),f.jsxs("div",{className:"flex items-center justify-between border-t border-zinc-800 pt-2",children:[f.jsx("span",{className:"text-[10px] text-zinc-500 font-medium",children:"Target HR"}),f.jsx("span",{className:"text-xs font-mono font-bold text-white tracking-widest",children:o.hr})]}),f.jsx("div",{className:"absolute top-full left-1/2 -translate-x-1/2 -mt-px border-4 border-transparent border-t-zinc-700"})]})]})}function LA({isOpen:i,onClose:t,run:s,onEdit:r,onDelete:o}){if(!i||!s)return null;const c=s.completed;return f.jsx("div",{className:"fixed inset-0 bg-black/80 backdrop-blur-sm flex items-center justify-center p-4 z-50 animate-in fade-in duration-200",children:f.jsxs("div",{className:"bg-zinc-900 border border-zinc-800 rounded-2xl w-full max-w-md shadow-2xl overflow-hidden flex flex-col max-h-[90vh]",children:[f.jsxs("div",{className:`p-6 border-b border-zinc-800/50 ${c?"bg-emerald-900/10":"bg-zinc-900"}`,children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[c?f.jsx(ns,{className:"w-5 h-5 text-emerald-500"}):f.jsx("div",{className:"w-5 h-5 rounded-full border-2 border-zinc-600 flex items-center justify-center"}),f.jsx("h3",{className:"text-xl font-bold text-white tracking-tight leading-none",children:s.run_type||s.description})]}),f.jsx("button",{onClick:t,className:"p-1 hover:bg-zinc-800 rounded-full transition-colors shrink-0",children:f.jsx(ca,{className:"w-5 h-5 text-zinc-400"})})]}),f.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[f.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-zinc-400 font-mono",children:[f.jsx(xo,{className:"w-4 h-4"}),s.date]}),s.zone&&f.jsx(nh,{zone:s.zone})]})]}),f.jsxs("div",{className:"p-6 space-y-6 overflow-y-auto",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-zinc-500",children:"Planned Target"}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"bg-zinc-800/30 p-4 rounded-xl border border-zinc-800/50",children:[f.jsxs("div",{className:"text-zinc-500 text-xs mb-1 flex items-center gap-1.5",children:[f.jsx(Xy,{className:"w-3.5 h-3.5"})," Distance"]}),f.jsx("div",{className:"text-lg font-bold text-white leading-none",children:s.distance_cmd||"N/A"})]}),f.jsxs("div",{className:"bg-zinc-800/30 p-4 rounded-xl border border-zinc-800/50 flex flex-col justify-center",children:[f.jsxs("div",{className:"text-zinc-500 text-xs mb-1 flex items-center gap-1.5",children:[f.jsx(_i,{className:"w-3.5 h-3.5"})," Phase"]}),f.jsx("div",{className:"text-sm font-bold text-white truncate max-w-[150px]",children:s.phase||"Custom Plan"})]})]}),s.comments&&s.comments!=="None"&&f.jsxs("div",{className:"bg-zinc-800/30 p-4 rounded-xl border border-zinc-800/50",children:[f.jsx("div",{className:"text-zinc-500 text-xs mb-1",children:"Remarks"}),f.jsx("p",{className:"text-sm text-zinc-300 leading-relaxed",children:s.comments})]})]}),c&&f.jsxs("div",{className:"space-y-4 pt-4 border-t border-zinc-800/50",children:[f.jsx("h4",{className:"text-xs font-bold uppercase tracking-widest text-emerald-500/80",children:"Completed Results"}),f.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[f.jsxs("div",{className:"bg-emerald-900/10 p-3 rounded-xl border border-emerald-900/30",children:[f.jsx("div",{className:"text-emerald-500/60 text-[10px] uppercase font-bold mb-1",children:"Actual"}),f.jsxs("div",{className:"text-emerald-400 font-bold whitespace-nowrap",children:[s.actual_distance||"--"," km"]})]}),f.jsxs("div",{className:"bg-emerald-900/10 p-3 rounded-xl border border-emerald-900/30",children:[f.jsx("div",{className:"text-emerald-500/60 text-[10px] uppercase font-bold mb-1",children:"Time"}),f.jsx("div",{className:"text-emerald-400 font-bold whitespace-nowrap",children:s.time_taken||"--:--"})]}),f.jsxs("div",{className:"bg-emerald-900/10 p-3 rounded-xl border border-emerald-900/30",children:[f.jsx("div",{className:"text-emerald-500/60 text-[10px] uppercase font-bold mb-1",children:"Pace"}),f.jsx("div",{className:"text-emerald-400 font-bold whitespace-nowrap",children:s.avg_pace||"--"})]})]})]})]}),f.jsxs("div",{className:"p-4 border-t border-zinc-800 min-h-[72px] bg-zinc-950 flex justify-end gap-2 shrink-0",children:[f.jsxs("button",{onClick:()=>o(s.id,s.event_id),className:"flex items-center gap-2 px-4 py-2 rounded-lg text-rose-500 hover:bg-rose-500/10 transition-colors text-sm font-bold",children:[f.jsx(Qy,{className:"w-4 h-4"})," Delete"]}),f.jsxs("button",{onClick:()=>{t(),r(s)},className:"flex items-center gap-2 px-4 py-2 rounded-lg bg-zinc-800 hover:bg-zinc-700 text-white transition-colors text-sm font-bold border border-zinc-700",children:[f.jsx(Zy,{className:"w-4 h-4"})," Edit"]})]})]})})}function BA(){const[i,t]=$.useState([]),[s,r]=$.useState(!0),[o,c]=$.useState("RUNNING"),[d,m]=$.useState(null),[p,g]=$.useState(!1),[v,b]=$.useState(null),[x,S]=$.useState(!1),[w,T]=$.useState(!1),[O,R]=$.useState(null),[V,D]=$.useState(null);$.useEffect(()=>{(async()=>{const{data:{user:I}}=await ie.auth.getUser();if(!I)return;r(!0);let F="fitness_logs";o==="GYM"&&(F="gym_logs"),o==="CYCLING"&&(F="cycle_logs"),o==="SWIMMING"&&(F="swim_logs");const{data:ee}=await ie.from(F).select("*, events!inner(*)").eq("user_id",I.id);let pe=(ee||[]).map(ke=>{var Ce,ue,xt,tt;return{...ke,date:(Ce=ke.events)==null?void 0:Ce.date,completed:(ue=ke.events)==null?void 0:ue.completed,activity:(xt=ke.events)==null?void 0:xt.activity,description:((tt=ke.events)==null?void 0:tt.activity)||(o==="RUNNING"?ke.run_type:o==="GYM"?ke.workout_type:o==="CYCLING"?ke.route_type:"Swim"),run_type:o==="RUNNING"?ke.run_type:o==="GYM"?"Gym":o==="CYCLING"?"Cycle":"Swim"}}).sort((ke,Ce)=>new Date(ke.date).getTime()-new Date(Ce.date).getTime());t(pe);const we=pe.find(ke=>!ke.completed&&new Date(ke.date)>=new Date(new Date().setHours(0,0,0,0)));we&&m(we.phase),r(!1)})()},[o]);const Z=M=>{if(M.completed){if(!confirm("Mark this run as incomplete? This will clear its actual data."))return;Q(M,!1,null)}else b(M),g(!0)},X=M=>{v&&(Q(v,!0,M),g(!1),b(null))},Q=async(M,I,F)=>{t(ee=>ee.map(oe=>oe.id===M.id?{...oe,completed:I,actual_distance:(F==null?void 0:F.actual_distance)||null,time_taken:(F==null?void 0:F.time_taken)||null,avg_pace:(F==null?void 0:F.avg_pace)||null}:oe)),await ie.from("events").update({completed:I}).eq("id",M.event_id),await ie.from("fitness_logs").update({actual_distance:(F==null?void 0:F.actual_distance)||null,time_taken:(F==null?void 0:F.time_taken)||null,avg_pace:(F==null?void 0:F.avg_pace)||null}).eq("id",M.id)},J=async M=>{const{data:{user:I}}=await ie.auth.getUser();if(!I)return;let F="fitness_logs";if(o==="GYM"&&(F="gym_logs"),o==="CYCLING"&&(F="cycle_logs"),o==="SWIMMING"&&(F="swim_logs"),M.id){await ie.from("events").update({date:M.date,activity:o==="RUNNING"?M.run_type:o==="GYM"?"Gym Session":o==="CYCLING"?"Cycle":"Swim"}).eq("id",M.event_id);const{error:ee}=await ie.from(F).update({...o==="RUNNING"&&{run_type:M.run_type,zone:M.zone},...o==="GYM"&&{workout_type:"Session"},distance_cmd:M.distance_cmd,comments:M.comments}).eq("id",M.id);ee||t(oe=>oe.map(pe=>pe.id===M.id?{...pe,...M,description:o==="RUNNING"?M.run_type:o==="GYM"?"Gym":o==="CYCLING"?"Cycle":"Swim"}:pe).sort((pe,we)=>new Date(pe.date).getTime()-new Date(we.date).getTime()))}else{const{data:ee}=await ie.from("events").insert({user_id:I.id,date:M.date,time_range:"Anytime",activity:o==="RUNNING"?M.run_type:o==="GYM"?"Gym Session":o==="CYCLING"?"Cycle":"Swim",type:"FITNESS",is_priority:!0,completed:!1}).select().single();if(ee){const oe={user_id:I.id,event_id:ee.id,...o==="RUNNING"&&{run_type:M.run_type,zone:M.zone},...o==="GYM"&&{workout_type:"Session"},...o!=="GYM"&&{distance_cmd:M.distance_cmd},comments:M.comments},{data:pe,error:we}=await ie.from(F).insert([oe]).select("*, events(*)");if(!we&&pe&&pe.length>0){const ke=pe.map(Ce=>{var ue,xt,tt,Dt;return{...Ce,date:(ue=Ce.events)==null?void 0:ue.date,completed:(xt=Ce.events)==null?void 0:xt.completed,activity:(tt=Ce.events)==null?void 0:tt.activity,description:((Dt=Ce.events)==null?void 0:Dt.activity)||(o==="RUNNING"?Ce.run_type:o==="GYM"?Ce.workout_type:o==="CYCLING"?Ce.route_type:"Swim")}});t(Ce=>[...Ce,...ke].sort((ue,xt)=>new Date(ue.date).getTime()-new Date(xt.date).getTime()))}}}S(!1),D(null)},W=async(M,I)=>{if(!confirm("Are you sure you want to delete this run?"))return;const{error:F}=await ie.from("events").delete().eq("id",I);F||(t(ee=>ee.filter(oe=>oe.id!==M)),T(!1),R(null))},le=i.find(M=>!M.completed&&new Date(M.date)>=new Date(new Date().setHours(0,0,0,0))),Oe=new Date,Ge=Oe.getMonth(),$e=Oe.getFullYear(),We=Oe.getDay(),et=We===0?6:We-1,E=new Date(Oe);E.setDate(Oe.getDate()-et),E.setHours(0,0,0,0);const A=new Date(E);A.setDate(E.getDate()+6),A.setHours(23,59,59,999);let U=0,H=0,te=0;i.filter(M=>M.completed).forEach(M=>{const I=Number(M.actual_distance)||0;if(I===0)return;U+=I;const F=M.date.split("-"),ee=new Date(Number(F[0]),Number(F[1])-1,Number(F[2]));ee.getMonth()===Ge&&ee.getFullYear()===$e&&(H+=I),ee>=E&&ee<=A&&(te+=I)});const ne=[{id:"RUNNING",icon:ah,label:"Run"},{id:"GYM",icon:aa,label:"Gym"},{id:"SWIMMING",icon:rh,label:"Swim"},{id:"CYCLING",icon:sh,label:"Cycle"}],k={RUNNING:{bgFrom:"from-[#022c22]",borderDark:"border-emerald-900/30",blob1:"bg-emerald-500",blob2:"bg-teal-500",textPrimary:"text-emerald-500",textLight:"text-emerald-400",bgSubtle:"bg-emerald-600/20",hoverBgSubtle:"hover:bg-emerald-600/40",textSoft:"text-emerald-300",borderSoft:"border-emerald-500/20",textMonth:"text-emerald-500/80",bgSolid:"bg-emerald-600",borderSolid:"border-emerald-600",borderLine:"border-emerald-900/60",textMuted:"text-emerald-500/70",pulse:"bg-emerald-400"},SWIMMING:{bgFrom:"from-cyan-950",borderDark:"border-cyan-900/30",blob1:"bg-cyan-500",blob2:"bg-sky-500",textPrimary:"text-cyan-500",textLight:"text-cyan-400",bgSubtle:"bg-cyan-600/20",hoverBgSubtle:"hover:bg-cyan-600/40",textSoft:"text-cyan-300",borderSoft:"border-cyan-500/20",textMonth:"text-cyan-500/80",bgSolid:"bg-cyan-600",borderSolid:"border-cyan-600",borderLine:"border-cyan-900/60",textMuted:"text-cyan-500/70",pulse:"bg-cyan-400"},CYCLING:{bgFrom:"from-orange-950",borderDark:"border-orange-900/30",blob1:"bg-orange-500",blob2:"bg-amber-500",textPrimary:"text-orange-500",textLight:"text-orange-400",bgSubtle:"bg-orange-600/20",hoverBgSubtle:"hover:bg-orange-600/40",textSoft:"text-orange-300",borderSoft:"border-orange-500/20",textMonth:"text-orange-500/80",bgSolid:"bg-orange-600",borderSolid:"border-orange-600",borderLine:"border-orange-900/60",textMuted:"text-orange-500/70",pulse:"bg-orange-400"},GYM:{bgFrom:"from-indigo-950",borderDark:"border-indigo-900/30",blob1:"bg-indigo-500",blob2:"bg-violet-500",textPrimary:"text-indigo-500",textLight:"text-indigo-400",bgSubtle:"bg-indigo-600/20",hoverBgSubtle:"hover:bg-indigo-600/40",textSoft:"text-indigo-300",borderSoft:"border-indigo-500/20",textMonth:"text-indigo-500/80",bgSolid:"bg-indigo-600",borderSolid:"border-indigo-600",borderLine:"border-indigo-900/60",textMuted:"text-indigo-500/70",pulse:"bg-indigo-400"}}[o];return f.jsxs("div",{className:"pb-24 space-y-6",children:[f.jsx(Hb,{isOpen:p,onClose:()=>{g(!1),b(null)},onSave:X,plannedDistance:(v==null?void 0:v.distance_cmd)||""}),f.jsx("div",{className:"flex p-1 bg-zinc-900/80 rounded-xl border border-zinc-800 backdrop-blur-md sticky top-[76px] md:top-8 z-20 shadow-lg gap-1",children:ne.map(M=>{const I=M.id==="SWIMMING"?"text-cyan-400":M.id==="CYCLING"?"text-orange-400":M.id==="GYM"?"text-indigo-400":"text-emerald-400";return f.jsxs("button",{onClick:()=>c(M.id),className:`flex-1 flex items-center justify-center gap-2 py-2.5 rounded-lg text-sm font-bold transition-all
                            ${o===M.id?"bg-zinc-800 text-white shadow-sm":"text-zinc-500 hover:text-zinc-300 hover:bg-zinc-800/50"}`,children:[f.jsx(M.icon,{className:`w-4 h-4 ${o===M.id?I:""}`}),f.jsx("span",{className:"hidden min-[380px]:inline",children:M.label})]},M.id)})}),f.jsx("div",{className:"animate-in fade-in slide-in-from-bottom-4 duration-500 pt-6 md:pt-8",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 lg:gap-8 items-start",children:[f.jsxs("div",{className:"col-span-1 lg:col-span-8 xl:col-span-9 space-y-6 lg:space-y-8",children:[f.jsxs("div",{className:`bg-gradient-to-br ${k.bgFrom} to-black p-5 md:p-8 rounded-3xl border ${k.borderDark} shadow-2xl relative overflow-hidden`,children:[f.jsx("div",{className:`absolute -top-10 -right-10 w-40 md:w-64 h-40 md:h-64 ${k.blob1} rounded-full mix-blend-multiply filter blur-[64px] opacity-20`}),f.jsx("div",{className:`absolute -bottom-10 -left-10 w-40 md:w-64 h-40 md:h-64 ${k.blob2} rounded-full mix-blend-multiply filter blur-[64px] opacity-10`}),f.jsxs("div",{className:"relative z-10 flex flex-col md:flex-row md:items-start justify-between gap-6 mb-8",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-4xl md:text-5xl font-black text-white flex items-baseline gap-1.5 tracking-tighter",children:[U.toFixed(1)," ",f.jsx("span",{className:`${k.textPrimary} text-xl font-bold tracking-normal`,children:"km"})]}),f.jsxs("p",{className:"text-zinc-400 text-xs md:text-sm font-semibold uppercase tracking-widest mt-1 flex items-center gap-1.5",children:[f.jsx(f1,{className:`w-3.5 h-3.5 md:w-4 md:h-4 ${k.textPrimary}`}),"All-Time Distance"]})]}),f.jsxs("div",{className:"flex bg-black/20 p-4 rounded-2xl border border-white/5 gap-6 text-right md:min-w-[240px] justify-between md:justify-end backdrop-blur-sm shadow-inner",children:[f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-zinc-400 text-[10px] md:text-xs uppercase tracking-wider font-bold mb-1",children:"This Month"}),f.jsxs("p",{className:"text-xl md:text-2xl font-bold text-white leading-none",children:[H.toFixed(1),f.jsx("span",{className:"text-xs text-zinc-500 ml-0.5",children:"km"})]})]}),f.jsx("div",{className:"w-px bg-zinc-800/80 my-1"}),f.jsxs("div",{className:"flex-1",children:[f.jsx("p",{className:"text-zinc-400 text-[10px] md:text-xs uppercase tracking-wider font-bold mb-1",children:"This Week"}),f.jsxs("p",{className:"text-xl md:text-2xl font-bold text-white leading-none",children:[te.toFixed(1),f.jsx("span",{className:"text-xs text-zinc-500 ml-0.5",children:"km"})]})]})]})]}),f.jsx("div",{className:"lg:hidden",children:le?f.jsxs("div",{className:"relative z-10 bg-zinc-900/40 p-4 rounded-2xl backdrop-blur-md border border-white/5 shadow-inner",children:[f.jsxs("div",{className:"flex items-center justify-between mb-2",children:[f.jsxs("span",{className:`flex items-center gap-1.5 text-[10px] uppercase ${k.textLight} font-black tracking-widest`,children:[f.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${k.pulse} animate-pulse`}),"Next Session"]}),f.jsx("span",{className:"text-xs font-bold text-zinc-400 bg-zinc-800/80 px-2 py-0.5 rounded-full",children:new Date(le.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})]}),f.jsxs("div",{className:"flex justify-between items-end",children:[f.jsx("div",{className:"flex-1 mr-4",children:f.jsx("h3",{className:"text-lg font-bold text-zinc-100 leading-tight",children:le.description})}),f.jsx("span",{className:`text-sm font-black text-white ${k.bgSubtle} ${k.textSoft} border ${k.borderSoft} px-3 py-1.5 rounded-xl shrink-0`,children:le.distance_cmd})]})]}):f.jsx("div",{className:"relative z-10 bg-zinc-900/40 p-4 rounded-2xl backdrop-blur-md border border-white/5 text-center",children:f.jsx("p",{className:"text-zinc-400 text-sm font-medium",children:"No upcoming sessions. Time to rest!"})})})]}),f.jsxs("div",{className:"hidden lg:block bg-zinc-900/30 p-6 lg:p-8 rounded-3xl border border-zinc-800/50 shadow-xl relative overflow-hidden",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsxs("h3",{className:"text-lg font-bold text-white flex items-center gap-2",children:[f.jsx(_i,{className:`w-5 h-5 ${k.textPrimary}`}),"Performance Analytics"]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("div",{className:"bg-zinc-800/80 px-3 py-1.5 rounded-lg text-xs font-bold text-zinc-400 border border-zinc-700/50 shadow-inner",children:"Weekly Volume"}),f.jsx("div",{className:"bg-zinc-800/40 px-3 py-1.5 rounded-lg text-xs font-bold text-zinc-500 border border-zinc-800/50 cursor-pointer hover:bg-zinc-800/60 transition-colors",children:"Intensity Distribution"})]})]}),f.jsxs("div",{className:"h-56 w-full flex items-end justify-between gap-2 px-2 pb-2 relative mt-4",children:[f.jsx("div",{className:"absolute inset-x-0 bottom-8 border-b border-zinc-700/50 w-full z-0"}),f.jsx("div",{className:"absolute inset-x-0 top-1/2 border-b border-zinc-800/50 w-full z-0"}),f.jsx("div",{className:"absolute inset-x-0 top-4 border-b border-zinc-800/50 w-full z-0"}),f.jsxs("div",{className:"absolute -left-1 flex flex-col justify-between h-[calc(100%-2rem)] top-1 w-6 text-right z-0",children:[f.jsx("span",{className:"text-[9px] text-zinc-600 font-mono",children:"100"}),f.jsx("span",{className:"text-[9px] text-zinc-600 font-mono",children:"50"}),f.jsx("span",{className:"text-[9px] text-zinc-600 font-mono",children:"0"})]}),f.jsx("div",{className:"w-full h-full flex items-end justify-between gap-1.5 pl-8 relative z-10",children:[...Array(12)].map((M,I)=>{const F=[30,45,25,60,80,50,40,75,90,65,55,85];return f.jsxs("div",{className:"flex-1 relative z-10 flex flex-col items-center justify-end h-full",children:[f.jsx("div",{className:`w-full max-w-[32px] rounded-t-lg transition-all duration-300 border-t ${I===11?`${k.bgSolid} ${k.borderSolid} shadow-[0_0_15px_rgba(255,255,255,0.1)]`:"bg-zinc-700/40 border-zinc-600/50 hover:bg-zinc-600/60"}`,style:{height:`${F[I]}%`}}),f.jsxs("span",{className:"text-[9px] text-zinc-500 font-bold mt-3 block",children:["W",I+1]})]},I)})})]})]}),f.jsxs("div",{className:"bg-zinc-900/30 p-2 md:p-6 lg:p-8 rounded-3xl border border-zinc-800/50 shadow-xl",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6 px-2",children:[f.jsxs("h3",{className:"text-lg md:text-xl font-bold text-white flex items-center gap-2",children:[f.jsx(_i,{className:`w-5 h-5 ${k.textPrimary}`}),"Training Log"]}),f.jsxs("button",{onClick:()=>{D(null),S(!0)},className:`lg:hidden flex items-center gap-1.5 ${k.bgSubtle} ${k.hoverBgSubtle} ${k.textLight} px-4 py-2 rounded-xl text-sm font-bold transition-colors shadow-sm border ${k.borderSoft}`,children:[f.jsx(ia,{className:"w-4 h-4"})," Add Slot"]})]}),f.jsx("div",{className:"space-y-4 md:space-y-6",children:(()=>{const M={};return i.forEach(F=>{const ee=F.date.split("-"),oe=Number(ee[0]),pe=Number(ee[1])-1,we=Number(ee[2]),ke=new Date(oe,pe,we),Ce=`${oe}-${String(pe).padStart(2,"0")}`,ue=`${ke.toLocaleString("default",{month:"long"})} ${oe}`;M[Ce]||(M[Ce]={monthDate:new Date(oe,pe,1),monthLabel:ue,weeks:{}});const xt=new Date(oe,pe,1).getDay(),tt=new Date(oe,pe+1,0).getDate();let Dt;xt===0?Dt=8:xt===6?Dt=9:Dt=1+(7-xt),Dt>tt&&(Dt=tt);let wn=1,fa=1,_n=Dt;for(;we>_n;){wn++,fa=_n+1;let ln=fa+6,Sn=tt-ln;ln>=tt||Sn===1||Sn===2?_n=tt:_n=ln}const Kn=`Week ${wn}`;if(!M[Ce].weeks[Kn]){const ln=new Date(oe,pe,fa),Sn=new Date(oe,pe,_n),ma=wt=>`${wt.toLocaleString("default",{month:"short"})} ${wt.getDate()}`,Ho=ln.getTime()===Sn.getTime()?`Week ${wn}  ${ma(ln)}`:`Week ${wn}  ${ma(ln)} - ${ma(Sn)}`;M[Ce].weeks[Kn]={weekNo:wn,weekLabel:Ho,weekKey:Kn,runs:[]}}M[Ce].weeks[Kn].runs.push(F)}),Object.values(M).sort((F,ee)=>F.monthDate.getTime()-ee.monthDate.getTime()).map(F=>{const ee=Object.values(F.weeks).sort((pe,we)=>pe.weekNo-we.weekNo),oe=F.monthLabel;return f.jsxs("div",{className:"space-y-3 pb-4",children:[f.jsx("h4",{className:`${k.textMonth} font-bold uppercase tracking-wider text-xs md:text-sm px-3 md:px-0 pt-2`,children:oe}),ee.map(pe=>{const we=`${oe}-${pe.weekKey}`,ke=d===we,Ce=pe.runs;return f.jsxs("div",{className:"rounded-2xl overflow-hidden border border-zinc-800 bg-zinc-900/20 shadow-sm mx-1 md:mx-0",children:[f.jsxs("button",{onClick:()=>m(ke?null:we),className:`w-full flex items-center justify-between p-4 md:p-5 transition-colors
                                                                    ${ke?"bg-zinc-800/50":"hover:bg-zinc-800/30"}`,children:[f.jsx("span",{className:"font-bold text-zinc-200 uppercase tracking-wider text-xs md:text-sm",children:pe.weekLabel}),f.jsxs("span",{className:"text-xs md:text-sm text-zinc-500 font-mono bg-black/40 px-2 py-0.5 rounded border border-zinc-800",children:[Ce.filter(ue=>ue.completed).length,"/",Ce.length]})]}),ke&&f.jsx("div",{className:"divide-y divide-zinc-800/50",children:Ce.map(ue=>f.jsxs("div",{onClick:()=>{R(ue),T(!0)},className:`group flex items-center p-3 md:p-4 transition-all hover:bg-zinc-800/50 cursor-pointer
                                                                                ${ue.completed?"opacity-50 hover:opacity-100":""}`,children:[f.jsx("button",{onClick:xt=>{xt.stopPropagation(),Z(ue)},className:`w-5 h-5 md:w-6 md:h-6 rounded-full border-2 mr-3 md:mr-5 flex items-center justify-center shrink-0 transition-colors shadow-sm
                                                                                    ${ue.completed?`${k.bgSolid} ${k.borderSolid}`:"border-zinc-600 hover:border-zinc-300"}`,children:ue.completed&&f.jsx(Ky,{className:"w-3 h-3 md:w-4 md:h-4 text-white"})}),f.jsxs("div",{className:"flex-1 min-w-0 py-0.5",children:[f.jsxs("div",{className:"flex items-center gap-2 md:gap-3 mb-2",children:[f.jsx("span",{className:`font-black text-base md:text-lg tracking-tight leading-none ${ue.completed?"text-zinc-500 line-through":"text-zinc-100"} capitalize`,children:(ue.run_type||"RUN").toLowerCase()}),ue.zone&&f.jsx("div",{className:"flex items-center scale-90 md:scale-100 origin-left",children:f.jsx(nh,{zone:ue.zone})}),f.jsx("span",{className:"ml-auto text-[9px] md:text-[10px] text-zinc-500 font-mono tracking-widest bg-zinc-800/40 border border-zinc-700/50 px-2 py-1 rounded uppercase shadow-inner",children:ue.date.slice(5)})]}),f.jsxs("div",{className:`pl-3 border-l-2 flex flex-col gap-1 -ml-0.5 ${ue.completed?"border-zinc-800":k.borderLine}`,children:[ue.distance_cmd&&f.jsx("span",{className:`text-xs md:text-sm font-bold tracking-tight ${ue.completed?"text-zinc-500":k.textPrimary}`,children:ue.distance_cmd}),(ue.description||ue.comments&&ue.comments!=="None")&&f.jsxs("div",{className:`text-[11px] md:text-xs font-semibold tracking-wide ${ue.completed?"text-zinc-600":"text-zinc-400"}`,children:[ue.description&&ue.description!==ue.run_type?ue.description.replace(/^Half Marathon Prep - /,""):ue.comments!=="None"?ue.comments:"",ue.description&&ue.description!==ue.run_type&&ue.comments&&ue.comments!=="None"?`  ${ue.comments}`:""]}),ue.completed&&ue.actual_distance&&f.jsxs("div",{className:`flex items-center flex-wrap gap-2 text-[10px] md:text-xs ${k.textMuted} font-mono mt-1.5 p-2 bg-black/20 rounded-lg border border-zinc-800 inline-flex`,children:[f.jsxs("span",{className:"font-bold text-white",children:["Act: ",ue.actual_distance,"km"]}),f.jsx("span",{className:"opacity-40",children:""}),f.jsx("span",{children:ue.time_taken||"--:--"}),f.jsx("span",{className:"opacity-40",children:""}),f.jsx("span",{children:ue.avg_pace||"--"})]})]})]})]},ue.id))})]},pe.weekKey)})]},oe)})})()}),s&&f.jsx("div",{className:"text-center text-zinc-500 mt-8 py-8 border border-dashed border-zinc-800 rounded-2xl",children:"Initializing Log..."})]})]}),f.jsxs("div",{className:"hidden lg:block lg:col-span-4 xl:col-span-3 sticky top-28 space-y-6",children:[f.jsxs("button",{onClick:()=>{D(null),S(!0)},className:`w-full py-4 ${k.bgSolid} hover:brightness-110 text-white shadow-[0_0_20px_rgba(0,0,0,0.2)] shadow-current/20 flex items-center justify-center gap-2 transition-all active:scale-95 border ${k.borderSolid} rounded-2xl font-bold text-base`,children:[f.jsx(ia,{className:"w-5 h-5"})," Schedule Session"]}),f.jsxs("div",{className:"bg-zinc-900/50 p-6 rounded-3xl border border-zinc-800/80 shadow-2xl",children:[f.jsxs("h3",{className:"text-xs font-bold text-zinc-400 uppercase tracking-widest mb-6 flex items-center gap-2",children:[f.jsx(zo,{className:"w-4 h-4 text-zinc-500"}),"Action Center"]}),le?f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{onClick:()=>{R(le),T(!0)},className:"p-5 rounded-3xl bg-zinc-800/40 border border-zinc-700/50 hover:bg-zinc-800/60 hover:border-zinc-600 transition-all cursor-pointer group shadow-lg overflow-hidden relative",children:[f.jsx("div",{className:`absolute top-0 right-0 w-24 h-24 ${k.bgSolid} rounded-full mix-blend-multiply opacity-10 filter blur-xl group-hover:opacity-20 transition-opacity`}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4",children:[f.jsxs("span",{className:`flex items-center gap-1.5 text-[10px] uppercase ${k.textLight} font-black tracking-widest`,children:[f.jsx("div",{className:`w-1.5 h-1.5 rounded-full ${k.pulse} animate-pulse`}),"Up Next"]}),f.jsx("span",{className:"text-[10px] font-bold text-zinc-400 bg-black/40 px-2.5 py-1 rounded border border-zinc-800/50",children:new Date(le.date).toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"})})]}),f.jsx("h4",{className:"text-xl font-black text-white leading-tight mb-3 group-hover:text-amber-100 transition-colors pr-4",children:le.description}),f.jsxs("div",{className:"flex items-end justify-between",children:[f.jsx("span",{className:`text-sm font-black text-white ${k.bgSubtle} ${k.textSoft} border ${k.borderSoft} px-3 py-1.5 rounded-xl`,children:le.distance_cmd}),le.zone&&f.jsx("div",{className:"scale-90 origin-bottom-right",children:f.jsx(nh,{zone:le.zone})})]})]})]}),f.jsxs("button",{onClick:()=>Z(le),className:"w-full py-4 bg-zinc-800/80 hover:bg-zinc-700 text-white rounded-2xl font-bold text-sm transition-colors border border-zinc-700 hover:border-zinc-500 shadow-xl flex items-center justify-center gap-2 active:scale-95",children:[f.jsx(ns,{className:"w-5 h-5 opacity-70"}),"Mark Completed"]})]}):f.jsxs("div",{className:"text-center py-12 border border-dashed border-zinc-800 rounded-3xl bg-zinc-900/20 text-zinc-500 flex flex-col items-center gap-3",children:[f.jsx("div",{className:"w-12 h-12 rounded-full bg-zinc-800/50 flex items-center justify-center mb-1 border border-zinc-700/50",children:f.jsx(ns,{className:"w-6 h-6 opacity-50 text-emerald-500"})}),f.jsx("span",{className:"text-sm font-bold text-zinc-300",children:"All caught up!"}),f.jsx("span",{className:"text-xs opacity-70 px-4",children:"You have no upcoming sessions scheduled. Time to rest or plan ahead."})]})]})]})]})},o),f.jsx(UA,{isOpen:x,onClose:()=>S(!1),onSave:J,initialData:V}),f.jsx(LA,{isOpen:w,onClose:()=>{T(!1),R(null)},run:O,onEdit:M=>{T(!1),D(M),S(!0)},onDelete:W})]})}function VA(){const[i,t]=$.useState([]),[s,r]=$.useState({}),[o,c]=$.useState(!1),d=async()=>{const{data:{user:x}}=await ie.auth.getUser();if(!x)return;const{data:S}=await ie.from("coaching_sessions").select("*, events!inner(*)").eq("user_id",x.id),w=(S||[]).map(T=>{var O,R,V;return{...T,date:(O=T.events)==null?void 0:O.date,location:T.location||((R=T.events)==null?void 0:R.location)||"Port City",time_range:(V=T.events)==null?void 0:V.time_range}}).sort((T,O)=>new Date(O.date).getTime()-new Date(T.date).getTime());t(w)};$.useEffect(()=>{d()},[]);const m=x=>{r(S=>({...S,[x]:!S[x]}))},p=async(x,S,w)=>{if(!window.confirm(`Are you sure you want to mark ${S.length} sessions as PAID and credit LKR ${w.toLocaleString()} to your Operating Wallet?`))return;c(!0);const{data:{user:T}}=await ie.auth.getUser();if(!T)return;const O=S.map(V=>V.id);await ie.from("coaching_sessions").update({paid:!0}).in("id",O);const{data:R}=await ie.from("user_stats").select("*").eq("user_id",T.id).single();R?await ie.from("user_stats").update({wallet_balance:Number(R.wallet_balance)+w}).eq("user_id",T.id):await ie.from("user_stats").insert({user_id:T.id,wallet_balance:w,wallet_salary:46775,wealth_uni_fund:0}),await ie.from("wallet_history").insert({user_id:T.id,date:lt(new Date),amount:w,description:`Coaching Income: ${x}`,type:"IN"}),await d(),c(!1)},g=i.reduce((x,S)=>x+Number(S.amount),0),v=i.filter(x=>!x.paid).reduce((x,S)=>x+Number(S.amount),0),b={};return i.forEach(x=>{const S=x.date.slice(0,7);b[S]||(b[S]=[]),b[S].push(x)}),f.jsx("div",{className:"pb-24 animate-in fade-in duration-300",children:f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-6 lg:gap-8 items-start",children:[f.jsx("div",{className:"col-span-1 lg:col-span-4 order-1 lg:order-2 sticky top-28 space-y-6",children:f.jsxs("div",{className:"bg-gradient-to-br from-amber-900 to-black p-6 md:p-8 rounded-3xl border border-amber-800/30 shadow-2xl relative overflow-hidden",children:[f.jsxs("div",{className:"relative z-10 flex flex-col sm:flex-row lg:flex-col justify-between items-start sm:items-end lg:items-start gap-4",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-xs md:text-sm text-amber-200/60 uppercase tracking-widest font-bold",children:"Total Coaching Pipeline"}),f.jsxs("div",{className:"text-4xl md:text-5xl font-black text-white mt-1 md:mt-2 tracking-tighter",children:["LKR ",g.toLocaleString()]})]}),f.jsx("div",{className:"text-left sm:text-right lg:text-left mt-2 sm:mt-0 lg:mt-4 w-full",children:f.jsxs("div",{className:"bg-black/20 p-4 rounded-2xl border border-amber-500/10 backdrop-blur-sm relative overflow-hidden",children:[f.jsx("span",{className:"block text-[10px] md:text-xs text-amber-500/80 uppercase tracking-widest font-bold mb-1",children:"Pending Invoice"}),f.jsxs("span",{className:"text-xl md:text-2xl font-mono text-amber-400 font-bold leading-none",children:["LKR ",v.toLocaleString()]})]})})]}),f.jsxs("div",{className:"mt-6 md:mt-8 flex flex-col sm:flex-row lg:flex-col gap-3 relative z-10",children:[f.jsxs("div",{className:"bg-black/40 p-4 border border-amber-900/30 rounded-2xl flex items-center justify-between gap-3 flex-1 backdrop-blur-sm",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-amber-500/10 flex items-center justify-center border border-amber-500/20",children:f.jsx(ns,{className:"w-5 h-5 text-amber-500/80"})}),f.jsx("div",{children:f.jsx("span",{className:"block text-[10px] md:text-xs text-amber-500 uppercase tracking-widest font-bold",children:"Total Sessions"})})]}),f.jsx("span",{className:"text-xl md:text-2xl font-bold text-white leading-none",children:i.length})]}),f.jsxs("div",{className:"bg-black/40 p-4 border border-amber-900/30 rounded-2xl flex items-center justify-between gap-3 flex-1 backdrop-blur-sm",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-emerald-500/10 flex items-center justify-center border border-emerald-500/20",children:f.jsx(_i,{className:"w-5 h-5 text-emerald-500/80"})}),f.jsx("div",{children:f.jsx("span",{className:"block text-[10px] md:text-xs text-emerald-500 uppercase tracking-widest font-bold",children:"Engine Status"})})]}),f.jsxs("span",{className:"text-sm font-bold text-white flex items-center gap-2",children:[f.jsx("span",{className:"w-2 h-2 rounded-full bg-emerald-500 animate-pulse"}),"Active"]})]})]}),f.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-amber-500/10 rounded-full blur-[64px] -mr-32 -mt-32 pointer-events-none"})]})}),f.jsxs("div",{className:"col-span-1 lg:col-span-8 order-2 lg:order-1 space-y-6",children:[f.jsx("div",{className:"flex items-center justify-between px-2 md:px-0",children:f.jsxs("h3",{className:"text-xl md:text-2xl font-bold text-white flex items-center gap-2",children:[f.jsx(Cd,{className:"w-6 h-6 text-amber-500"}),"Monthly Ledgers"]})}),f.jsxs("div",{className:"space-y-4 md:space-y-6",children:[Object.entries(b).sort((x,S)=>S[0].localeCompare(x[0])).map(([x,S])=>{const w=s[x],T=S.filter(D=>!D.paid),O=T.reduce((D,Z)=>D+Number(Z.amount),0),R=S.reduce((D,Z)=>D+Number(Z.amount),0),V={};return S.forEach(D=>{V[D.client_name]=(V[D.client_name]||0)+1}),f.jsxs("div",{className:"bg-zinc-900/40 rounded-2xl md:rounded-3xl overflow-hidden border border-zinc-800 transition-all shadow-xl",children:[f.jsxs("div",{onClick:()=>m(x),className:`p-4 md:p-6 flex justify-between items-center cursor-pointer transition-colors ${w?"bg-zinc-800/50":"hover:bg-zinc-800/30"}`,children:[f.jsxs("div",{className:"flex items-center gap-3 md:gap-4",children:[f.jsx("div",{className:`w-8 h-8 md:w-10 md:h-10 rounded-full border border-zinc-700 flex items-center justify-center transition-transform ${w?"rotate-90 bg-zinc-800":"bg-zinc-900"}`,children:f.jsx(wo,{className:"w-4 h-4 md:w-5 md:h-5 text-zinc-400"})}),f.jsxs("div",{children:[f.jsx("span",{className:"font-bold text-zinc-100 block text-lg md:text-xl",children:new Date(x+"-01").toLocaleString("default",{month:"long",year:"numeric"})}),f.jsxs("span",{className:"text-xs md:text-sm text-zinc-500 font-medium",children:[S.length," total sessions"]})]})]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("span",{className:"text-base md:text-lg font-mono text-zinc-300 block font-bold",children:["LKR ",R.toLocaleString()]}),O>0?f.jsxs("span",{className:"text-[10px] md:text-xs text-rose-400 font-bold uppercase tracking-widest bg-rose-500/10 px-2 py-0.5 rounded border border-rose-500/20 inline-block mt-1",children:["Pending: ",O/1e3,"k"]}):f.jsxs("span",{className:"text-[10px] md:text-xs text-emerald-400 font-bold uppercase tracking-widest flex items-center gap-1 justify-end mt-1",children:[f.jsx(ns,{className:"w-3 h-3 md:w-4 md:h-4"})," Settled"]})]})]}),f.jsx(es,{children:w&&f.jsxs(Nt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"border-t border-zinc-800/50 bg-zinc-900/20",children:[f.jsxs("div",{className:"p-4 md:p-5 flex items-center gap-4 overflow-x-auto no-scrollbar border-b border-zinc-800/50 bg-black/20",children:[f.jsx("div",{className:"text-[10px] md:text-xs text-zinc-500 uppercase font-bold tracking-widest shrink-0 px-2",children:"Client Breakdown"}),Object.entries(V).map(([D,Z])=>f.jsxs("div",{className:"text-xs md:text-sm bg-zinc-800 text-zinc-300 px-3 py-1.5 rounded-lg shrink-0 border border-zinc-700/50 shadow-inner",children:[f.jsx("span",{className:"font-bold",children:D})," ",f.jsxs("span",{className:"text-zinc-500 ml-1",children:["",Z]})]},D))]}),f.jsx("div",{className:"divide-y divide-zinc-800/50",children:S.map(D=>f.jsxs("div",{className:"p-3 pl-6 md:p-5 md:pl-8 flex justify-between items-center hover:bg-zinc-800/30 transition-colors group",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-sm md:text-base font-bold text-zinc-200 group-hover:text-amber-100 transition-colors",children:D.client_name}),f.jsxs("p",{className:"text-xs md:text-sm text-zinc-500 flex items-center gap-1.5 mt-0.5 font-medium",children:[D.date," ",f.jsx("span",{className:"opacity-40",children:""})," ",D.time_range," ",f.jsx("span",{className:"opacity-40",children:""})," ",D.location]})]}),f.jsxs("div",{className:"text-right",children:[f.jsxs("span",{className:"text-sm md:text-base font-mono text-amber-500/90 font-medium block",children:["LKR ",Number(D.amount).toLocaleString()]}),f.jsx("span",{className:`text-[10px] md:text-xs uppercase font-bold tracking-widest flex justify-end mt-1 ${D.paid?"text-emerald-500/50":"text-rose-500/80"}`,children:D.paid?"PAID":"UNPAID"})]})]},D.id))}),T.length>0&&f.jsxs("div",{className:"p-4 md:p-6 bg-amber-950/10 border-t border-amber-900/20",children:[f.jsxs("button",{onClick:()=>p(x,T,O),disabled:o,className:"w-full py-3 md:py-4 bg-emerald-600 hover:bg-emerald-500 disabled:opacity-50 text-white font-bold rounded-xl md:rounded-2xl transition shadow-[0_0_20px_rgba(0,0,0,0.1)] shadow-emerald-500/20 flex items-center justify-center gap-2 active:scale-95 text-base",children:[f.jsx(Cd,{className:"w-5 h-5 md:w-6 md:h-6"}),o?"Processing...":`Mark Month Paid (+ LKR ${O.toLocaleString()})`]}),f.jsx("p",{className:"text-center text-[10px] md:text-xs text-amber-500/60 mt-3 font-medium",children:"Clicking this will instantly push the funds to your Operating Wallet."})]})]})})]},x)}),i.length===0&&f.jsx("div",{className:"text-zinc-500 text-center py-12 md:py-20 border border-dashed border-zinc-800 rounded-3xl bg-zinc-900/20 shadow-inner",children:"No coaching sessions recorded."}),f.jsxs("div",{className:"hidden lg:flex flex-col bg-zinc-900/40 rounded-3xl overflow-hidden border border-zinc-800 shadow-xl p-6 md:p-8 mt-8",children:[f.jsxs("div",{className:"flex items-center justify-between mb-8",children:[f.jsxs("h3",{className:"text-xl font-bold text-white flex items-center gap-2",children:[f.jsx(_i,{className:"w-5 h-5 text-emerald-500"}),"Revenue Trajectory"]}),f.jsxs("div",{className:"bg-zinc-800/60 px-3 py-1.5 rounded-lg text-xs font-bold text-zinc-400 border border-zinc-700/50",children:["YTD Growth: ",f.jsx("span",{className:"text-emerald-400",children:"+14%"})]})]}),f.jsxs("div",{className:"h-48 w-full flex items-end justify-between gap-3 px-2 relative mt-4",children:[f.jsx("div",{className:"absolute inset-x-0 bottom-6 border-b border-zinc-700/50 w-full z-0"}),f.jsx("div",{className:"absolute inset-x-0 top-1/2 border-b border-zinc-800/50 w-full z-0"}),f.jsx("div",{className:"absolute inset-x-0 top-0 border-b border-zinc-800/50 w-full z-0"}),["Jan","Feb","Mar","Apr","May","Jun"].map((x,S)=>{const w=[30,45,60,50,85,40];return f.jsxs("div",{className:"flex-1 relative z-10 flex flex-col items-center justify-end h-full group",children:[f.jsx("div",{className:`w-full max-w-[48px] rounded-t-xl transition-all duration-300 border-t ${S===4?"bg-amber-500/80 border-amber-400 shadow-[0_0_20px_rgba(245,158,11,0.2)]":"bg-zinc-700/30 border-zinc-600/50 group-hover:bg-zinc-600/50"}`,style:{height:`${w[S]}%`}}),f.jsx("span",{className:"text-[10px] text-zinc-500 mt-3 font-bold uppercase tracking-widest block",children:x})]},x)})]})]})]})]})]})})}const mo={"Plan 01":[{amountLkr:549e3,deadline:new Date("2026-09-25T00:00:00Z")},{amountGbp:600,deadline:new Date("2026-09-25T00:00:00Z")}],"Plan 02":[{amountLkr:194e3,deadline:new Date("2026-09-25T00:00:00Z")},{amountGbp:600,deadline:new Date("2026-09-25T00:00:00Z")},{amountLkr:194e3,deadline:new Date("2027-01-25T00:00:00Z")},{amountLkr:194e3,deadline:new Date("2027-03-25T00:00:00Z")}],"Plan 03":[{amountGbp:600,deadline:new Date("2026-09-25T00:00:00Z")},{amountLkr:75e3,deadline:new Date("2026-09-25T00:00:00Z")},{amountLkr:75e3,deadline:new Date("2026-10-25T00:00:00Z")},{amountLkr:75e3,deadline:new Date("2026-11-25T00:00:00Z")},{amountLkr:75e3,deadline:new Date("2026-12-25T00:00:00Z")},{amountLkr:75e3,deadline:new Date("2027-01-25T00:00:00Z")},{amountLkr:75e3,deadline:new Date("2027-02-25T00:00:00Z")},{amountLkr:75e3,deadline:new Date("2027-03-25T00:00:00Z")},{amountLkr:75e3,deadline:new Date("2027-04-25T00:00:00Z")}]};function PA(){var $e,We,et;const[i,t]=$.useState({wallet_balance:0,wallet_salary:46775,wealth_uni_fund:0,wealth_uni_target:8e5,active_uni_plan:"Plan 02"}),[s,r]=$.useState(385),[o,c]=$.useState(0),[d,m]=$.useState(0),[p,g]=$.useState([]),[v,b]=$.useState(!0),[x,S]=$.useState(!1),[w,T]=$.useState(!1),[O,R]=$.useState(!1),V=async()=>{b(!0);const{data:{user:E}}=await ie.auth.getUser();if(!E)return;const{data:A,error:U}=await ie.from("user_stats").select("*").eq("user_id",E.id).single();let H=A;if(!H&&(U==null?void 0:U.code)==="PGRST116"){const{data:I}=await ie.from("user_stats").insert({user_id:E.id,wallet_balance:0,wallet_salary:46775,wealth_uni_fund:0,active_uni_plan:"Plan 02"}).select().single();H=I}H&&t(H);try{const F=await(await fetch("https://open.er-api.com/v6/latest/GBP")).json();F&&F.rates&&F.rates.LKR&&r(F.rates.LKR)}catch{console.error("Exchange API failed, using fallback.")}const te=new Date;te.setDate(te.getDate()-30);const{data:ne}=await ie.from("coaching_sessions").select("amount").eq("user_id",E.id).gte("date",te.toISOString().split("T")[0]),j=(ne||[]).reduce((I,F)=>I+Number(F.amount),0);c(j);const{data:k}=await ie.from("recurring_expenses").select("amount").eq("user_id",E.id);m((k||[]).reduce((I,F)=>I+Number(F.amount),0));const{data:M}=await ie.from("priority_expenses").select("*").eq("user_id",E.id).eq("is_fulfilled",!1).order("target_date",{ascending:!0});M&&g(M),b(!1)};$.useEffect(()=>{V()},[]);const D=E=>{const A=[...mo[E]].sort((j,k)=>j.deadline.getTime()-k.deadline.getTime()),U=new Date,H=A.filter(j=>j.deadline>U);let te=0,ne=0;for(const j of H){const k=j.amountGbp?j.amountGbp*s:j.amountLkr||0;ne+=k;const M=Math.max(0,ne-Number(i.wealth_uni_fund));let F=(j.deadline.getTime()-U.getTime())/(1e3*3600*24)/30.44;F<.5&&(F=.5);const ee=M/F;ee>te&&(te=ee)}return te},Z=D(i.active_uni_plan),X=Number(i.wallet_salary)-Z-d,Q=2e4,J=Math.max(0,Number(i.wallet_balance)-Q),W=Number(i.wallet_salary)+o-d;let le="Plan 03";W>D("Plan 02")+1e4&&(le="Plan 02"),W>D("Plan 01")+1e4&&(le="Plan 01");const Oe=async E=>{t(U=>({...U,active_uni_plan:E}));const{data:{user:A}}=await ie.auth.getUser();A&&await ie.from("user_stats").update({active_uni_plan:E}).eq("user_id",A.id)},Ge=async()=>{const E=Number(i.wallet_balance)-Q;if(E<=0){alert("No funds available above the 20k emergency floor!");return}const A=Number(i.wealth_uni_fund)+E;t(H=>({...H,wallet_balance:Q,wealth_uni_fund:A}));const{data:{user:U}}=await ie.auth.getUser();await ie.from("user_stats").update({wallet_balance:Q,wealth_uni_fund:A}).eq("user_id",U==null?void 0:U.id),await ie.from("wallet_history").insert({user_id:U==null?void 0:U.id,date:lt(new Date),amount:-E,description:"Uni Fund Contribution",type:"OUT"})};return v?f.jsx("div",{className:"text-zinc-500 text-center py-10 animate-pulse",children:"Initializing Financial Engine..."}):f.jsxs("div",{className:"pb-32 px-2 md:px-0 animate-in fade-in duration-500",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 md:gap-6 mb-8",children:[f.jsxs("div",{className:"p-5 md:p-6 rounded-3xl bg-zinc-900 border border-zinc-800 shadow-xl flex flex-col justify-between items-start relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-indigo-500/5 rounded-full blur-3xl"}),f.jsxs("div",{className:"w-full flex justify-between items-start mb-6 relative z-10",children:[f.jsxs("div",{children:[f.jsx("h2",{className:"text-zinc-400 text-[10px] font-bold uppercase tracking-widest mb-1",children:"Operating Wallet"}),f.jsxs("div",{className:"text-3xl font-black text-white italic tracking-tighter",children:["LKR ",Number(i.wallet_balance).toLocaleString()]})]}),f.jsx("button",{onClick:()=>S(!0),className:"p-3 bg-rose-500/10 text-rose-400 border border-rose-500/20 rounded-xl hover:bg-rose-500/20 transition-all shadow-lg shadow-rose-900/20",children:f.jsx(Cd,{className:"w-5 h-5 md:w-6 md:h-6"})})]}),f.jsxs("div",{className:"text-[10px] text-zinc-500 flex items-center gap-1.5 font-medium relative z-10",children:[f.jsx(go,{className:"w-3 h-3 text-amber-500"})," 20k Floor Enforced"]})]}),f.jsxs("div",{className:"p-5 md:p-6 rounded-3xl border border-zinc-800 bg-zinc-900/40 shadow-xl flex flex-col justify-between",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[f.jsx("div",{className:"w-8 h-8 rounded-lg bg-emerald-500/10 flex items-center justify-center border border-emerald-500/20",children:f.jsx(Z_,{className:"w-4 h-4 text-emerald-400"})}),f.jsx("h4",{className:"text-[10px] font-bold uppercase tracking-widest text-emerald-500",children:"Immediate Safe Cache"})]}),f.jsxs("div",{children:[f.jsxs("span",{className:"text-2xl md:text-3xl font-mono text-emerald-400 font-bold tracking-tight block truncate",children:["LKR ",J.toLocaleString()]}),f.jsx("span",{className:"text-[10px] text-zinc-500 mt-1 block",children:"Surplus above emergency floor"})]})]}),f.jsxs("div",{className:`p-5 md:p-6 rounded-3xl border border-zinc-800 ${X<0?"bg-rose-950/20 border-rose-900/30":"bg-zinc-900/40"} shadow-xl flex flex-col justify-between relative overflow-hidden`,children:[f.jsxs("div",{className:"flex items-center gap-2 mb-4 relative z-10",children:[f.jsx("div",{className:`w-8 h-8 rounded-lg ${X<0?"bg-rose-500/10 border-rose-500/20":"bg-amber-500/10 border-amber-500/20"} flex items-center justify-center border`,children:f.jsx(_i,{className:`w-4 h-4 ${X<0?"text-rose-400":"text-amber-400"}`})}),f.jsx("h4",{className:`text-[10px] font-bold uppercase tracking-widest ${X<0?"text-rose-500":"text-amber-500"}`,children:"Monthly Capability"})]}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("span",{className:`text-2xl md:text-3xl font-mono font-bold tracking-tight block truncate ${X<0?"text-rose-400":"text-emerald-400"}`,children:[X<0?"-":"","LKR ",Math.abs(X).toLocaleString(void 0,{maximumFractionDigits:0}),f.jsx("span",{className:"text-sm font-sans font-normal text-zinc-500",children:"/mo"})]}),f.jsx("span",{className:"text-[10px] text-zinc-500 mt-1 block",children:"Expected safe-to-spend target"})]}),X<0&&f.jsx("div",{className:"absolute inset-0 bg-rose-500/5 z-0"})]})]}),X<0&&f.jsxs("div",{className:"mb-8 p-4 bg-rose-950/20 rounded-2xl border border-rose-900/30 flex items-start md:items-center gap-3 shadow-lg shadow-rose-900/10",children:[f.jsx(go,{className:"w-5 h-5 text-rose-500 shrink-0 mt-0.5 md:mt-0"}),f.jsxs("p",{className:"text-xs md:text-sm text-zinc-300",children:["Monthly Capability is negative. You MUST generate ",f.jsxs("strong",{className:"text-rose-400",children:["LKR ",Math.abs(X).toLocaleString(void 0,{maximumFractionDigits:0})]})," in Variable Coaching Income this month to meet ",i.active_uni_plan," deadlines."]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-8 items-start",children:[f.jsx("div",{className:"col-span-1 lg:col-span-7 xl:col-span-8 space-y-6",children:f.jsxs("div",{className:"rounded-3xl bg-zinc-900 border border-zinc-800 overflow-hidden shadow-2xl",children:[f.jsx("div",{className:"p-5 md:p-8 bg-gradient-to-br from-indigo-950/50 to-zinc-900 relative",children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[f.jsx(zo,{className:"w-5 h-5 text-indigo-400"}),f.jsx("h3",{className:"text-xs font-bold text-indigo-300 uppercase tracking-widest",children:"University Fund"})]}),f.jsxs("div",{className:"text-2xl md:text-4xl font-black text-white mt-2 tracking-tighter",children:["LKR ",Number(i.wealth_uni_fund).toLocaleString(void 0,{maximumFractionDigits:0})]})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:()=>R(!0),className:"p-2.5 border border-emerald-500/30 bg-emerald-500/10 text-emerald-400 rounded-xl hover:bg-emerald-500/20 transition-all shadow-lg",title:"Add External Funds / Past Deposits",children:f.jsx(q_,{className:"w-5 h-5 md:w-6 md:h-6"})}),f.jsx("button",{onClick:Ge,className:"p-2.5 border border-indigo-500/30 bg-indigo-500/10 text-indigo-400 rounded-xl hover:bg-indigo-500/20 transition-all shadow-lg",title:"Transfer Operating Surplus",children:f.jsx(N_,{className:"w-5 h-5 md:w-6 md:h-6"})})]})]})}),f.jsxs("div",{className:"p-4 md:p-6 border-t border-zinc-800/50",children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between mb-4 gap-2",children:[f.jsx("span",{className:"text-sm font-bold text-zinc-300",children:"Active Architecture"}),f.jsxs("span",{className:"text-xs text-indigo-400 flex items-center gap-1.5 font-mono bg-indigo-500/10 px-3 py-1.5 rounded-full border border-indigo-500/20",children:[f.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-indigo-400 animate-pulse"}),"GBP Live @ LKR ",s.toFixed(2)]})]}),f.jsx("div",{className:"grid grid-cols-3 gap-2 md:gap-4 mb-6",children:["Plan 01","Plan 02","Plan 03"].map(E=>f.jsxs("button",{onClick:()=>Oe(E),className:`py-3 px-2 rounded-xl text-xs md:text-sm font-bold transition-all flex flex-col items-center justify-center gap-1 border
                                        ${i.active_uni_plan===E?"bg-indigo-600 border-indigo-500 text-white shadow-lg shadow-indigo-600/30":"bg-zinc-800/50 border-zinc-700/50 text-zinc-400 hover:text-zinc-200 hover:bg-zinc-800"}`,children:[E,le===E&&i.active_uni_plan!==E&&f.jsx("span",{className:"text-[9px] md:text-[10px] text-emerald-400 block font-medium",children:"Recommended"})]},E))}),f.jsxs("div",{className:"mb-6 bg-black/40 rounded-2xl overflow-hidden border border-zinc-800/50 shadow-inner",children:[f.jsxs("div",{className:"px-4 py-3 bg-zinc-900 border-b border-zinc-800/50 text-[10px] md:text-xs uppercase font-bold text-zinc-500 tracking-widest flex justify-between",children:[f.jsx("span",{children:"Installment Breakdown"}),f.jsx("span",{children:"Due Date"})]}),f.jsx("div",{className:"divide-y divide-zinc-800/30 max-h-48 overflow-y-auto custom-scrollbar",children:($e=mo[i.active_uni_plan||"Plan 02"])==null?void 0:$e.map((E,A)=>f.jsxs("div",{className:"px-4 py-3 flex justify-between items-center text-xs md:text-sm hover:bg-zinc-900/30 transition-colors",children:[f.jsxs("span",{className:"font-mono text-zinc-300 flex flex-col md:flex-row md:gap-2",children:[E.amountGbp?f.jsxs("span",{children:["",E.amountGbp.toLocaleString()," ",f.jsxs("span",{className:"text-zinc-500 md:hidden",children:[f.jsx("br",{}),"(LKR ",(E.amountGbp*s/1e3).toLocaleString(void 0,{maximumFractionDigits:0}),"k)"]}),f.jsxs("span",{className:"hidden md:inline text-zinc-500",children:["(LKR ",(E.amountGbp*s/1e3).toLocaleString(void 0,{maximumFractionDigits:0}),"k)"]})]}):null,E.amountLkr?f.jsxs("span",{children:["LKR ",(E.amountLkr/1e3).toLocaleString(),"k"]}):null]}),f.jsx("span",{className:`font-mono text-right ${E.deadline<new Date?"text-rose-500 font-bold":"text-zinc-400"}`,children:lt(E.deadline)})]},A))}),f.jsxs("div",{className:"bg-zinc-950/80 p-4 flex justify-between items-center border-t border-zinc-800/50 text-xs md:text-sm",children:[f.jsx("span",{className:"text-zinc-400 font-bold",children:"Total Architecture Cost"}),f.jsxs("span",{className:"font-mono font-bold text-indigo-400 text-sm md:text-base",children:["LKR ",(((We=mo[i.active_uni_plan||"Plan 02"])==null?void 0:We.reduce((E,A)=>E+(A.amountLkr||0)+(A.amountGbp||0)*s,0))||0).toLocaleString(void 0,{maximumFractionDigits:0})]})]}),f.jsxs("div",{className:"bg-[#050505] p-4 flex justify-between items-center border-t border-zinc-900 text-xs md:text-sm",children:[f.jsx("span",{className:"text-zinc-400 font-bold",children:"Remaining Capital Needed"}),f.jsxs("span",{className:"font-mono font-black text-amber-500 text-sm md:text-base",children:["LKR ",Math.max(0,(((et=mo[i.active_uni_plan||"Plan 02"])==null?void 0:et.reduce((E,A)=>E+(A.amountLkr||0)+(A.amountGbp||0)*s,0))||0)-Number(i.wealth_uni_fund)).toLocaleString(void 0,{maximumFractionDigits:0})]})]})]}),f.jsxs("div",{className:"bg-indigo-500/5 rounded-2xl p-5 border border-indigo-500/10 flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-[10px] md:text-xs text-indigo-300 block uppercase tracking-widest font-bold mb-1",children:"Target Monthly Extraction"}),f.jsxs("span",{className:"text-xl md:text-2xl font-mono text-white font-black",children:["LKR ",Z.toLocaleString(void 0,{maximumFractionDigits:0})]})]}),f.jsx(_i,{className:"w-8 h-8 text-indigo-500/30"})]})]})]})}),f.jsxs("div",{className:"col-span-1 lg:col-span-5 xl:col-span-4 mt-8 md:mt-0",children:[f.jsxs("div",{className:"flex items-center justify-between mb-4 px-1",children:[f.jsxs("h3",{className:"text-sm font-bold text-white flex items-center gap-2",children:[f.jsx(ns,{className:"w-4 h-4 text-emerald-400"})," Priority Forecasting"]}),f.jsxs("button",{onClick:()=>T(!0),className:"px-3 py-1.5 md:hidden bg-zinc-900 border border-zinc-800 rounded-lg text-xs text-indigo-400 font-bold flex items-center gap-1.5 hover:bg-zinc-800 transition-colors shadow-sm",children:[f.jsx(eg,{className:"w-3.5 h-3.5"})," Add"]})]}),f.jsxs("div",{className:"space-y-4",children:[p.map(E=>{const A=X>0?E.amount/X:1/0,U=new Date;A!==1/0&&U.setMonth(U.getMonth()+A);const H=U.getTime()>new Date(E.target_date).getTime()||X<=0;return f.jsxs("div",{className:"p-5 rounded-3xl border border-zinc-800 bg-zinc-900 shadow-xl relative overflow-hidden group",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-transparent to-black/20 pointer-events-none"}),f.jsxs("div",{className:"flex flex-col gap-4 relative z-10",children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-zinc-100 text-lg mb-1",children:E.title}),f.jsxs("span",{className:"text-sm font-mono font-bold text-zinc-400 bg-black/30 px-2 py-0.5 rounded-md border border-zinc-800/80",children:["LKR ",E.amount.toLocaleString()]})]}),f.jsxs("div",{className:"text-right flex flex-col items-end",children:[f.jsx("span",{className:"text-[10px] text-zinc-500 uppercase tracking-widest block font-bold mb-0.5",children:"Target"}),f.jsx("span",{className:"text-xs text-zinc-300 font-medium bg-zinc-800/50 px-2 py-1 rounded-md",children:lt(new Date(E.target_date))})]})]}),f.jsxs("div",{className:`p-3 rounded-xl border text-xs flex items-center gap-3 ${H?"bg-rose-950/20 border-rose-900/40 text-rose-300":"bg-emerald-950/20 border-emerald-900/40 text-emerald-300"}`,children:[f.jsx("div",{className:`p-2 rounded-lg shrink-0 ${H?"bg-rose-500/10":"bg-emerald-500/10"}`,children:H?f.jsx(go,{className:"w-4 h-4"}):f.jsx(u1,{className:"w-4 h-4"})}),f.jsxs("div",{children:[f.jsx("strong",{className:"block mb-0.5 font-bold",children:H?"High Risk":"On Track"}),f.jsx("span",{className:"opacity-80 block leading-tight",children:H?"Insufficient monthly cache to reach target. Prevented by strict Uni Plan allocation.":`Projected completion: ${U.toLocaleString("default",{month:"short",year:"numeric"})}`})]})]})]})]},E.id)}),p.length===0&&f.jsxs("div",{className:"text-center py-10 border border-dashed border-zinc-800 bg-zinc-900/20 rounded-3xl text-zinc-500 text-sm font-medium flex flex-col items-center gap-2",children:[f.jsx(eg,{className:"w-8 h-8 opacity-20 mb-2"}),"No priority expenses tracked.",f.jsx("span",{className:"text-xs opacity-70",children:"Add a goal to forecast capability."})]}),f.jsxs("button",{onClick:()=>T(!0),className:"w-full hidden md:flex py-4 mt-2 bg-zinc-900 hover:bg-zinc-800 border-2 border-dashed border-zinc-800 hover:border-indigo-500/50 text-indigo-400 rounded-3xl items-center justify-center transition-all active:scale-95 text-sm font-bold gap-2",children:[f.jsx(ia,{className:"w-5 h-5"})," Add Priority Goal"]})]})]})]}),f.jsx(es,{children:x&&f.jsx(Ad,{onClose:()=>S(!1),title:"Log General Expense",children:f.jsx(qA,{onSave:async(E,A)=>{const{data:{user:U}}=await ie.auth.getUser();if(!U)return;const H=Number(i.wallet_balance)-E;H<Q&&!window.confirm(`Warning: This bridges into your LKR 20,000 emergency floor! You will have LKR ${H.toLocaleString()} left. Proceed?`)||(await ie.from("expenses").insert({user_id:U.id,amount:E,reason:A,date:lt(new Date)}),await ie.from("user_stats").update({wallet_balance:H}).eq("user_id",U.id),await ie.from("wallet_history").insert({user_id:U.id,amount:-E,description:A,date:lt(new Date),type:"OUT"}),t(te=>({...te,wallet_balance:H})),S(!1))}})})}),f.jsx(es,{children:w&&f.jsx(Ad,{onClose:()=>T(!1),title:"Log Priority Goal",children:f.jsx($A,{onSave:async(E,A,U)=>{const{data:{user:H}}=await ie.auth.getUser();if(!H)return;const te=X>0?A/X:1/0,ne=new Date(U),j=new Date,k=(ne.getTime()-j.getTime())/(1e3*3600*24*30.44);if((te>k||X<=0)&&!window.confirm(`RISK: Mathematical override triggered. Saving for this item by ${U} requires LKR ${(A/k).toLocaleString(void 0,{maximumFractionDigits:0})}/mo, which completely destroys your active University Plan architecture. Are you absolutely sure you want to log it?`))return;const{data:M}=await ie.from("priority_expenses").insert({user_id:H.id,title:E,amount:A,target_date:U}).select().single();M&&g(I=>[...I,M]),T(!1)}})})}),f.jsx(es,{children:O&&f.jsx(Ad,{onClose:()=>R(!1),title:"Log External Fund Deposit",children:f.jsx(HA,{onSave:async(E,A,U)=>{const{data:{user:H}}=await ie.auth.getUser();if(!H)return;const te=Number(i.wealth_uni_fund)+E;await ie.from("user_stats").update({wealth_uni_fund:te}).eq("user_id",H.id),await ie.from("wallet_history").insert({user_id:H.id,amount:E,description:`Uni Fund Direct: ${U}`,date:A,type:"FUND_IN"}),t(ne=>({...ne,wealth_uni_fund:te})),R(!1)}})})})]})}function Ad({children:i,title:t,onClose:s}){return f.jsx("div",{className:"fixed inset-0 z-[60] flex items-end justify-center bg-black/80 backdrop-blur-sm sm:p-4",children:f.jsxs(Nt.div,{initial:{y:"100%"},animate:{y:0},exit:{y:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"w-full sm:max-w-md bg-zinc-950 border-t sm:border border-zinc-800 rounded-t-3xl sm:rounded-3xl p-6 shadow-2xl relative",children:[f.jsx("div",{className:"w-12 h-1.5 bg-zinc-800 rounded-full mx-auto mb-6 cursor-pointer",onClick:s}),f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-xl font-bold text-white",children:t}),f.jsx("button",{onClick:s,className:"p-2 bg-zinc-900 border border-zinc-800 rounded-full text-zinc-400 hover:text-white hover:bg-zinc-800 transition-colors shadow-sm",children:f.jsx(ca,{className:"w-5 h-5"})})]}),i]})})}function qA({onSave:i}){const[t,s]=$.useState(""),[r,o]=$.useState("");return f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase block mb-2",children:"Amount (LKR)"}),f.jsx("input",{type:"number",required:!0,value:t,onChange:c=>s(c.target.value),className:"w-full bg-black/50 border border-zinc-800 rounded-xl p-4 text-white focus:border-rose-500 outline-none",placeholder:"0"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase block mb-2",children:"Mandatory Reason"}),f.jsx("input",{type:"text",required:!0,value:r,onChange:c=>o(c.target.value),className:"w-full bg-black/50 border border-zinc-800 rounded-xl p-4 text-white focus:border-rose-500 outline-none",placeholder:"e.g. Uber, Groceries"})]}),f.jsx("button",{onClick:()=>t&&r&&i(Number(t),r),disabled:!t||!r,className:"w-full py-4 mt-2 bg-rose-600 hover:bg-rose-500 disabled:opacity-50 text-white font-bold rounded-xl transition",children:"Deduct from Wallet"})]})}function $A({onSave:i}){const[t,s]=$.useState(""),[r,o]=$.useState(""),[c,d]=$.useState("");return f.jsxs("div",{className:"space-y-4 pb-12",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase block mb-2",children:"Item / Goal"}),f.jsx("input",{type:"text",value:t,onChange:m=>s(m.target.value),className:"w-full bg-black/50 border border-zinc-800 rounded-xl p-4 text-white focus:border-indigo-500 outline-none",placeholder:"e.g. New Macbook"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase block mb-2",children:"Cost (LKR)"}),f.jsx("input",{type:"number",value:r,onChange:m=>o(m.target.value),className:"w-full bg-black/50 border border-zinc-800 rounded-xl p-4 text-white focus:border-indigo-500 outline-none",placeholder:"0"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase block mb-2",children:"Target Date"}),f.jsx("input",{type:"date",value:c,onChange:m=>d(m.target.value),className:"w-full bg-black/50 border border-zinc-800 rounded-xl p-4 text-white [color-scheme:dark] outline-none"})]}),f.jsx("button",{onClick:()=>t&&r&&c&&i(t,Number(r),c),disabled:!t||!r||!c,className:"w-full py-4 mt-2 bg-indigo-600 hover:bg-indigo-500 disabled:opacity-50 text-white font-bold rounded-xl transition",children:"Compute Feasibility Projection"})]})}function HA({onSave:i}){const[t,s]=$.useState(""),[r,o]=$.useState(lt(new Date)),[c,d]=$.useState("");return f.jsxs("div",{className:"space-y-4 pb-12",children:[f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase block mb-2",children:"Amount (LKR)"}),f.jsx("input",{type:"number",required:!0,value:t,onChange:m=>s(m.target.value),className:"w-full bg-black/50 border border-zinc-800 rounded-xl p-4 text-white focus:border-emerald-500 outline-none",placeholder:"0"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase block mb-2",children:"Deposit / Received Date"}),f.jsx("input",{type:"date",required:!0,value:r,onChange:m=>o(m.target.value),className:"w-full bg-black/50 border border-zinc-800 rounded-xl p-4 text-white [color-scheme:dark] outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"text-xs font-bold text-zinc-500 uppercase block mb-2",children:"Source / Description"}),f.jsx("input",{type:"text",value:c,onChange:m=>d(m.target.value),className:"w-full bg-black/50 border border-zinc-800 rounded-xl p-4 text-white focus:border-emerald-500 outline-none",placeholder:"e.g. Past Savings, Family Gift"})]}),f.jsx("button",{onClick:()=>t&&r&&i(Number(t),r,c||"External Transfer"),disabled:!t||!r,className:"w-full py-4 mt-2 bg-emerald-600 hover:bg-emerald-500 disabled:opacity-50 text-white font-bold rounded-xl transition",children:"Add Directly to Fund"})]})}function GA(){const[i,t]=$.useState("daily");return $.useEffect(()=>{window.scrollTo(0,0)},[i]),f.jsx(QT,{children:f.jsxs("div",{className:"min-h-screen bg-[#0a0a0a] text-zinc-100 w-full max-w-md md:max-w-[1440px] mx-auto relative md:shadow-2xl font-sans selection:bg-indigo-500/30 md:flex",children:[f.jsxs("aside",{className:"hidden md:flex flex-col w-64 border-r border-zinc-900 sticky top-0 h-screen p-6 bg-[#0a0a0a]/95 backdrop-blur-xl",children:[f.jsx("div",{className:"mb-10 pl-2",children:f.jsxs("h1",{className:"text-2xl font-black tracking-tighter italic",children:[f.jsx("span",{className:"text-indigo-500",children:"CLO"}),"System"]})}),f.jsxs("nav",{className:"flex-1 space-y-2",children:[f.jsxs("button",{onClick:()=>{i==="daily"&&window.dispatchEvent(new Event("resetCalendarView")),t("daily")},className:`w-full flex items-center gap-3 p-3 rounded-xl transition ${i==="daily"?"bg-indigo-500/10 text-indigo-400":"text-zinc-500 hover:bg-zinc-900 hover:text-zinc-300"}`,children:[f.jsx(xo,{className:"w-5 h-5"}),f.jsx("span",{className:"text-sm font-bold tracking-wide",children:"Command Center"})]}),f.jsxs("button",{onClick:()=>t("fitness"),className:`w-full flex items-center gap-3 p-3 rounded-xl transition ${i==="fitness"?"bg-emerald-500/10 text-emerald-400":"text-zinc-500 hover:bg-zinc-900 hover:text-zinc-300"}`,children:[f.jsx(aa,{className:"w-5 h-5"}),f.jsx("span",{className:"text-sm font-bold tracking-wide",children:"Fitness Center"})]}),f.jsxs("button",{onClick:()=>t("coach"),className:`w-full flex items-center gap-3 p-3 rounded-xl transition ${i==="coach"?"bg-amber-500/10 text-amber-400":"text-zinc-500 hover:bg-zinc-900 hover:text-zinc-300"}`,children:[f.jsx(wr,{className:"w-5 h-5"}),f.jsx("span",{className:"text-sm font-bold tracking-wide",children:"Coach Engine"})]}),f.jsxs("button",{onClick:()=>t("wallet"),className:`w-full flex items-center gap-3 p-3 rounded-xl transition ${i==="wallet"?"bg-indigo-500/10 text-indigo-400":"text-zinc-500 hover:bg-zinc-900 hover:text-zinc-300"}`,children:[f.jsx(tg,{className:"w-5 h-5"}),f.jsx("span",{className:"text-sm font-bold tracking-wide",children:"Wealth Architecture"})]})]}),f.jsxs("div",{className:"mt-auto flex items-center gap-3 p-2 border-t border-zinc-800/50 pt-6",children:[f.jsx("div",{className:"w-10 h-10 rounded-full bg-zinc-800 flex items-center justify-center border border-zinc-700 shrink-0",children:f.jsx("span",{className:"text-sm font-bold text-white",children:"AD"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("span",{className:"text-sm font-bold text-white block truncate",children:"Adeeb Gazzali"}),f.jsx("span",{className:"text-xs text-zinc-500 block",children:"Operator"})]})]})]}),f.jsxs("div",{className:"flex-1 flex flex-col min-w-0 max-w-full",children:[f.jsxs("div",{className:"sticky top-0 z-50 bg-[#0a0a0a]/80 backdrop-blur-md p-4 border-b border-zinc-900 flex justify-between items-center md:hidden",children:[f.jsxs("h1",{className:"text-xl font-black tracking-tighter italic",children:[f.jsx("span",{className:"text-indigo-500",children:"CLO"}),"System"]}),f.jsx("div",{className:"w-8 h-8 rounded-full bg-zinc-800 flex items-center justify-center border border-zinc-700",children:f.jsx("span",{className:"text-xs font-bold text-white",children:"AD"})})]}),f.jsxs("main",{className:"p-4 md:p-8 min-h-[calc(100vh-140px)] md:min-h-screen relative overflow-x-hidden",children:[i==="daily"&&f.jsx(kA,{}),i==="fitness"&&f.jsx(BA,{}),i==="coach"&&f.jsx(VA,{}),i==="wallet"&&f.jsx(PA,{})]}),f.jsxs("nav",{className:"fixed bottom-0 w-full max-w-md bg-[#0a0a0a]/95 border-t border-zinc-800 backdrop-blur-lg pb-safe z-50 md:hidden",children:[f.jsxs("div",{className:"flex justify-around items-center p-2",children:[f.jsxs("button",{onClick:()=>{i==="daily"&&window.dispatchEvent(new Event("resetCalendarView")),t("daily")},className:`flex flex-col items-center p-2 rounded-xl transition ${i==="daily"?"text-indigo-400":"text-zinc-600 hover:text-zinc-400"}`,children:[f.jsx(xo,{className:"w-6 h-6 mb-1"}),f.jsx("span",{className:"text-[10px] font-bold",children:"Calendar"})]}),f.jsxs("button",{onClick:()=>t("fitness"),className:`flex flex-col items-center p-2 rounded-xl transition ${i==="fitness"?"text-emerald-400":"text-zinc-600 hover:text-zinc-400"}`,children:[f.jsx(aa,{className:"w-6 h-6 mb-1"}),f.jsx("span",{className:"text-[10px] font-bold",children:"Fitness"})]}),f.jsxs("button",{onClick:()=>t("coach"),className:`flex flex-col items-center p-2 rounded-xl transition ${i==="coach"?"text-amber-400":"text-zinc-600 hover:text-zinc-400"}`,children:[f.jsx(wr,{className:"w-6 h-6 mb-1"}),f.jsx("span",{className:"text-[10px] font-bold",children:"Coach"})]}),f.jsxs("button",{onClick:()=>t("wallet"),className:`flex flex-col items-center p-2 rounded-xl transition ${i==="wallet"?"text-indigo-400":"text-zinc-600 hover:text-zinc-400"}`,children:[f.jsx(tg,{className:"w-6 h-6 mb-1"}),f.jsx("span",{className:"text-[10px] font-bold",children:"Wallet"})]})]}),f.jsx("div",{className:"h-5 bg-transparent"})," "]})]})]})})}x_.createRoot(document.getElementById("root")).render(f.jsx(Iy.StrictMode,{children:f.jsx(GA,{})}));
